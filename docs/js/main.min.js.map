{"version":3,"sources":["src/js/main.js","../../src/js/app.component.js","../../src/js/location/location.service.js","../../src/js/filter/filter-item.js","../../src/js/filter/filter.service.js","../../src/js/page/page.component.js","../../src/js/environment/environment.js","../../src/js/http/http.service.js","../../src/js/event/event.service.js","../../src/js/channel/channel.service.js","../../src/js/channel/channel-page.component.js","../../src/js/channel/channel.component.js","../../src/js/date/date.pipe.js","../../src/js/dropdown/dropdown.directive.js","../../src/js/dropdown/dropdown-item.directive.js","../../src/js/event/event-date.component.js","../../src/js/event/event-page.component.js","../../src/js/event/event.component.js","../../src/js/forms/control.component.js","../../src/js/forms/errors.component.js","../../src/js/html/html.pipe.js","../../src/js/index/index-page.component.js","../../src/js/image/image.service.js","../../src/js/intersection/intersection.service.js","../../src/js/lazy/lazy.cache.js","../../src/js/lazy/lazy.directive.js","../../src/js/modal/modal.service.js","../../src/js/modal/modal-outlet.component.js","../../src/js/modal/modal.component.js","../../src/js/local-storage/local-storage.service.js","../../src/js/user/user.service.js","../../src/js/register-or-login/register-or-login.component.js","../../node_modules/tiny-relative-date/src/factory.js","../../node_modules/tiny-relative-date/translations/en.js","../../node_modules/tiny-relative-date/src/index.js","../../node_modules/tiny-relative-date/lib/factory.js","../../src/js/relative-date/relative-date.pipe.js","../../src/js/scroll-to/scroll-to.directive.js","../../src/js/download/download.service.js","../../src/js/secure/secure.directive.js","../../src/js/swiper/swiper.directive.js","../../src/js/swiper/swiper-events.directive.js","../../src/js/swiper/swiper-slides.directive.js","../../src/js/swiper/swiper-top-events.directive.js","../../src/js/thron/thron.component.js","../../src/js/gtm/gtm.service.js","../../src/js/video/video.component.js","../../src/js/virtual/virtual.item.js","../../src/js/virtual/virtual.structure.js","../../src/js/youtube/youtube.component.js","../../src/js/app.module.js","../../src/js/main.js"],"names":["global","factory","exports","module","require","define","amd","self","rxcomp","form","rxjs","operators","Swiper","this","rxcompForm","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","_inheritsLoose","subClass","superClass","create","constructor","__proto__","hasOwnProperty","call","AppComponent","_Component","apply","arguments","onInit","getContext","node","classList","remove","Component","meta","selector","LocationService","get","URLSearchParams","window","location","search","set","keyOrValue","value","params","replace","history","pushState","title","document","url","href","split","toString","deserialize","encoded","decode","serialize","encode","decoded","json","atob","JSON","parse","stringify","btoa","FilterMode","FilterItem","filter","change$","BehaviorSubject","mode","placeholder","values","options","unshift","label","assign","_proto","item","match","_this","forEach","getSelectedOption","_this2","find","x","has","getLabel","selectedOption","indexOf","undefined","push","next","index","splice","first","toggle","toggleActive","active","FilterService","initialParams","callback","filters","keys","getParamsCount","reduce","p","c","locationParams","any","items$","items","changes","map","merge","pipe","auditTime","tap","filterItems","updateFilterStates","skipFilter","_this3","filteredItems","option","count","disabled","PageComponent","STATIC","port","host","HttpService","http$","method","data","format","response_","from","fetch","getUrl","headers","Accept","Content-Type","body","then","response","ok","Promise","reject","catchError","error","throwError","getError","get$","query","delete$","post$","put$","patch$","object","statusCode","status","statusMessage","statusText","console","log","Event","creationDate","Date","startDate","endDate","info","started","ended","now","diff","hoursDiff","Math","floor","EventService","detail$","eventId","fake","listing$","fakeListing","top$","upcoming$","subscribe$","of","unsubscribe$","like$","unlike$","mapEvents","events","id","channel","subscribers","random","likes","setMinutes","getMinutes","setHours","getHours","setDate","getDate","getTime","channel_","info_","subscribed","liked","image_","width","height","src","category_","name","event_","type","abstract","picture","picture_","category","product_","magazine_","letters","Array","fill","categoryId","Channel","ChannelService","channels$","channelId","fakeListing_","ChannelPageComponent","_PageComponent","channels","listing","grid","gutter","filterService","tags","features","load$","subscribe","startFilter","pushChanges","combineLatest","takeUntil","setTimeout","toggleGrid","ChannelComponent","toggleSubscribe","flag","toggleLike","inputs","DATE_FORMATS_SPLIT","NUMBER_STRING","R_ISO8601_STR","ALL_COLONS","DatePipe","_Pipe","isNumber","isFinite","padNumber","num","digits","trim","negWrap","neg","substr","dateGetter","size","offset","date","dateStrGetter","shortForm","standAlone","formats","toUpperCase","timeZoneGetter","zone","paddedZone","abs","getFirstThursdayOfYear","year","dayOfWeekOnFirst","getDay","getThursdayThisWeek","datetime","getFullYear","getMonth","weekGetter","firstThurs","result","round","ampmGetter","AMPMS","eraGetter","ERAS","longEraGetter","ERANAMES","jsonStringToDate","string","tzHour","tzMin","parseInt","dateSetter","setUTCFullYear","setFullYear","timeSetter","setUTCHours","h","m","s","ms","parseFloat","timezoneToOffset","timezone","fallback","requestedTimezoneOffset","Number","isNaN","addDateMinutes","minutes","convertTimezoneToLocal","reverse","dateTimezoneOffset","getTimezoneOffset","timezoneOffset","transform_","locale","dateStyle","timeStyle","toLocaleDateString","transform","text","parts","DATETIME_FORMATS","test","exec","concat","slice","pop","formatter","DATE_FORMATS","Pipe","yyyy","yy","y","MMMM","MMM","MM","M","LLLL","dd","d","HH","H","hh","mm","ss","sss","EEEE","EEE","a","Z","ww","w","G","GG","GGG","GGGG","DAY","MONTH","SHORTDAY","SHORTMONTH","fullDate","longDate","medium","mediumDate","mediumTime","short","shortDate","shortTime","DROPDOWN_ID","DropdownDirective","_Directive","trigger","getAttribute","querySelector","opened","onClick","bind","onDocumentClick","openDropdown","closeDropdown","addListeners","dropdown$","add","event","contains","addDocumentListeners","dropped","removeDocumentListeners","getValue","addEventListener","removeListeners","removeEventListener","onDestroy","nextId","dropdown","id_","Directive","outputs","DropdownItemDirective","EventDateMode","to10","EventDateComponent","getMode","live","incoming","past","eventDate","countdown","live$","Subject","interval","MINUTE","SECOND","EventPageComponent","EventComponent","ControlComponent","onChanges","flags","control","ErrorsComponent","_ControlComponent","labels","template","HtmlPipe","n","String","fromCharCode","unescapes","rx","RegExp","join","IndexPageComponent","topEvents","topChannels","upcomingEvents","PATH","UID","ImageService","worker","worker_","Worker","isBlob","postMessage","fromEvent","URL","createObjectURL","blob","finalize","revokeObjectURL","isCors","IntersectionService","observer","observer_","readySubject_","observerSubject_","IntersectionObserver","entries","intersection$","observe","entry","isIntersecting","unobserve","LazyCache","cache","cache_","LazyDirective","input$","distinctUntilChanged","switchMap","input","lazy$","lazy","setAttribute","ModalEvent","ModalResolveEvent","_ModalEvent","ModalRejectEvent","_ModalEvent2","ModalService","open$","modal","getTemplate$","getNode","modal$","events$","div","createElement","innerHTML","firstElementChild","resolve","ModalOutletComponent","modalNode","onRegister","onLogin","modal_","removeChild","appendChild","compile","ModalComponent","parentInstance","close","LocalStorageService","delete","isLocalStorageSupported","localStorage","removeItem","exist","e","setItem","supported","UserService","setUser","user","user$","me$","mapStatic__","register$","payload","update","login$","_this4","logout$","_this5","retrieve$","_this6","action","RegisterOrLoginComponent","preventDefault","view","calculateDelta","translations","relativeDate","justNow","secondsAgo","aMinuteAgo","minutesAgo","anHourAgo","hoursAgo","aDayAgo","daysAgo","aWeekAgo","weeksAgo","aMonthAgo","monthsAgo","aYearAgo","yearsAgo","overAYearAgo","secondsFromNow","aMinuteFromNow","minutesFromNow","anHourFromNow","hoursFromNow","aDayFromNow","daysFromNow","aWeekFromNow","weeksFromNow","aMonthFromNow","monthsFromNow","aYearFromNow","yearsFromNow","overAYearFromNow","delta","day","hour","translate","translatePhrase","timeValue","translation","minute","fn","createCommonjsModule","default","week","month","relativeDateFactory$1","__esModule","RELATIVE_DATE_KEYS","RelativeDatePipe","setLocale","relativeDateFactory","ScrollToDirective","initialFocus","_getContext","expression","outputFunction","makeFunction","scrollTo$","_getContext2","currentTop","to","getBoundingClientRect","top","o","pow","html","gsap","scroll-behavior","ease","Quad","easeOut","overwrite","onUpdate","scrollTo","onComplete","shareReplay","pageYOffset","documentElement","scrollTop","DownloadService","download","fileName","click","a_","style","SecureDirective","tryDownloadHref","SwiperDirective","rxcompId","slidesPerView","spaceBetween","centeredSlides","speed","autoplay","delay","keyboardControl","mousewheelControl","pagination","el","clickable","navigation","nextEl","prevEl","keyboard","enabled","onlyInViewport","init_","onView","swiperInitOrUpdate_","removeListeners_","swiperDestroy_","onBeforePrint","slideToIndex","swiper","slideTo","opacity","on","slideChange","activeIndex","addListeners_","init","swiperDirectiveInit","Power2","element","scope","_opening","destroy","openMore","more","matchMedia","matches","SwiperEventsDirective","_SwiperDirective","loopAdditionalSlides","SwiperSlidesDirective","loop","SwiperTopEventsDirective","breakpoints","768","1024","1440","1920","2440","ThronComponent","THRON","THRONContentExperience","THRONPlayer","media","thron","splitted","controls","hasAttribute","player","muted","displayLinked","noSkin","onReady","onCanPlay","onPlaying","mediaContainer","ready","canPlay","_onPlaying","off","qualities","qualityLevels","highestQuality","currentQuality","complete","play","playing","pause","GtmService","dataLayer","push_","VideoComponent","video","progress","onPlay","onPause","onEnded","onTimeUpdate","togglePlay","paused","video_name","strokeDashoffset","currentTime","duration","playing_","VirtualItem","$key","$value","_Context","even","Context","VirtualMode","VirtualStructure","_Structure","removeAttribute","tokens","getExpressionTokens","virtualFunction","iterable","container","containerWidth","containerHeight","cols","strategy","cachedRects","cachedInstances","cacheNodes","update$","visibleItems","updateView","scroll$","resize$","datas","total","position","highestHeight","getWidth","getGutter","col","left","bottom","rect","getCol","getHeight","intersect","getLeft","cachedNode","offsetHeight","max","removeNode","removeIndex","getCols","updateNode","createNode","clonedNode","cloneNode","context","args","instance","makeInstance","forItemContext","parentNode","top1","bottom1","top2","bottom2","debounceTime","startWith","reset","innerHeight","Error","expressions","virtualExpressions","keyValueMatches","indexExpressions","Structure","YoutubeComponent","MOBILE","onPlayerReady","onPlayerStateChange","onPlayerError","id$","youtubeId","initPlayer","player$","interval$","once$","youtube","destroyPlayer","Player","offsetWidth","videoId","playerVars","disablekb","enablejsapi","fs","modestbranding","playsinline","rel","showinfo","iv_load_policy","listType","onStateChange","mute","playVideo","getCurrentTime","getDuration","stopVideo","youtube$","onYouTubeIframeAPIReady","onYouTubeIframeAPIReady_","script","scripts","querySelectorAll","last","insertBefore","YT","mobilecheck","check","navigator","userAgent","vendor","opera","mobileAndTabletcheck","AppModule","_Module","Module","imports","CoreModule","FormModule","declarations","bootstrap","Browser"],"mappings":"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","file":"docs\\js\\main.min.js","sourcesContent":[null,"import { Component, getContext } from 'rxcomp';\r\n\r\nexport default class AppComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.remove('hidden');\r\n\t}\r\n\r\n\t// onView() { const context = getContext(this); }\r\n\r\n\t// onChanges() {}\r\n\r\n\t// onDestroy() {}\r\n}\r\n\r\nAppComponent.meta = {\r\n\tselector: '[app-component]',\r\n};\r\n","export default class LocationService {\r\n\r\n\tstatic get(key) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\t// console.log('LocationService.get', params);\r\n\t\treturn params.get(key);\r\n\t}\r\n\r\n\tstatic set(keyOrValue, value) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\tif (typeof keyOrValue === 'string') {\r\n\t\t\tparams.set(keyOrValue, value);\r\n\t\t} else {\r\n\t\t\tparams.set(keyOrValue, '');\r\n\t\t}\r\n\t\tthis.replace(params);\r\n\t\t// console.log('LocationService.set', params, keyOrValue, value);\r\n\t}\r\n\r\n\tstatic replace(params) {\r\n\t\tif (window.history && window.history.pushState) {\r\n\t\t\tconst title = document.title;\r\n\t\t\tconst url = `${window.location.href.split('?')[0]}?${params.toString()}`;\r\n\t\t\twindow.history.pushState(params.toString(), title, url);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic deserialize(key) {\r\n\t\tconst encoded = this.get('params');\r\n\t\treturn this.decode(key, encoded);\r\n\t}\r\n\r\n\tstatic serialize(keyOrValue, value) {\r\n\t\tconst params = this.deserialize();\r\n\t\tconst encoded = this.encode(keyOrValue, value, params);\r\n\t\tthis.set('params', encoded);\r\n\t}\r\n\r\n\tstatic decode(key, encoded) {\r\n\t\tlet decoded = null;\r\n\t\tif (encoded) {\r\n\t\t\tconst json = window.atob(encoded);\r\n\t\t\tdecoded = JSON.parse(json);\r\n\t\t}\r\n\t\tif (key && decoded) {\r\n\t\t\tdecoded = decoded[key];\r\n\t\t}\r\n\t\treturn decoded || null;\r\n\t}\r\n\r\n\tstatic encode(keyOrValue, value, params) {\r\n\t\tparams = params || {};\r\n\t\tlet encoded = null;\r\n\t\tif (typeof keyOrValue === 'string') {\r\n\t\t\tparams[keyOrValue] = value;\r\n\t\t} else {\r\n\t\t\tparams = keyOrValue;\r\n\t\t}\r\n\t\tconst json = JSON.stringify(params);\r\n\t\tencoded = window.btoa(json);\r\n\t\treturn encoded;\r\n\t}\r\n\r\n}\r\n","import { BehaviorSubject } from 'rxjs';\r\n\r\nexport const FilterMode = {\r\n\tSELECT: 'select',\r\n\tAND: 'and',\r\n\tOR: 'or',\r\n};\r\n\r\nexport default class FilterItem {\r\n\r\n\tconstructor(filter) {\r\n\t\tthis.change$ = new BehaviorSubject();\r\n\t\tthis.mode = FilterMode.SELECT;\r\n\t\tthis.placeholder = 'Select';\r\n\t\tthis.values = [];\r\n\t\tthis.options = [];\r\n\t\tif (filter) {\r\n\t\t\tif (filter.mode === FilterMode.SELECT) {\r\n\t\t\t\tfilter.options.unshift({\r\n\t\t\t\t\tlabel: filter.placeholder,\r\n\t\t\t\t\tvalues: [],\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tObject.assign(this, filter);\r\n\t\t}\r\n\t}\r\n\r\n\tfilter(item, value) {\r\n\t\treturn true; // item.options.indexOf(value) !== -1;\r\n\t}\r\n\r\n\tmatch(item) {\r\n\t\tlet match;\r\n\t\tif (this.mode === FilterMode.OR) {\r\n\t\t\tmatch = this.values.length ? false : true;\r\n\t\t\tthis.values.forEach(value => {\r\n\t\t\t\tmatch = match || this.filter(item, value);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tmatch = true;\r\n\t\t\tthis.values.forEach(value => {\r\n\t\t\t\tmatch = match && this.filter(item, value);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn match;\r\n\t}\r\n\r\n\tgetSelectedOption() {\r\n\t\treturn this.options.find(x => this.has(x));\r\n\t}\r\n\r\n\tgetLabel() {\r\n\t\tif (this.mode === FilterMode.SELECT) {\r\n\t\t\tconst selectedOption = this.getSelectedOption();\r\n\t\t\treturn selectedOption ? selectedOption.label : this.placeholder;\r\n\t\t} else {\r\n\t\t\treturn this.label;\r\n\t\t}\r\n\t}\r\n\r\n\thas(item) {\r\n\t\treturn this.values.indexOf(item.value) !== -1;\r\n\t}\r\n\r\n\tset(item) {\r\n\t\tif (this.mode === FilterMode.SELECT) {\r\n\t\t\tthis.values = [];\r\n\t\t}\r\n\t\tconst index = this.values.indexOf(item.value);\r\n\t\tif (index === -1) {\r\n\t\t\tif (item.value !== undefined) {\r\n\t\t\t\tthis.values.push(item.value);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.mode === FilterMode.SELECT) {\r\n\t\t\tthis.placeholder = item.label;\r\n\t\t}\r\n\t\t// console.log('FilterItem.set', item);\r\n\t\tthis.change$.next();\r\n\t}\r\n\r\n\tremove(item) {\r\n\t\tconst index = this.values.indexOf(item.value);\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.values.splice(index, 1);\r\n\t\t}\r\n\t\tif (this.mode === FilterMode.SELECT) {\r\n\t\t\tconst first = this.options[0];\r\n\t\t\tthis.placeholder = first.label;\r\n\t\t}\r\n\t\t// console.log('FilterItem.remove', item);\r\n\t\tthis.change$.next();\r\n\t}\r\n\r\n\ttoggle(item) {\r\n\t\tif (this.has(item)) {\r\n\t\t\tthis.remove(item);\r\n\t\t} else {\r\n\t\t\tthis.set(item);\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleActive() {\r\n\t\tthis.active = !this.active;\r\n\t}\r\n\r\n}\r\n","import { merge } from 'rxjs';\r\nimport { auditTime, map, tap } from 'rxjs/operators';\r\nimport LocationService from '../location/location.service';\r\nimport FilterItem from './filter-item';\r\n\r\nexport default class FilterService {\r\n\r\n\tconstructor(options, initialParams, callback) {\r\n\t\tconst filters = {};\r\n\t\tthis.filters = filters;\r\n\t\tif (options) {\r\n\t\t\tObject.keys(options).forEach(key => {\r\n\t\t\t\tconst filter = new FilterItem(options[key]);\r\n\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\tcallback(key, filter);\r\n\t\t\t\t}\r\n\t\t\t\tfilters[key] = filter;\r\n\t\t\t});\r\n\t\t\tthis.deserialize(this.filters, initialParams);\r\n\t\t}\r\n\t}\r\n\r\n\tgetParamsCount(params) {\r\n\t\tif (params) {\r\n\t\t\tconst paramsCount = Object.keys(params).reduce((p, c, i) => {\r\n\t\t\t\tconst values = params[c];\r\n\t\t\t\treturn p + (values ? values.length : 0);\r\n\t\t\t}, 0);\r\n\t\t\treturn paramsCount;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\r\n\tdeserialize(filters, initialParams) {\r\n\t\tlet params;\r\n\t\tif (initialParams && this.getParamsCount(initialParams)) {\r\n\t\t\tparams = initialParams;\r\n\t\t}\r\n\t\tconst locationParams = LocationService.deserialize('filters');\r\n\t\tif (locationParams && this.getParamsCount(locationParams)) {\r\n\t\t\tparams = locationParams;\r\n\t\t}\r\n\t\tif (params) {\r\n\t\t\tObject.keys(filters).forEach(key => {\r\n\t\t\t\tfilters[key].values = params[key] || [];\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn filters;\r\n\t}\r\n\r\n\tserialize(filters) {\r\n\t\tlet params = {};\r\n\t\tlet any = false;\r\n\t\tObject.keys(filters).forEach(x => {\r\n\t\t\tconst filter = filters[x];\r\n\t\t\tif (filter.values && filter.values.length > 0) {\r\n\t\t\t\tparams[x] = filter.values;\r\n\t\t\t\tany = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (!any) {\r\n\t\t\tparams = null;\r\n\t\t}\r\n\t\t// console.log('FilterService.serialize', params);\r\n\t\tLocationService.serialize('filters', params);\r\n\t\treturn params;\r\n\t}\r\n\r\n\titems$(items) {\r\n\t\tconst filters = this.filters;\r\n\t\tconst changes = Object.keys(filters).map(key => filters[key].change$);\r\n\t\treturn merge(...changes).pipe(\r\n\t\t\tauditTime(1),\r\n\t\t\t// tap(() => console.log(filters)),\r\n\t\t\ttap(() => this.serialize(filters)),\r\n\t\t\tmap(() => this.filterItems(items)),\r\n\t\t\ttap(() => this.updateFilterStates(filters, items))\r\n\t\t);\r\n\t}\r\n\r\n\tfilterItems(items, skipFilter) {\r\n\t\tconst filters = Object.keys(this.filters).map((x) => this.filters[x]).filter(x => x.values && x.values.length > 0);\r\n\t\titems = items.filter(item => {\r\n\t\t\tlet has = true;\r\n\t\t\tfilters.forEach(filter => {\r\n\t\t\t\tif (filter !== skipFilter) {\r\n\t\t\t\t\thas = has && filter.match(item);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn has;\r\n\t\t});\r\n\t\treturn items;\r\n\t}\r\n\r\n\tupdateFilterStates(filters, items) {\r\n\t\tObject.keys(filters).forEach(x => {\r\n\t\t\tconst filter = filters[x];\r\n\t\t\tconst filteredItems = this.filterItems(items, filter);\r\n\t\t\tfilter.options.forEach(option => {\r\n\t\t\t\tlet count = 0;\r\n\t\t\t\tif (option.value) {\r\n\t\t\t\t\tlet i = 0;\r\n\t\t\t\t\twhile (i < filteredItems.length) {\r\n\t\t\t\t\t\tconst item = filteredItems[i];\r\n\t\t\t\t\t\tif (filter.filter(item, option.value)) {\r\n\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcount = filteredItems.length;\r\n\t\t\t\t}\r\n\t\t\t\toption.count = count;\r\n\t\t\t\toption.disabled = count === 0;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n}\r\n","import { Component } from 'rxcomp';\n\nexport default class PageComponent extends Component {\n\n\tonInit() {\n\n\t}\n\n}\n\nPageComponent.meta = {\n\tselector: '[page]',\n};\n","export const STATIC = window.location.port === '40333' || window.location.host === 'actarian.github.io';\r\nexport const DEVELOPMENT = ['localhost', '127.0.0.1', '0.0.0.0'].indexOf(window.location.host.split(':')[0]) !== -1;\r\nexport const PRODUCTION = !DEVELOPMENT;\r\nexport const ENV = {\r\n\tSTATIC,\r\n\tDEVELOPMENT,\r\n\tPRODUCTION\r\n};\r\n","import { from, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { STATIC } from '../environment/environment';\r\n\r\nexport default class HttpService {\r\n\r\n\tstatic http$(method, url, data, format = 'json') {\r\n\t\tconst methods = ['POST', 'PUT', 'PATCH'];\r\n\t\tlet response_ = null;\r\n\t\treturn from(fetch(this.getUrl(url, format), {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: {\r\n\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: methods.indexOf(method) !== -1 ? JSON.stringify(data) : undefined\r\n\t\t}).then((response) => {\r\n\t\t\tresponse_ = response;\r\n\t\t\t// console.log(response);\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response[format]();\r\n\t\t\t} else {\r\n\t\t\t\treturn response.json().then(json => {\r\n\t\t\t\t\treturn Promise.reject(json);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})).pipe(\r\n\t\t\tcatchError(error => {\r\n\t\t\t\treturn throwError(this.getError(error, response_));\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic get$(url, data, format) {\r\n\t\tconst query = this.query(data);\r\n\t\treturn this.http$('GET', `${url}${query}`, undefined, format);\r\n\t}\r\n\r\n\tstatic delete$(url) {\r\n\t\treturn this.http$('DELETE', url);\r\n\t}\r\n\r\n\tstatic post$(url, data) {\r\n\t\treturn this.http$('POST', url, data);\r\n\t}\r\n\r\n\tstatic put$(url, data) {\r\n\t\treturn this.http$('PUT', url, data);\r\n\t}\r\n\r\n\tstatic patch$(url, data) {\r\n\t\treturn this.http$('PATCH', url, data);\r\n\t}\r\n\r\n\tstatic query(data) {\r\n\t\treturn ''; // todo\r\n\t}\r\n\r\n\tstatic getUrl(url, format = 'json') {\r\n\t\t// console.log(url);\r\n\t\treturn STATIC && format === 'json' && url.indexOf('/') === 0 ? `.${url}.json` : url;\r\n\t}\r\n\r\n\tstatic getError(object, response) {\r\n\t\tlet error = typeof object === 'object' ? object : {};\r\n\t\tif (!error.statusCode) {\r\n\t\t\terror.statusCode = response ? response.status : 0;\r\n\t\t}\r\n\t\tif (!error.statusMessage) {\r\n\t\t\terror.statusMessage = response ? response.statusText : object;\r\n\t\t}\r\n\t\tconsole.log('HttpService.getError', error, object);\r\n\t\treturn error;\r\n\t}\r\n\r\n}\r\n","import { of } from 'rxjs';\nimport { map, tap } from 'rxjs/operators';\nimport HttpService from '../http/http.service';\n\nexport class Event {\n\n\tget live() {\n\t\treturn this.info.started && !this.info.ended;\n\t}\n\n\tget incoming() {\n\t\tconst now = new Date();\n\t\tconst diff = this.startDate - now;\n\t\tconst hoursDiff = Math.floor(diff / 1000 / 60 / 60);\n\t\treturn !this.info.started && this.startDate > now && hoursDiff < 24;\n\t}\n\n\tget future() {\n\t\tconst now = new Date();\n\t\tconst diff = this.startDate - now;\n\t\tconst hoursDiff = Math.floor(diff / 1000 / 60 / 60);\n\t\treturn !this.info.started && this.startDate > now && hoursDiff >= 24;\n\t}\n\n\tget past() {\n\t\treturn this.info.ended;\n\t}\n\n\tconstructor(data) {\n\t\tif (data) {\n\t\t\tObject.assign(this, data);\n\t\t\tif (this.creationDate) {\n\t\t\t\tthis.creationDate = new Date(this.creationDate);\n\t\t\t}\n\t\t\tif (this.startDate) {\n\t\t\t\tthis.startDate = new Date(this.startDate);\n\t\t\t}\n\t\t\tif (this.endDate) {\n\t\t\t\tthis.endDate = new Date(this.endDate);\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport default class EventService {\n\n\tstatic detail$(eventId) {\n\t\teventId = 1001; // !!!\n\t\treturn HttpService.get$(`/api/event/${eventId}/detail`).pipe(\n\t\t\tmap(x => EventService.fake(new Event(x)))\n\t\t\t// map(x => new Event(x))\n\t\t);\n\t}\n\n\tstatic listing$(eventId) {\n\t\t// return HttpService.get$(`/api/event/${eventId}/listing`);\n\t\treturn EventService.fakeListing(eventId).pipe(\n\t\t\ttap((items) => {\n\t\t\t\t// console.log(JSON.stringify(items));\n\t\t\t})\n\t\t);\n\t}\n\n\tstatic top$() {\n\t\treturn HttpService.get$(`/api/event/evidence`).pipe(\n\t\t\tmap(items => items.map(x => EventService.fake(new Event(x))))\n\t\t\t// map(items => items.map(x => new Event(x)))\n\t\t);\n\t}\n\n\tstatic upcoming$() {\n\t\treturn HttpService.get$(`/api/event/upcoming`).pipe(\n\t\t\t// map(items => items.map(x => EventService.fake(new Event(x))))\n\t\t\tmap(items => items.map(x => new Event(x)))\n\t\t);\n\t}\n\n\tstatic subscribe$(eventId) {\n\t\treturn of(null);\n\t}\n\n\tstatic unsubscribe$(eventId) {\n\t\treturn of(null);\n\t}\n\n\tstatic like$(eventId) {\n\t\treturn of(null);\n\t}\n\n\tstatic unlike$(eventId) {\n\t\treturn of(null);\n\t}\n\n\tstatic mapEvents(events) {\n\t\treturn events ? events.map(x => this.fake(new Event(x))) : [];\n\t}\n\n\tstatic fake(item) {\n\t\t// console.log('EventService.fake', item);\n\t\tconst now = new Date();\n\t\tconst index = item.id % 1000;\n\t\titem.url = `${item.url}?eventId=${item.id}`;\n\t\titem.channel.url = `${item.channel.url}?channelId=${item.channel.id}`;\n\t\titem.info.subscribers = 50 + Math.floor(Math.random() * 200);\n\t\titem.info.likes = 50 + Math.floor(Math.random() * 200);\n\t\tswitch (index) {\n\t\t\tcase 1:\n\t\t\t\titem.startDate = new Date(new Date().setMinutes(now.getMinutes() - 10));\n\t\t\t\titem.endDate = null;\n\t\t\t\titem.info.started = true;\n\t\t\t\titem.info.ended = false;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\titem.startDate = new Date(new Date().setHours(now.getHours() + 2));\n\t\t\t\titem.endDate = null;\n\t\t\t\titem.info.started = false;\n\t\t\t\titem.info.ended = false;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\titem.startDate = new Date(new Date().setHours(now.getHours() - 7));\n\t\t\t\titem.endDate = new Date(new Date().setHours(now.getHours() - 6));\n\t\t\t\titem.info.started = true;\n\t\t\t\titem.info.ended = true;\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\titem.startDate = new Date(new Date().setDate(now.getDate() + 7));\n\t\t\t\titem.endDate = null;\n\t\t\t\titem.info.started = false;\n\t\t\t\titem.info.ended = false;\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\titem.startDate = new Date(new Date().setDate(now.getDate() + 14));\n\t\t\t\titem.endDate = null;\n\t\t\t\titem.info.started = false;\n\t\t\t\titem.info.ended = false;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\titem.startDate = new Date(new Date().setDate(now.getDate() - 14 - Math.floor(Math.random() * 150)));\n\t\t\t\titem.endDate = new Date(new Date(item.startDate.getTime()).setHours(item.startDate.getHours() + 1));\n\t\t\t\titem.info.started = true;\n\t\t\t\titem.info.ended = true;\n\t\t}\n\t\treturn item;\n\t}\n\n\tstatic fakeListing(eventId) {\n\t\teventId = 1001;\n\t\treturn HttpService.get$(`/api/event/${eventId}/detail`).pipe(\n\t\t\tmap(x => {\n\t\t\t\tconst channel_ = new Event(x).channel;\n\t\t\t\tconst info_ = {\n\t\t\t\t\tstarted: false,\n\t\t\t\t\tended: false,\n\t\t\t\t\tsubscribers: 100,\n\t\t\t\t\tsubscribed: false,\n\t\t\t\t\tlikes: 100,\n\t\t\t\t\tliked: false\n\t\t\t\t};\n\t\t\t\tconst image_ = {\n\t\t\t\t\tid: 100000,\n\t\t\t\t\twidth: 700,\n\t\t\t\t\theight: 700,\n\t\t\t\t\tsrc: 'https://source.unsplash.com/random/',\n\t\t\t\t};\n\t\t\t\tconst category_ = {\n\t\t\t\t\tid: 10000,\n\t\t\t\t\tname: 'Category',\n\t\t\t\t\turl: '/ws-events/category.html',\n\t\t\t\t};\n\t\t\t\tconst event_ = {\n\t\t\t\t\tid: 1000,\n\t\t\t\t\ttype: 'event',\n\t\t\t\t\tname: 'Evento',\n\t\t\t\t\ttitle: 'Evento',\n\t\t\t\t\tabstract: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eget dolor tincidunt, lobortis dolor eget, condimentum libero.</p>',\n\t\t\t\t\turl: '/ws-events/event.html',\n\t\t\t\t\tcreationDate: '2020-05-20T08:11:17.827Z',\n\t\t\t\t\tstartDate: '2020-05-20T08:11:17.827Z',\n\t\t\t\t\tpicture: image_,\n\t\t\t\t\tinfo: info_,\n\t\t\t\t\tchannel: channel_,\n\t\t\t\t};\n\t\t\t\tconst picture_ = {\n\t\t\t\t\tid: 1000,\n\t\t\t\t\ttype: 'picture',\n\t\t\t\t\tname: 'Picture',\n\t\t\t\t\ttitle: 'Picture',\n\t\t\t\t\tabstract: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eget dolor tincidunt, lobortis dolor eget, condimentum libero.</p>',\n\t\t\t\t\turl: '/ws-events/document.html',\n\t\t\t\t\tpicture: image_,\n\t\t\t\t\tcategory: category_,\n\t\t\t\t};\n\t\t\t\tconst product_ = {\n\t\t\t\t\tid: 1000,\n\t\t\t\t\ttype: 'product',\n\t\t\t\t\tname: 'Product',\n\t\t\t\t\ttitle: 'Product',\n\t\t\t\t\tabstract: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eget dolor tincidunt, lobortis dolor eget, condimentum libero.</p>',\n\t\t\t\t\turl: '/ws-events/product.html',\n\t\t\t\t\tpicture: image_,\n\t\t\t\t\tcategory: category_,\n\t\t\t\t};\n\t\t\t\tconst magazine_ = {\n\t\t\t\t\tid: 1000,\n\t\t\t\t\ttype: 'magazine',\n\t\t\t\t\tname: 'Magazine',\n\t\t\t\t\ttitle: 'Magazine',\n\t\t\t\t\tabstract: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eget dolor tincidunt, lobortis dolor eget, condimentum libero.</p>',\n\t\t\t\t\turl: '/ws-events/product.html',\n\t\t\t\t\tpicture: image_,\n\t\t\t\t\tcategory: category_,\n\t\t\t\t};\n\t\t\t\tconst letters = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'L'];\n\t\t\t\treturn new Array(250).fill(true).map((x, i) => {\n\t\t\t\t\tlet type = 'event';\n\t\t\t\t\tif (i > 3) {\n\t\t\t\t\t\tif (i % 5 === 0) {\n\t\t\t\t\t\t\ttype = 'picture';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i % 7 === 0) {\n\t\t\t\t\t\t\ttype = 'product';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i % 11 === 0) {\n\t\t\t\t\t\t\ttype = 'magazine';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet item;\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase 'picture':\n\t\t\t\t\t\t\titem = Object.assign({}, picture_);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'product':\n\t\t\t\t\t\t\titem = Object.assign({}, product_);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'magazine':\n\t\t\t\t\t\t\titem = Object.assign({}, magazine_);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'event':\n\t\t\t\t\t\t\titem = Object.assign({}, event_);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\titem.id = (channel_.id - 100) * 1000 + 1 + i;\n\t\t\t\t\titem.name = item.title = `${item.name} ${letters[(item.id - 1) % 10]}`;\n\t\t\t\t\titem.type = type;\n\t\t\t\t\tif (item.picture) {\n\t\t\t\t\t\titem.picture = Object.assign({}, image_, {\n\t\t\t\t\t\t\tid: (100001 + i),\n\t\t\t\t\t\t\twidth: 700,\n\t\t\t\t\t\t\theight: [700, 900, 1100][i % 3],\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (item.info) {\n\t\t\t\t\t\titem.info = Object.assign({}, info_);\n\t\t\t\t\t}\n\t\t\t\t\tif (item.channel) {\n\t\t\t\t\t\titem.channel = Object.assign({}, x);\n\t\t\t\t\t}\n\t\t\t\t\tif (item.category) {\n\t\t\t\t\t\tconst categoryId = (10001 + (i % 10));\n\t\t\t\t\t\titem.category = Object.assign({}, category_, {\n\t\t\t\t\t\t\tid: categoryId,\n\t\t\t\t\t\t\tname: 'Category ' + letters[categoryId % 10],\n\t\t\t\t\t\t\turl: `${category_.url}?categoryId=${categoryId}`,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase 'event':\n\t\t\t\t\t\t\titem = EventService.fake(new Event(item));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\treturn item;\n\t\t\t\t});\n\t\t\t})\n\t\t);\n\t}\n\n}\n","import { of } from 'rxjs';\nimport { map, tap } from 'rxjs/operators';\nimport EventService, { Event } from '../event/event.service';\nimport HttpService from '../http/http.service';\n\nexport class Channel {\n\tconstructor(data) {\n\t\tif (data) {\n\t\t\tObject.assign(this, data);\n\t\t\tthis.events = EventService.mapEvents(this.events);\n\t\t}\n\t}\n}\n\nexport default class ChannelService {\n\n\tstatic channels$() {\n\t\treturn HttpService.get$(`/api/channel/channels`).pipe(\n\t\t\tmap(items => items.map(x => ChannelService.fake(new Channel(x))))\n\t\t\t// map(items => items.map(x => new Channel(x)))\n\t\t);\n\t}\n\n\tstatic detail$(channelId) {\n\t\treturn HttpService.get$(`/api/channel/${channelId}/detail`).pipe(\n\t\t\tmap(x => ChannelService.fake(new Channel(x)))\n\t\t\t// map(x => new Channel(x))\n\t\t);\n\t}\n\n\tstatic listing$(channelId) {\n\t\t// return HttpService.get$(`/api/channel/${channelId}/listing`);\n\t\treturn ChannelService.fakeListing(channelId).pipe(\n\t\t\ttap((items) => {\n\t\t\t\t// console.log(JSON.stringify(items));\n\t\t\t})\n\t\t);\n\t}\n\n\tstatic top$() {\n\t\treturn HttpService.get$(`/api/channel/evidence`).pipe(\n\t\t\tmap(items => items.map(x => ChannelService.fake(new Channel(x))))\n\t\t\t// map(items => items.map(x => new Channel(x)))\n\t\t);\n\t}\n\n\tstatic subscribe$(channelId) {\n\t\treturn of(null);\n\t}\n\n\tstatic unsubscribe$(channelId) {\n\t\treturn of(null);\n\t}\n\n\tstatic like$(channelId) {\n\t\treturn of(null);\n\t}\n\n\tstatic unlike$(channelId) {\n\t\treturn of(null);\n\t}\n\n\tstatic fake(item) {\n\t\t// console.log('ChannelService.fake', item);\n\t\titem.url = `${item.url}?channelId=${item.id}`;\n\t\titem.info.subscribers = 1500 + Math.floor(Math.random() * 200);\n\t\titem.info.likes = 500 + Math.floor(Math.random() * 200);\n\t\treturn item;\n\t}\n\n\tstatic fakeListing(channelId) {\n\t\treturn HttpService.get$(`/api/channel/${channelId}/detail`).pipe(\n\t\t\tmap(x => {\n\t\t\t\tconst channel_ = ChannelService.fake(new Channel(x));\n\t\t\t\tconst info_ = {\n\t\t\t\t\tstarted: false,\n\t\t\t\t\tended: false,\n\t\t\t\t\tsubscribers: 100,\n\t\t\t\t\tsubscribed: false,\n\t\t\t\t\tlikes: 100,\n\t\t\t\t\tliked: false\n\t\t\t\t};\n\t\t\t\tconst image_ = {\n\t\t\t\t\tid: 100000,\n\t\t\t\t\twidth: 700,\n\t\t\t\t\theight: 700,\n\t\t\t\t\tsrc: 'https://source.unsplash.com/random/',\n\t\t\t\t};\n\t\t\t\tconst category_ = {\n\t\t\t\t\tid: 10000,\n\t\t\t\t\tname: 'Category',\n\t\t\t\t\turl: '/ws-events/category.html',\n\t\t\t\t};\n\t\t\t\tconst event_ = {\n\t\t\t\t\tid: 1000,\n\t\t\t\t\ttype: 'event',\n\t\t\t\t\tname: 'Evento',\n\t\t\t\t\ttitle: 'Evento',\n\t\t\t\t\tabstract: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eget dolor tincidunt, lobortis dolor eget, condimentum libero.</p>',\n\t\t\t\t\turl: '/ws-events/event.html',\n\t\t\t\t\tcreationDate: '2020-05-20T08:11:17.827Z',\n\t\t\t\t\tstartDate: '2020-05-20T08:11:17.827Z',\n\t\t\t\t\tpicture: image_,\n\t\t\t\t\tinfo: info_,\n\t\t\t\t\tchannel: channel_,\n\t\t\t\t};\n\t\t\t\tconst picture_ = {\n\t\t\t\t\tid: 1000,\n\t\t\t\t\ttype: 'picture',\n\t\t\t\t\tname: 'Picture',\n\t\t\t\t\ttitle: 'Picture',\n\t\t\t\t\tabstract: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eget dolor tincidunt, lobortis dolor eget, condimentum libero.</p>',\n\t\t\t\t\turl: '/ws-events/document.html',\n\t\t\t\t\tpicture: image_,\n\t\t\t\t\tcategory: category_,\n\t\t\t\t};\n\t\t\t\tconst product_ = {\n\t\t\t\t\tid: 1000,\n\t\t\t\t\ttype: 'product',\n\t\t\t\t\tname: 'Product',\n\t\t\t\t\ttitle: 'Product',\n\t\t\t\t\tabstract: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eget dolor tincidunt, lobortis dolor eget, condimentum libero.</p>',\n\t\t\t\t\turl: '/ws-events/product.html',\n\t\t\t\t\tpicture: image_,\n\t\t\t\t\tcategory: category_,\n\t\t\t\t};\n\t\t\t\tconst magazine_ = {\n\t\t\t\t\tid: 1000,\n\t\t\t\t\ttype: 'magazine',\n\t\t\t\t\tname: 'Magazine',\n\t\t\t\t\ttitle: 'Magazine',\n\t\t\t\t\tabstract: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eget dolor tincidunt, lobortis dolor eget, condimentum libero.</p>',\n\t\t\t\t\turl: '/ws-events/product.html',\n\t\t\t\t\tpicture: image_,\n\t\t\t\t\tcategory: category_,\n\t\t\t\t};\n\t\t\t\tconst letters = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'L'];\n\t\t\t\treturn new Array(250).fill(true).map((x, i) => {\n\t\t\t\t\tlet type = 'event';\n\t\t\t\t\tif (i > 3) {\n\t\t\t\t\t\tif (i % 5 === 0) {\n\t\t\t\t\t\t\ttype = 'picture';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i % 7 === 0) {\n\t\t\t\t\t\t\ttype = 'product';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i % 11 === 0) {\n\t\t\t\t\t\t\ttype = 'magazine';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet item;\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase 'picture':\n\t\t\t\t\t\t\titem = Object.assign({}, picture_);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'product':\n\t\t\t\t\t\t\titem = Object.assign({}, product_);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'magazine':\n\t\t\t\t\t\t\titem = Object.assign({}, magazine_);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'event':\n\t\t\t\t\t\t\titem = Object.assign({}, event_);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\titem.id = (channelId - 100) * 1000 + 1 + i;\n\t\t\t\t\titem.name = item.title = `${item.name} ${letters[(item.id - 1) % 10]}`;\n\t\t\t\t\titem.type = type;\n\t\t\t\t\tif (item.picture) {\n\t\t\t\t\t\titem.picture = Object.assign({}, image_, {\n\t\t\t\t\t\t\tid: (100001 + i),\n\t\t\t\t\t\t\twidth: 700,\n\t\t\t\t\t\t\theight: [700, 900, 1100][i % 3],\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (item.info) {\n\t\t\t\t\t\titem.info = Object.assign({}, info_);\n\t\t\t\t\t}\n\t\t\t\t\tif (item.channel) {\n\t\t\t\t\t\titem.channel = Object.assign({}, x);\n\t\t\t\t\t}\n\t\t\t\t\tif (item.category) {\n\t\t\t\t\t\tconst categoryId = (10001 + (i % 10));\n\t\t\t\t\t\titem.category = Object.assign({}, category_, {\n\t\t\t\t\t\t\tid: categoryId,\n\t\t\t\t\t\t\tname: 'Category ' + letters[categoryId % 10],\n\t\t\t\t\t\t\turl: `${category_.url}?categoryId=${categoryId}`,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase 'event':\n\t\t\t\t\t\t\titem = EventService.fake(new Event(item));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\treturn item;\n\t\t\t\t});\n\t\t\t})\n\t\t\t// map(x => new Channel(x))\n\t\t);\n\t}\n\n\tstatic fakeListing_(channelId) {\n\t\treturn HttpService.get$(`/api/channel/${channelId}/detail`).pipe(\n\t\t\tmap(x => {\n\t\t\t\tconst channel_ = ChannelService.fake(new Channel(x));\n\t\t\t\tconst event_ = {\n\t\t\t\t\tid: 1000,\n\t\t\t\t\ttype: 'event',\n\t\t\t\t\tname: 'Evento XYZ',\n\t\t\t\t\ttitle: 'Evento XYZ',\n\t\t\t\t\tabstract: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eget dolor tincidunt, lobortis dolor eget, condimentum libero.</p>',\n\t\t\t\t\tpicture: {\n\t\t\t\t\t\tsrc: 'https://source.unsplash.com/random/',\n\t\t\t\t\t\twidth: 700,\n\t\t\t\t\t\theight: 700,\n\t\t\t\t\t},\n\t\t\t\t\turl: '/ws-events/event.html',\n\t\t\t\t\tcreationDate: '2020-05-20T08:11:17.827Z',\n\t\t\t\t\tstartDate: '2020-05-20T08:11:17.827Z',\n\t\t\t\t\tinfo: {\n\t\t\t\t\t\tstarted: false,\n\t\t\t\t\t\tended: false,\n\t\t\t\t\t\tsubscribers: 100,\n\t\t\t\t\t\tsubscribed: false,\n\t\t\t\t\t\tlikes: 100,\n\t\t\t\t\t\tliked: false\n\t\t\t\t\t},\n\t\t\t\t\tchannel: channel_\n\t\t\t\t};\n\t\t\t\treturn new Array(250).fill(true).map((x, i) => {\n\t\t\t\t\tconst item = Object.assign({}, event_);\n\t\t\t\t\titem.id = (channelId - 100) * 1000 + 1 + i;\n\t\t\t\t\titem.picture = Object.assign({}, event_.picture);\n\t\t\t\t\titem.picture.width = 700;\n\t\t\t\t\titem.picture.height = [700, 900, 1100][i % 3];\n\t\t\t\t\titem.info = Object.assign({}, event_.info);\n\t\t\t\t\titem.channel = Object.assign({}, x);\n\t\t\t\t\treturn EventService.fake(new Event(item));\n\t\t\t\t});\n\t\t\t})\n\t\t\t// map(x => new Channel(x))\n\t\t);\n\t}\n\n}\n","import { combineLatest } from 'rxjs';\nimport { first, takeUntil } from 'rxjs/operators';\nimport FilterService from '../filter/filter.service';\nimport LocationService from '../location/location.service';\nimport PageComponent from '../page/page.component';\nimport ChannelService from './channel.service';\n\nexport default class ChannelPageComponent extends PageComponent {\n\n\tonInit() {\n\t\tthis.channels = this.channel = this.listing = null;\n\t\tthis.grid = {\n\t\t\tmode: 1,\n\t\t\twidth: 350,\n\t\t\tgutter: 2,\n\t\t};\n\t\tthis.filteredItems = [];\n\t\tconst filters = {\n\t\t\ttype: {\n\t\t\t\tlabel: 'Type',\n\t\t\t\tmode: 'select',\n\t\t\t\toptions: [{\n\t\t\t\t\tlabel: 'Event',\n\t\t\t\t\tvalue: 'event',\n\t\t\t\t}, {\n\t\t\t\t\tlabel: 'Picture',\n\t\t\t\t\tvalue: 'picture',\n\t\t\t\t}, {\n\t\t\t\t\tlabel: 'Product',\n\t\t\t\t\tvalue: 'product',\n\t\t\t\t}, {\n\t\t\t\t\tlabel: 'Magazine',\n\t\t\t\t\tvalue: 'magazine',\n\t\t\t\t}]\n\t\t\t},\n\t\t};\n\t\tconst filterService = this.filterService = new FilterService(filters, {}, (key, filter) => {\n\t\t\tswitch (key) {\n\t\t\t\tcase 'type':\n\t\t\t\t\tfilter.filter = (item, value) => {\n\t\t\t\t\t\treturn item.type === value;\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'tag':\n\t\t\t\t\tfilter.filter = (item, value) => {\n\t\t\t\t\t\treturn item.tags.indexOf(value) !== -1;\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tfilter.filter = (item, value) => {\n\t\t\t\t\t\treturn item.features.indexOf(value) !== -1;\n\t\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\tthis.filters = filterService.filters;\n\t\tthis.load$().pipe(\n\t\t\tfirst(),\n\t\t).subscribe(data => {\n\t\t\tthis.channels = data[0];\n\t\t\tthis.channel = data[1];\n\t\t\tthis.listing = data[2];\n\t\t\tthis.startFilter(this.listing);\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\tload$() {\n\t\tconst channelId = LocationService.get('channelId');\n\t\treturn combineLatest(\n\t\t\tChannelService.channels$(),\n\t\t\tChannelService.detail$(channelId),\n\t\t\tChannelService.listing$(channelId),\n\t\t);\n\t}\n\n\tstartFilter(items) {\n\t\tthis.filterService.items$(items).pipe(\n\t\t\ttakeUntil(this.unsubscribe$),\n\t\t).subscribe(filteredItems => {\n\t\t\tthis.filteredItems = [];\n\t\t\tthis.pushChanges();\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.filteredItems = filteredItems;\n\t\t\t\tthis.pushChanges();\n\t\t\t}, 1);\n\t\t\tconsole.log('ChannelPageComponent.filteredItems', filteredItems.length);\n\t\t});\n\t}\n\n\ttoggleGrid() {\n\t\tthis.grid.width = this.grid.width === 350 ? 700 : 350;\n\t\tthis.pushChanges();\n\t}\n\n}\n\nChannelPageComponent.meta = {\n\tselector: '[channel-page]',\n};\n","import { Component } from 'rxcomp';\nimport { first } from 'rxjs/operators';\nimport ChannelService from './channel.service';\n\nexport default class ChannelComponent extends Component {\n\n\ttoggleSubscribe() {\n\t\tlet flag = this.channel.info.subscribed;\n\t\tChannelService[flag ? 'unsubscribe$' : 'subscribe$'](this.channel.id).pipe(\n\t\t\tfirst()\n\t\t).subscribe(() => {\n\t\t\tflag = !flag;\n\t\t\tthis.channel.info.subscribed = flag;\n\t\t\tif (flag) {\n\t\t\t\tthis.channel.info.subscribers++;\n\t\t\t} else {\n\t\t\t\tthis.channel.info.subscribers--;\n\t\t\t}\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\ttoggleLike() {\n\t\tlet flag = this.channel.info.liked;\n\t\tChannelService[flag ? 'unlike$' : 'like$'](this.channel.id).pipe(\n\t\t\tfirst()\n\t\t).subscribe(() => {\n\t\t\tflag = !flag;\n\t\t\tthis.channel.info.liked = flag;\n\t\t\tif (flag) {\n\t\t\t\tthis.channel.info.likes++;\n\t\t\t} else {\n\t\t\t\tthis.channel.info.likes--;\n\t\t\t}\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n}\n\nChannelComponent.meta = {\n\tselector: '[channel]',\n\tinputs: ['channel']\n};\n","import { Pipe } from \"rxcomp\";\r\n\r\nconst DATE_FORMATS_SPLIT = /((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\\s\\S]*)/;\r\nconst NUMBER_STRING = /^-?\\d+$/;\r\nconst R_ISO8601_STR = /^(\\d{4})-?(\\d\\d)-?(\\d\\d)(?:T(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:\\.(\\d+))?)?)?(Z|([+-])(\\d\\d):?(\\d\\d))?)?$/;\r\nconst ALL_COLONS = /:/g;\r\nconst ZERO_CHAR = '0';\r\n\r\n// dateFilter.$inject = ['$locale'];\r\n\r\nconst DATETIME_FORMATS_EN_US = {\r\n\t\"AMPMS\": [\r\n      \"AM\",\r\n      \"PM\"\r\n    ],\r\n\t\"DAY\": [\r\n      \"Sunday\",\r\n      \"Monday\",\r\n      \"Tuesday\",\r\n      \"Wednesday\",\r\n      \"Thursday\",\r\n      \"Friday\",\r\n      \"Saturday\"\r\n    ],\r\n\t\"MONTH\": [\r\n      \"January\",\r\n      \"February\",\r\n      \"March\",\r\n      \"April\",\r\n      \"May\",\r\n      \"June\",\r\n      \"July\",\r\n      \"August\",\r\n      \"September\",\r\n      \"October\",\r\n      \"November\",\r\n      \"December\"\r\n    ],\r\n\t\"SHORTDAY\": [\r\n      \"Sun\",\r\n      \"Mon\",\r\n      \"Tue\",\r\n      \"Wed\",\r\n      \"Thu\",\r\n      \"Fri\",\r\n      \"Sat\"\r\n    ],\r\n\t\"SHORTMONTH\": [\r\n      \"Jan\",\r\n      \"Feb\",\r\n      \"Mar\",\r\n      \"Apr\",\r\n      \"May\",\r\n      \"Jun\",\r\n      \"Jul\",\r\n      \"Aug\",\r\n      \"Sep\",\r\n      \"Oct\",\r\n      \"Nov\",\r\n      \"Dec\"\r\n    ],\r\n\t\"fullDate\": \"EEEE, MMMM d, y\",\r\n\t\"longDate\": \"MMMM d, y\",\r\n\t\"medium\": \"MMM d, y h:mm:ss a\",\r\n\t\"mediumDate\": \"MMM d, y\",\r\n\t\"mediumTime\": \"h:mm:ss a\",\r\n\t\"short\": \"M/d/yy h:mm a\",\r\n\t\"shortDate\": \"M/d/yy\",\r\n\t\"shortTime\": \"h:mm a\"\r\n};\r\n\r\nconst DATETIME_FORMATS_IT_IT = {\r\n\t\"AMPMS\": [\r\n      \"AM\",\r\n      \"PM\"\r\n    ],\r\n\t\"DAY\": [\r\n      \"domenica\",\r\n      \"luned\\u00ec\",\r\n      \"marted\\u00ec\",\r\n      \"mercoled\\u00ec\",\r\n      \"gioved\\u00ec\",\r\n      \"venerd\\u00ec\",\r\n      \"sabato\"\r\n    ],\r\n\t\"MONTH\": [\r\n      \"gennaio\",\r\n      \"febbraio\",\r\n      \"marzo\",\r\n      \"aprile\",\r\n      \"maggio\",\r\n      \"giugno\",\r\n      \"luglio\",\r\n      \"agosto\",\r\n      \"settembre\",\r\n      \"ottobre\",\r\n      \"novembre\",\r\n      \"dicembre\"\r\n    ],\r\n\t\"SHORTDAY\": [\r\n      \"dom\",\r\n      \"lun\",\r\n      \"mar\",\r\n      \"mer\",\r\n      \"gio\",\r\n      \"ven\",\r\n      \"sab\"\r\n    ],\r\n\t\"SHORTMONTH\": [\r\n      \"gen\",\r\n      \"feb\",\r\n      \"mar\",\r\n      \"apr\",\r\n      \"mag\",\r\n      \"giu\",\r\n      \"lug\",\r\n      \"ago\",\r\n      \"set\",\r\n      \"ott\",\r\n      \"nov\",\r\n      \"dic\"\r\n    ],\r\n\t\"fullDate\": \"EEEE d MMMM y\",\r\n\t\"longDate\": \"dd MMMM y\",\r\n\t\"medium\": \"dd/MMM/y HH:mm:ss\",\r\n\t\"mediumDate\": \"dd/MMM/y\",\r\n\t\"mediumTime\": \"HH:mm:ss\",\r\n\t\"short\": \"dd/MM/yy HH:mm\",\r\n\t\"shortDate\": \"dd/MM/yy\",\r\n\t\"shortTime\": \"HH:mm\"\r\n};\r\n\r\nexport default class DatePipe extends Pipe {\r\n\r\n\tstatic isNumber(value) {\r\n\t\treturn typeof value === 'number' && isFinite(value);\r\n\t}\r\n\r\n\tstatic padNumber(num, digits, trim, negWrap) {\r\n\t\tvar neg = '';\r\n\t\tif (num < 0 || (negWrap && num <= 0)) {\r\n\t\t\tif (negWrap) {\r\n\t\t\t\tnum = -num + 1;\r\n\t\t\t} else {\r\n\t\t\t\tnum = -num;\r\n\t\t\t\tneg = '-';\r\n\t\t\t}\r\n\t\t}\r\n\t\tnum = '' + num;\r\n\t\twhile (num.length < digits) num = ZERO_CHAR + num;\r\n\t\tif (trim) {\r\n\t\t\tnum = num.substr(num.length - digits);\r\n\t\t}\r\n\t\treturn neg + num;\r\n\t}\r\n\r\n\tstatic dateGetter(name, size, offset, trim, negWrap) {\r\n\t\toffset = offset || 0;\r\n\t\treturn function(date) {\r\n\t\t\tvar value = date['get' + name]();\r\n\t\t\tif (offset > 0 || value > -offset) {\r\n\t\t\t\tvalue += offset;\r\n\t\t\t}\r\n\t\t\tif (value === 0 && offset === -12) value = 12;\r\n\t\t\treturn DatePipe.padNumber(value, size, trim, negWrap);\r\n\t\t};\r\n\t}\r\n\r\n\tstatic dateStrGetter(name, shortForm, standAlone) {\r\n\t\treturn function(date, formats) {\r\n\t\t\tvar value = date['get' + name]();\r\n\t\t\tvar propPrefix = (standAlone ? 'STANDALONE' : '') + (shortForm ? 'SHORT' : '');\r\n\t\t\tvar get = (propPrefix + name).toUpperCase();\r\n\t\t\treturn formats[get][value];\r\n\t\t};\r\n\t}\r\n\r\n\tstatic timeZoneGetter(date, formats, offset) {\r\n\t\tvar zone = -1 * offset;\r\n\t\tvar paddedZone = (zone >= 0) ? '+' : '';\r\n\t\tpaddedZone += DatePipe.padNumber(Math[zone > 0 ? 'floor' : 'ceil'](zone / 60), 2) + DatePipe.padNumber(Math.abs(zone % 60), 2);\r\n\t\treturn paddedZone;\r\n\t}\r\n\r\n\tstatic getFirstThursdayOfYear(year) {\r\n\t\t// 0 = index of January\r\n\t\tvar dayOfWeekOnFirst = (new Date(year, 0, 1)).getDay();\r\n\t\t// 4 = index of Thursday (+1 to account for 1st = 5)\r\n\t\t// 11 = index of *next* Thursday (+1 account for 1st = 12)\r\n\t\treturn new Date(year, 0, ((dayOfWeekOnFirst <= 4) ? 5 : 12) - dayOfWeekOnFirst);\r\n\t}\r\n\r\n\tstatic getThursdayThisWeek(datetime) {\r\n\t\treturn new Date(datetime.getFullYear(), datetime.getMonth(), datetime.getDate() + (4 - datetime.getDay())); // 4 = index of Thursday\r\n\t}\r\n\r\n\tstatic weekGetter(size) {\r\n\t\treturn function(date) {\r\n\t\t\tvar firstThurs = DatePipe.getFirstThursdayOfYear(date.getFullYear()),\r\n\t\t\t\tthisThurs = DatePipe.getThursdayThisWeek(date);\r\n\t\t\tvar diff = +thisThurs - +firstThurs,\r\n\t\t\t\tresult = 1 + Math.round(diff / 6.048e8); // 6.048e8 ms per week\r\n\t\t\treturn padNumber(result, size);\r\n\t\t};\r\n\t}\r\n\r\n\tstatic ampmGetter(date, formats) {\r\n\t\treturn date.getHours() < 12 ? formats.AMPMS[0] : formats.AMPMS[1];\r\n\t}\r\n\r\n\tstatic eraGetter(date, formats) {\r\n\t\treturn date.getFullYear() <= 0 ? formats.ERAS[0] : formats.ERAS[1];\r\n\t}\r\n\r\n\tstatic longEraGetter(date, formats) {\r\n\t\treturn date.getFullYear() <= 0 ? formats.ERANAMES[0] : formats.ERANAMES[1];\r\n\t}\r\n\r\n\tstatic jsonStringToDate(string) {\r\n\t\tlet match;\r\n\t\tif ((match = string.match(R_ISO8601_STR))) {\r\n\t\t\tlet tzHour = 0;\r\n\t\t\tlet tzMin = 0;\r\n\t\t\tif (match[9]) {\r\n\t\t\t\ttzHour = parseInt(match[9] + match[10]);\r\n\t\t\t\ttzMin = parseInt(match[9] + match[11]);\r\n\t\t\t}\r\n\t\t\tconst date = new Date(0);\r\n\t\t\tconst dateSetter = match[8] ? date.setUTCFullYear : date.setFullYear;\r\n\t\t\tconst timeSetter = match[8] ? date.setUTCHours : date.setHours;\r\n\t\t\tdateSetter.call(date, parseInt(match[1]), parseInt(match[2]) - 1, parseInt(match[3]));\r\n\t\t\tconst h = parseInt(match[4] || 0) - tzHour;\r\n\t\t\tconst m = parseInt(match[5] || 0) - tzMin;\r\n\t\t\tconst s = parseInt(match[6] || 0);\r\n\t\t\tconst ms = Math.round(parseFloat('0.' + (match[7] || 0)) * 1000);\r\n\t\t\ttimeSetter.call(date, h, m, s, ms);\r\n\t\t\treturn date;\r\n\t\t}\r\n\t\treturn string;\r\n\t}\r\n\r\n\tstatic timezoneToOffset(timezone, fallback) {\r\n\t\t// Support: IE 9-11 only, Edge 13-15+\r\n\t\t// IE/Edge do not \"understand\" colon (`:`) in timezone\r\n\t\ttimezone = timezone.replace(ALL_COLONS, '');\r\n\t\tvar requestedTimezoneOffset = Date.parse('Jan 01, 1970 00:00:00 ' + timezone) / 60000;\r\n\t\treturn Number.isNaN(requestedTimezoneOffset) ? fallback : requestedTimezoneOffset;\r\n\t}\r\n\r\n\tstatic addDateMinutes(date, minutes) {\r\n\t\tdate = new Date(date.getTime());\r\n\t\tdate.setMinutes(date.getMinutes() + minutes);\r\n\t\treturn date;\r\n\t}\r\n\r\n\tstatic convertTimezoneToLocal(date, timezone, reverse) {\r\n\t\treverse = reverse ? -1 : 1;\r\n\t\tvar dateTimezoneOffset = date.getTimezoneOffset();\r\n\t\tvar timezoneOffset = DatePipe.timezoneToOffset(timezone, dateTimezoneOffset);\r\n\t\treturn DatePipe.addDateMinutes(date, reverse * (timezoneOffset - dateTimezoneOffset));\r\n\t}\r\n\r\n\tstatic transform_(value, locale = 'it-IT-u-ca-gregory', options = {\r\n\t\tdateStyle: 'short',\r\n\t\ttimeStyle: 'short',\r\n\t}) {\r\n\t\tconst localeDateString = new Date(value).toLocaleDateString(locale, options);\r\n\t\treturn localeDateString;\r\n\t}\r\n\r\n\tstatic transform(date, format, timezone) {\r\n\t\tlet text = '',\r\n\t\t\tmatch;\r\n\t\tlet parts = [];\r\n\t\tformat = format || 'mediumDate';\r\n\t\tformat = DatePipe.DATETIME_FORMATS[format] || format;\r\n\t\tif (typeof date === 'string') {\r\n\t\t\tdate = NUMBER_STRING.test(date) ? parseInt(date) : DatePipe.jsonStringToDate(date);\r\n\t\t}\r\n\t\tif (DatePipe.isNumber(date)) {\r\n\t\t\tdate = new Date(date);\r\n\t\t}\r\n\t\tif (!(date instanceof Date) || !isFinite(date.getTime())) {\r\n\t\t\treturn date;\r\n\t\t}\r\n\t\twhile (format) {\r\n\t\t\tmatch = DATE_FORMATS_SPLIT.exec(format);\r\n\t\t\tif (match) {\r\n\t\t\t\t// parts = concat(parts, match, 1);\r\n\t\t\t\tparts = parts.concat(match.slice(1));\r\n\t\t\t\tformat = parts.pop();\r\n\t\t\t} else {\r\n\t\t\t\tparts.push(format);\r\n\t\t\t\tformat = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet dateTimezoneOffset = date.getTimezoneOffset();\r\n\t\tif (timezone) {\r\n\t\t\tdateTimezoneOffset = DatePipe.timezoneToOffset(timezone, dateTimezoneOffset);\r\n\t\t\tdate = DatePipe.convertTimezoneToLocal(date, timezone, true);\r\n\t\t}\r\n\t\tparts.forEach(function(value) {\r\n\t\t\tconst formatter = DatePipe.DATE_FORMATS[value];\r\n\t\t\ttext += formatter ? formatter(date, DatePipe.DATETIME_FORMATS, dateTimezoneOffset) : value === '\\'\\'' ? '\\'' : value.replace(/(^'|'$)/g, '').replace(/''/g, '\\'');\r\n\t\t});\r\n\t\treturn text;\r\n\t}\r\n\r\n}\r\n\r\nDatePipe.DATE_FORMATS = {\r\n\tyyyy: DatePipe.dateGetter('FullYear', 4, 0, false, true),\r\n\tyy: DatePipe.dateGetter('FullYear', 2, 0, true, true),\r\n\ty: DatePipe.dateGetter('FullYear', 1, 0, false, true),\r\n\tMMMM: DatePipe.dateStrGetter('Month'),\r\n\tMMM: DatePipe.dateStrGetter('Month', true),\r\n\tMM: DatePipe.dateGetter('Month', 2, 1),\r\n\tM: DatePipe.dateGetter('Month', 1, 1),\r\n\tLLLL: DatePipe.dateStrGetter('Month', false, true),\r\n\tdd: DatePipe.dateGetter('Date', 2),\r\n\td: DatePipe.dateGetter('Date', 1),\r\n\tHH: DatePipe.dateGetter('Hours', 2),\r\n\tH: DatePipe.dateGetter('Hours', 1),\r\n\thh: DatePipe.dateGetter('Hours', 2, -12),\r\n\th: DatePipe.dateGetter('Hours', 1, -12),\r\n\tmm: DatePipe.dateGetter('Minutes', 2),\r\n\tm: DatePipe.dateGetter('Minutes', 1),\r\n\tss: DatePipe.dateGetter('Seconds', 2),\r\n\ts: DatePipe.dateGetter('Seconds', 1),\r\n\t// while ISO 8601 requires fractions to be prefixed with `.` or `,`\r\n\t// we can be just safely rely on using `sss` since we currently don't support single or two digit fractions\r\n\tsss: DatePipe.dateGetter('Milliseconds', 3),\r\n\tEEEE: DatePipe.dateStrGetter('Day'),\r\n\tEEE: DatePipe.dateStrGetter('Day', true),\r\n\ta: DatePipe.ampmGetter,\r\n\tZ: DatePipe.timeZoneGetter,\r\n\tww: DatePipe.weekGetter(2),\r\n\tw: DatePipe.weekGetter(1),\r\n\tG: DatePipe.eraGetter,\r\n\tGG: DatePipe.eraGetter,\r\n\tGGG: DatePipe.eraGetter,\r\n\tGGGG: DatePipe.longEraGetter\r\n};\r\n\r\nDatePipe.DATETIME_FORMATS = DATETIME_FORMATS_IT_IT;\r\n\r\nDatePipe.meta = {\r\n\tname: 'date',\r\n};\r\n\r\n/**\r\n   *   Formats `date` to a string based on the requested `format`.\r\n   *\r\n   *   `format` string can be composed of the following elements:\r\n   *\r\n   *   * `'yyyy'`: 4 digit representation of year (e.g. AD 1 => 0001, AD 2010 => 2010)\r\n   *   * `'yy'`: 2 digit representation of year, padded (00-99). (e.g. AD 2001 => 01, AD 2010 => 10)\r\n   *   * `'y'`: 1 digit representation of year, e.g. (AD 1 => 1, AD 199 => 199)\r\n   *   * `'MMMM'`: Month in year (January-December)\r\n   *   * `'MMM'`: Month in year (Jan-Dec)\r\n   *   * `'MM'`: Month in year, padded (01-12)\r\n   *   * `'M'`: Month in year (1-12)\r\n   *   * `'LLLL'`: Stand-alone month in year (January-December)\r\n   *   * `'dd'`: Day in month, padded (01-31)\r\n   *   * `'d'`: Day in month (1-31)\r\n   *   * `'EEEE'`: Day in Week,(Sunday-Saturday)\r\n   *   * `'EEE'`: Day in Week, (Sun-Sat)\r\n   *   * `'HH'`: Hour in day, padded (00-23)\r\n   *   * `'H'`: Hour in day (0-23)\r\n   *   * `'hh'`: Hour in AM/PM, padded (01-12)\r\n   *   * `'h'`: Hour in AM/PM, (1-12)\r\n   *   * `'mm'`: Minute in hour, padded (00-59)\r\n   *   * `'m'`: Minute in hour (0-59)\r\n   *   * `'ss'`: Second in minute, padded (00-59)\r\n   *   * `'s'`: Second in minute (0-59)\r\n   *   * `'sss'`: Millisecond in second, padded (000-999)\r\n   *   * `'a'`: AM/PM marker\r\n   *   * `'Z'`: 4 digit (+sign) representation of the timezone offset (-1200-+1200)\r\n   *   * `'ww'`: Week of year, padded (00-53). Week 01 is the week with the first Thursday of the year\r\n   *   * `'w'`: Week of year (0-53). Week 1 is the week with the first Thursday of the year\r\n   *   * `'G'`, `'GG'`, `'GGG'`: The abbreviated form of the era string (e.g. 'AD')\r\n   *   * `'GGGG'`: The long form of the era string (e.g. 'Anno Domini')\r\n   *\r\n   *   `format` string can also be one of the following predefined\r\n   *   {@link guide/i18n localizable formats}:\r\n   *\r\n   *   * `'medium'`: equivalent to `'MMM d, y h:mm:ss a'` for en_US locale\r\n   *     (e.g. Sep 3, 2010 12:05:08 PM)\r\n   *   * `'short'`: equivalent to `'M/d/yy h:mm a'` for en_US  locale (e.g. 9/3/10 12:05 PM)\r\n   *   * `'fullDate'`: equivalent to `'EEEE, MMMM d, y'` for en_US  locale\r\n   *     (e.g. Friday, September 3, 2010)\r\n   *   * `'longDate'`: equivalent to `'MMMM d, y'` for en_US  locale (e.g. September 3, 2010)\r\n   *   * `'mediumDate'`: equivalent to `'MMM d, y'` for en_US  locale (e.g. Sep 3, 2010)\r\n   *   * `'shortDate'`: equivalent to `'M/d/yy'` for en_US locale (e.g. 9/3/10)\r\n   *   * `'mediumTime'`: equivalent to `'h:mm:ss a'` for en_US locale (e.g. 12:05:08 PM)\r\n   *   * `'shortTime'`: equivalent to `'h:mm a'` for en_US locale (e.g. 12:05 PM)\r\n   *\r\n   *   `format` string can contain literal values. These need to be escaped by surrounding with single quotes (e.g.\r\n   *   `\"h 'in the morning'\"`). In order to output a single quote, escape it - i.e., two single quotes in a sequence\r\n   *   (e.g. `\"h 'o''clock'\"`).\r\n   *\r\n   *   Any other characters in the `format` string will be output as-is.\r\n   *\r\n   * @param {(Date|number|string)} date Date to format either as Date object, milliseconds (string or\r\n   *    number) or various ISO 8601 datetime string formats (e.g. yyyy-MM-ddTHH:mm:ss.sssZ and its\r\n   *    shorter versions like yyyy-MM-ddTHH:mmZ, yyyy-MM-dd or yyyyMMddTHHmmssZ). If no timezone is\r\n   *    specified in the string input, the time is considered to be in the local timezone.\r\n   * @param {string=} format Formatting rules (see Description). If not specified,\r\n   *    `mediumDate` is used.\r\n   * @param {string=} timezone Timezone to be used for formatting. It understands UTC/GMT and the\r\n   *    continental US time zone abbreviations, but for general use, use a time zone offset, for\r\n   *    example, `'+0430'` (4 hours, 30 minutes east of the Greenwich meridian)\r\n   *    If not specified, the timezone of the browser will be used.\r\n   * @returns {string} Formatted string or the input if input is not recognized as date/millis.\r\n   *\r\n   * @example\r\n\t <example name=\"filter-date\">\r\n\t   <file name=\"index.html\">\r\n\t\t <span ng-non-bindable>{{1288323623006 | date:'medium'}}</span>:\r\n\t\t\t <span>{{1288323623006 | date:'medium'}}</span><br>\r\n\t\t <span ng-non-bindable>{{1288323623006 | date:'yyyy-MM-dd HH:mm:ss Z'}}</span>:\r\n\t\t\t<span>{{1288323623006 | date:'yyyy-MM-dd HH:mm:ss Z'}}</span><br>\r\n\t\t <span ng-non-bindable>{{1288323623006 | date:'MM/dd/yyyy @ h:mma'}}</span>:\r\n\t\t\t<span>{{'1288323623006' | date:'MM/dd/yyyy @ h:mma'}}</span><br>\r\n\t\t <span ng-non-bindable>{{1288323623006 | date:\"MM/dd/yyyy 'at' h:mma\"}}</span>:\r\n\t\t\t<span>{{'1288323623006' | date:\"MM/dd/yyyy 'at' h:mma\"}}</span><br>\r\n\t   </file>\r\n\t   <file name=\"protractor.js\" type=\"protractor\">\r\n\t\t it('should format date', function() {\r\n\t\t   expect(element(by.binding(\"1288323623006 | date:'medium'\")).getText()).\r\n\t\t\t  toMatch(/Oct 2\\d, 2010 \\d{1,2}:\\d{2}:\\d{2} (AM|PM)/);\r\n\t\t   expect(element(by.binding(\"1288323623006 | date:'yyyy-MM-dd HH:mm:ss Z'\")).getText()).\r\n\t\t\t  toMatch(/2010-10-2\\d \\d{2}:\\d{2}:\\d{2} (-|\\+)?\\d{4}/);\r\n\t\t   expect(element(by.binding(\"'1288323623006' | date:'MM/dd/yyyy @ h:mma'\")).getText()).\r\n\t\t\t  toMatch(/10\\/2\\d\\/2010 @ \\d{1,2}:\\d{2}(AM|PM)/);\r\n\t\t   expect(element(by.binding(\"'1288323623006' | date:\\\"MM/dd/yyyy 'at' h:mma\\\"\")).getText()).\r\n\t\t\t  toMatch(/10\\/2\\d\\/2010 at \\d{1,2}:\\d{2}(AM|PM)/);\r\n\t\t });\r\n\t   </file>\r\n\t </example>\r\n   */\r\n","import { Directive, getContext } from \"rxcomp\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\nimport { takeUntil } from \"rxjs/operators\";\r\n\r\nlet DROPDOWN_ID = 1000000;\r\n\r\nexport default class DropdownDirective extends Directive {\r\n\r\n\tget id() {\r\n\t\treturn this.dropdown || this.id_ || (this.id_ = DropdownDirective.nextId());\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst trigger = node.getAttribute('dropdown-trigger');\r\n\t\tthis.trigger = trigger ? node.querySelector(trigger) : node;\r\n\t\tthis.opened = null;\r\n\t\tthis.onClick = this.onClick.bind(this);\r\n\t\tthis.onDocumentClick = this.onDocumentClick.bind(this);\r\n\t\tthis.openDropdown = this.openDropdown.bind(this);\r\n\t\tthis.closeDropdown = this.closeDropdown.bind(this);\r\n\t\tthis.addListeners();\r\n\t\tDropdownDirective.dropdown$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(id => {\r\n\t\t\t// console.log('DropdownDirective', id, this['dropdown-item']);\r\n\t\t\tif (this.id === id) {\r\n\t\t\t\tnode.classList.add('dropped');\r\n\t\t\t} else {\r\n\t\t\t\tnode.classList.remove('dropped');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonClick(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tif (this.opened === null) {\r\n\t\t\tthis.openDropdown();\r\n\t\t} else {\r\n\t\t\tconst dropdownItemNode = node.querySelector('[dropdown-item]');\r\n\t\t\t// console.log('dropdownItemNode', dropdownItemNode);\r\n\t\t\tif (!dropdownItemNode) { // if (this.trigger !== node) {\r\n\t\t\t\tthis.closeDropdown();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonDocumentClick(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst clickedInside = node === event.target || node.contains(event.target);\r\n\t\tif (!clickedInside) {\r\n\t\t\tthis.closeDropdown();\r\n\t\t}\r\n\t}\r\n\r\n\topenDropdown() {\r\n\t\tif (this.opened === null) {\r\n\t\t\tthis.opened = true;\r\n\t\t\tthis.addDocumentListeners();\r\n\t\t\tDropdownDirective.dropdown$.next(this.id);\r\n\t\t\tthis.dropped.next(this.id);\r\n\t\t}\r\n\t}\r\n\r\n\tcloseDropdown() {\r\n\t\tif (this.opened !== null) {\r\n\t\t\tthis.removeDocumentListeners();\r\n\t\t\tthis.opened = null;\r\n\t\t\tif (DropdownDirective.dropdown$.getValue() === this.id) {\r\n\t\t\t\tDropdownDirective.dropdown$.next(null);\r\n\t\t\t\tthis.dropped.next(null);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\taddListeners() {\r\n\t\tthis.trigger.addEventListener('click', this.onClick);\r\n\t}\r\n\r\n\taddDocumentListeners() {\r\n\t\tdocument.addEventListener('click', this.onDocumentClick);\r\n\t}\r\n\r\n\tremoveListeners() {\r\n\t\tthis.trigger.removeEventListener('click', this.onClick);\r\n\t}\r\n\r\n\tremoveDocumentListeners() {\r\n\t\tdocument.removeEventListener('click', this.onDocumentClick);\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.removeListeners();\r\n\t\tthis.removeDocumentListeners();\r\n\t}\r\n\r\n\tstatic nextId() {\r\n\t\treturn DROPDOWN_ID++;\r\n\t}\r\n\r\n}\r\n\r\nDropdownDirective.meta = {\r\n\tselector: '[dropdown]',\r\n\tinputs: ['dropdown', 'dropdown-trigger'],\r\n\toutputs: ['dropped']\r\n};\r\n\r\nDropdownDirective.dropdown$ = new BehaviorSubject(null);\r\n","import { Directive, getContext } from \"rxcomp\";\r\nimport { takeUntil } from \"rxjs/operators\";\r\nimport DropdownDirective from \"./dropdown.directive\";\r\n\r\nexport default class DropdownItemDirective extends Directive {\r\n\r\n\tget id() {\r\n\t\treturn this['dropdown-item'];\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('dropdown-item');\r\n\t\tDropdownDirective.dropdown$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(id => {\r\n\t\t\t// console.log('DropdownItemDirective', id, this['dropdown-item']);\r\n\t\t\tif (this.id === id) {\r\n\t\t\t\tnode.classList.add('dropped');\r\n\t\t\t} else {\r\n\t\t\t\tnode.classList.remove('dropped');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nDropdownItemDirective.meta = {\r\n\tselector: '[dropdown-item], [[dropdown-item]]',\r\n\tinputs: ['dropdown-item']\r\n};\r\n","import { Component } from 'rxcomp';\nimport { interval, Subject } from 'rxjs';\nimport { takeUntil, tap } from 'rxjs/operators';\n\nexport const EventDateMode = {\n\tLive: 'live',\n\tCountdown: 'countdown',\n\tWatchRelative: 'watchRelative',\n\tRelative: 'relative',\n\tDate: 'date',\n};\n\nconst SECOND = 1000;\nconst MINUTE = SECOND * 60;\nconst HOUR = MINUTE * 60;\n\nconst to10 = (value) => {\n\treturn (value < 10) ? '0' + value : value;\n};\n\nexport default class EventDateComponent extends Component {\n\n\tstatic hoursDiff(date) {\n\t\tconst now = new Date();\n\t\tconst diff = date - now;\n\t\tconst hoursDiff = Math.abs(Math.floor(diff / 1000 / 60 / 60));\n\t\treturn hoursDiff;\n\t}\n\n\tstatic getMode(item) {\n\t\tif (item.live) {\n\t\t\treturn EventDateMode.Live;\n\t\t} else if (item.incoming) {\n\t\t\treturn EventDateMode.Countdown;\n\t\t}\n\t\tconst hoursDiff = EventDateComponent.hoursDiff(item.startDate);\n\t\tif (item.past && hoursDiff < 24) {\n\t\t\treturn EventDateMode.WatchRelative;\n\t\t} else if (hoursDiff < 24 * 3) {\n\t\t\treturn EventDateMode.Relative;\n\t\t} else {\n\t\t\treturn EventDateMode.Date;\n\t\t}\n\t}\n\n\tonInit() {\n\t\tthis.mode = EventDateComponent.getMode(this.eventDate);\n\t\t/*\n\t\tif (this.mode === EventDateMode.Countdown || this.mode === EventDateMode.WatchRelative) {\n\t\t\tthis.countdown = '';\n\t\t\tthis.live$ = new Subject();\n\t\t\tthis.change$().pipe(\n\t\t\t\ttakeUntil(this.unsubscribe$)\n\t\t\t).subscribe(() => {\n\t\t\t\tif (this.mode === EventDateMode.Countdown || this.mode === EventDateMode.WatchRelative) {\n\t\t\t\t\tthis.pushChanges();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t*/\n\t\tthis.countdown = '';\n\t\tthis.live$ = new Subject();\n\t\tthis.change$().pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe(() => {\n\t\t\tif (this.mode === EventDateMode.Countdown || this.mode === EventDateMode.WatchRelative) {\n\t\t\t\tthis.pushChanges();\n\t\t\t}\n\t\t});\n\t}\n\n\t/*\n\tonChange() {\n\t\tthis.mode = EventDateComponent.getMode(this.eventDate);\n\t}\n\t*/\n\n\tchange$() {\n\t\treturn interval(1000).pipe(\n\t\t\ttakeUntil(this.live$),\n\t\t\ttap(() => {\n\t\t\t\tif (this.mode === EventDateMode.Countdown) {\n\t\t\t\t\tlet diff = this.eventDate.startDate - new Date();\n\t\t\t\t\tconst hh = Math.floor(diff / HOUR);\n\t\t\t\t\tdiff -= hh * HOUR;\n\t\t\t\t\tconst mm = Math.floor(diff / MINUTE);\n\t\t\t\t\tdiff -= mm * MINUTE;\n\t\t\t\t\tconst ss = Math.floor(diff / SECOND);\n\t\t\t\t\tdiff -= ss * SECOND;\n\t\t\t\t\tthis.countdown = `-${to10(hh)}:${to10(mm)}:${to10(ss)}`;\n\t\t\t\t\tif (diff < 0) {\n\t\t\t\t\t\tthis.eventDate.info.started = true;\n\t\t\t\t\t\t// this.live$.next();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n}\n\nEventDateComponent.meta = {\n\tselector: '[eventDate]',\n\tinputs: ['eventDate']\n};\n","import { combineLatest } from 'rxjs';\nimport { first, takeUntil } from 'rxjs/operators';\nimport FilterService from '../filter/filter.service';\nimport LocationService from '../location/location.service';\nimport PageComponent from '../page/page.component';\nimport EventService from './event.service';\n\nexport default class EventPageComponent extends PageComponent {\n\n\tonInit() {\n\t\tthis.event = this.listing = null;\n\t\tthis.grid = {\n\t\t\tmode: 1,\n\t\t\twidth: 350,\n\t\t\tgutter: 2,\n\t\t};\n\t\tthis.filteredItems = [];\n\t\tconst filters = {\n\t\t\ttype: {\n\t\t\t\tlabel: 'Type',\n\t\t\t\tmode: 'select',\n\t\t\t\toptions: [{\n\t\t\t\t\tlabel: 'Event',\n\t\t\t\t\tvalue: 'event',\n\t\t\t\t}, {\n\t\t\t\t\tlabel: 'Picture',\n\t\t\t\t\tvalue: 'picture',\n\t\t\t\t}, {\n\t\t\t\t\tlabel: 'Product',\n\t\t\t\t\tvalue: 'product',\n\t\t\t\t}, {\n\t\t\t\t\tlabel: 'Magazine',\n\t\t\t\t\tvalue: 'magazine',\n\t\t\t\t}]\n\t\t\t},\n\t\t};\n\t\tconst filterService = this.filterService = new FilterService(filters, {}, (key, filter) => {\n\t\t\tswitch (key) {\n\t\t\t\tcase 'type':\n\t\t\t\t\tfilter.filter = (item, value) => {\n\t\t\t\t\t\treturn item.type === value;\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'tag':\n\t\t\t\t\tfilter.filter = (item, value) => {\n\t\t\t\t\t\treturn item.tags.indexOf(value) !== -1;\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tfilter.filter = (item, value) => {\n\t\t\t\t\t\treturn item.features.indexOf(value) !== -1;\n\t\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\tthis.filters = filterService.filters;\n\t\tthis.load$().pipe(\n\t\t\tfirst(),\n\t\t).subscribe(data => {\n\t\t\tthis.event = data[0];\n\t\t\tthis.listing = data[1];\n\t\t\tthis.startFilter(this.listing);\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\tload$() {\n\t\tconst eventId = LocationService.get('eventId');\n\t\treturn combineLatest(\n\t\t\tEventService.detail$(eventId),\n\t\t\tEventService.listing$(eventId),\n\t\t);\n\t}\n\n\tstartFilter(items) {\n\t\tthis.filterService.items$(items).pipe(\n\t\t\ttakeUntil(this.unsubscribe$),\n\t\t).subscribe(filteredItems => {\n\t\t\tthis.filteredItems = [];\n\t\t\tthis.pushChanges();\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.filteredItems = filteredItems;\n\t\t\t\tthis.pushChanges();\n\t\t\t}, 1);\n\t\t\tconsole.log('EventPageComponent.filteredItems', filteredItems.length);\n\t\t});\n\t}\n\n\ttoggleGrid() {\n\t\tthis.grid.width = this.grid.width === 350 ? 700 : 350;\n\t\tthis.pushChanges();\n\t}\n\n}\n\nEventPageComponent.meta = {\n\tselector: '[event-page]',\n};\n","import { Component } from 'rxcomp';\nimport { first } from 'rxjs/operators';\nimport EventService from './event.service';\n\nexport default class EventComponent extends Component {\n\n\ttoggleSubscribe() {\n\t\tlet flag = this.event.info.subscribed;\n\t\tEventService[flag ? 'unsubscribe$' : 'subscribe$'](this.event.id).pipe(\n\t\t\tfirst()\n\t\t).subscribe(() => {\n\t\t\tflag = !flag;\n\t\t\tthis.event.info.subscribed = flag;\n\t\t\tif (flag) {\n\t\t\t\tthis.event.info.subscribers++;\n\t\t\t} else {\n\t\t\t\tthis.event.info.subscribers--;\n\t\t\t}\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\ttoggleLike() {\n\t\tlet flag = this.event.info.liked;\n\t\tEventService[flag ? 'unlike$' : 'like$'](this.event.id).pipe(\n\t\t\tfirst()\n\t\t).subscribe(() => {\n\t\t\tflag = !flag;\n\t\t\tthis.event.info.liked = flag;\n\t\t\tif (flag) {\n\t\t\t\tthis.event.info.likes++;\n\t\t\t} else {\n\t\t\t\tthis.event.info.likes--;\n\t\t\t}\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n}\n\nEventComponent.meta = {\n\tselector: '[event]',\n\tinputs: ['event']\n};\n","import { Component, getContext } from 'rxcomp';\r\n\r\nexport default class ControlComponent extends Component {\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst control = this.control;\r\n\t\tconst flags = control.flags;\r\n\t\tObject.keys(flags).forEach((key) => {\r\n\t\t\tflags[key] ? node.classList.add(key) : node.classList.remove(key);\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nControlComponent.meta = {\r\n\tselector: '[control]',\r\n\tinputs: ['control']\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ErrorsComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.labels = window.labels || {};\r\n\t}\r\n\r\n\tgetLabel(key, value) {\r\n\t\tconst label = this.labels[`error_${key}`];\r\n\t\treturn label;\r\n\t}\r\n\r\n}\r\n\r\nErrorsComponent.meta = {\r\n\tselector: 'errors-component',\r\n\tinputs: ['control'],\r\n\ttemplate: /* html */ `\r\n\t<div class=\"inner\" [style]=\"{ display: control.invalid && control.touched ? 'block' : 'none' }\">\r\n\t\t<div class=\"error\" *for=\"let [key, value] of control.errors\">\r\n\t\t\t<span [innerHTML]=\"getLabel(key, value)\"></span>\r\n\t\t\t<!-- <span class=\"key\" [innerHTML]=\"key\"></span> <span class=\"value\" [innerHTML]=\"value | json\"></span> -->\r\n\t\t</div>\r\n\t</div>\r\n\t`\r\n};\r\n","import { Pipe } from \"rxcomp\";\r\n\r\n/*\r\n['quot', 'amp', 'apos', 'lt', 'gt', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'AElig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'amp', 'bull', 'deg', 'infin', 'permil', 'sdot', 'plusmn', 'dagger', 'mdash', 'not', 'micro', 'perp', 'par', 'euro', 'pound', 'yen', 'cent', 'copy', 'reg', 'trade', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega'];\r\n['\"', '&', ''', '<', '>', ' ', '¡', '¢', '£', '¤', '¥', '¦', '§', '¨', '©', 'ª', '«', '¬', '­', '®', '¯', '°', '±', '²', '³', '´', 'µ', '¶', '·', '¸', '¹', 'º', '»', '¼', '½', '¾', '¿', 'À', 'Á', 'Â', 'Ã', 'Ä', 'Å', 'Æ', 'Ç', 'È', 'É', 'Ê', 'Ë', 'Ì', 'Í', 'Î', 'Ï', 'Ð', 'Ñ', 'Ò', 'Ó', 'Ô', 'Õ', 'Ö', '×', 'Ø', 'Ù', 'Ú', 'Û', 'Ü', 'Ý', 'Þ', 'ß', 'à', 'á', 'ã', 'ä', 'å', 'æ', 'ç', 'è', 'é', 'ê', 'ë', 'ì', 'í', 'î', 'ï', 'ð', 'ñ', 'ò', 'ó', 'ô', 'õ', 'ö', '÷', 'ø', 'ù', 'ú', 'û', 'ü', 'ý', 'þ', 'ÿ', '&', '•', '°', '∞', '‰', '⋅', '±', '†', '—', '¬', 'µ', '⊥', '∥', '€', '£', '¥', '¢', '©', '®', '™', 'α', 'β', 'γ', 'δ', 'ε', 'ζ', 'η', 'θ', 'ι', 'κ', 'λ', 'μ', 'ν', 'ξ', 'ο', 'π', 'ρ', 'σ', 'τ', 'υ', 'φ', 'χ', 'ψ', 'ω', 'Α', 'Β', 'Γ', 'Δ', 'Ε', 'Ζ', 'Η', 'Θ', 'Ι', 'Κ', 'Λ', 'Μ', 'Ν', 'Ξ', 'Ο', 'Π', 'Ρ', 'Σ', 'Τ', 'Υ', 'Φ', 'Χ', 'Ψ', 'Ω'];\r\n*/\r\n\r\nexport default class HtmlPipe extends Pipe {\r\n\r\n\tstatic transform(value) {\r\n\t\tif (value) {\r\n\t\t\tvalue = value.replace(/&#(\\d+);/g, function(m, n) {\r\n\t\t\t\treturn String.fromCharCode(parseInt(n));\r\n\t\t\t});\r\n\t\t\tconst escapes = ['quot', 'amp', 'apos', 'lt', 'gt', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'AElig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'amp', 'bull', 'deg', 'infin', 'permil', 'sdot', 'plusmn', 'dagger', 'mdash', 'not', 'micro', 'perp', 'par', 'euro', 'pound', 'yen', 'cent', 'copy', 'reg', 'trade', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega'];\r\n\t\t\tconst unescapes = ['\"', '&', '\\'', '<', '>', ' ', '¡', '¢', '£', '¤', '¥', '¦', '§', '¨', '©', 'ª', '«', '¬', '­', '®', '¯', '°', '±', '²', '³', '´', 'µ', '¶', '·', '¸', '¹', 'º', '»', '¼', '½', '¾', '¿', 'À', 'Á', 'Â', 'Ã', 'Ä', 'Å', 'Æ', 'Ç', 'È', 'É', 'Ê', 'Ë', 'Ì', 'Í', 'Î', 'Ï', 'Ð', 'Ñ', 'Ò', 'Ó', 'Ô', 'Õ', 'Ö', '×', 'Ø', 'Ù', 'Ú', 'Û', 'Ü', 'Ý', 'Þ', 'ß', 'à', 'á', 'ã', 'ä', 'å', 'æ', 'ç', 'è', 'é', 'ê', 'ë', 'ì', 'í', 'î', 'ï', 'ð', 'ñ', 'ò', 'ó', 'ô', 'õ', 'ö', '÷', 'ø', 'ù', 'ú', 'û', 'ü', 'ý', 'þ', 'ÿ', '&', '•', '°', '∞', '‰', '⋅', '±', '†', '—', '¬', 'µ', '⊥', '∥', '€', '£', '¥', '¢', '©', '®', '™', 'α', 'β', 'γ', 'δ', 'ε', 'ζ', 'η', 'θ', 'ι', 'κ', 'λ', 'μ', 'ν', 'ξ', 'ο', 'π', 'ρ', 'σ', 'τ', 'υ', 'φ', 'χ', 'ψ', 'ω', 'Α', 'Β', 'Γ', 'Δ', 'Ε', 'Ζ', 'Η', 'Θ', 'Ι', 'Κ', 'Λ', 'Μ', 'Ν', 'Ξ', 'Ο', 'Π', 'Ρ', 'Σ', 'Τ', 'Υ', 'Φ', 'Χ', 'Ψ', 'Ω'];\r\n\t\t\tconst rx = new RegExp(`(&${escapes.join(';)|(&')};)`, 'g');\r\n\t\t\tvalue = value.replace(rx, function() {\r\n\t\t\t\tfor (let i = 1; i < arguments.length; i++) {\r\n\t\t\t\t\tif (arguments[i]) {\r\n\t\t\t\t\t\t// console.log(arguments[i], unescapes[i - 1]);\r\n\t\t\t\t\t\treturn unescapes[i - 1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// console.log(value);\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nHtmlPipe.meta = {\r\n\tname: 'html',\r\n};\r\n","import { combineLatest } from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport ChannelService from '../channel/channel.service';\nimport EventService from '../event/event.service';\nimport PageComponent from '../page/page.component';\n\nexport default class IndexPageComponent extends PageComponent {\n\n\tonInit() {\n\t\tthis.topEvents = this.topChannels = this.upcomingEvents = [];\n\t\tthis.load$().pipe(\n\t\t\tfirst(),\n\t\t).subscribe(data => {\n\t\t\tthis.topEvents = data[0];\n\t\t\tthis.topChannels = data[1];\n\t\t\tthis.upcomingEvents = data[2];\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\tload$() {\n\t\treturn combineLatest(\n\t\t\tEventService.top$(),\n\t\t\tChannelService.top$(),\n\t\t\tEventService.upcoming$(),\n\t\t);\n\t}\n\n}\n\nIndexPageComponent.meta = {\n\tselector: '[index-page]',\n};\n","import { fromEvent, of } from 'rxjs';\r\nimport { filter, finalize, first, map } from 'rxjs/operators';\r\nimport { STATIC } from '../environment/environment';\r\n\r\nconst PATH = STATIC ? './' : '/Client/docs/';\r\n\r\nlet UID = 0;\r\n\r\nexport default class ImageService {\r\n\r\n\tstatic worker() {\r\n\t\tif (!this.worker_) {\r\n\t\t\tthis.worker_ = new Worker(`${PATH}js/workers/image.service.worker.js`);\r\n\t\t}\r\n\t\treturn this.worker_;\r\n\t}\r\n\r\n\tstatic load$(src) {\r\n\t\t// if (!('Worker' in window) || this.isBlob(src) || this.isCors(src)) {\r\n\t\tif (!('Worker' in window) || this.isBlob(src)) {\r\n\t\t\treturn of(src);\r\n\t\t}\r\n\t\tconst id = ++UID;\r\n\t\tconst worker = this.worker();\r\n\t\tworker.postMessage({ src, id });\r\n\t\treturn fromEvent(worker, 'message').pipe(\r\n\t\t\tfilter(event => event.data.src === src),\r\n\t\t\tmap(event => {\r\n\t\t\t\tconst url = URL.createObjectURL(event.data.blob);\r\n\t\t\t\treturn url;\r\n\t\t\t}),\r\n\t\t\tfirst(),\r\n\t\t\tfinalize(url => {\r\n\t\t\t\tworker.postMessage({ id });\r\n\t\t\t\tif (url) {\r\n\t\t\t\t\tURL.revokeObjectURL(url);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic isCors(src) {\r\n\t\treturn src.indexOf('//') !== -1 && src.indexOf(window.location.host) === -1;\r\n\t}\r\n\r\n\tstatic isBlob(src) {\r\n\t\treturn src.indexOf('blob:') === 0;\r\n\t}\r\n\r\n}\r\n","import { BehaviorSubject, of , Subject } from 'rxjs';\r\nimport { filter, finalize, first, map } from 'rxjs/operators';\r\n\r\nexport default class IntersectionService {\r\n\r\n\tstatic observer() {\r\n\t\tif (!this.observer_) {\r\n\t\t\tthis.readySubject_ = new BehaviorSubject(false);\r\n\t\t\tthis.observerSubject_ = new Subject();\r\n\t\t\tthis.observer_ = new IntersectionObserver(entries => {\r\n\t\t\t\tthis.observerSubject_.next(entries);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this.observer_;\r\n\t}\r\n\r\n\tstatic intersection$(node) {\r\n\t\tif ('IntersectionObserver' in window) {\r\n\t\t\tconst observer = this.observer();\r\n\t\t\tobserver.observe(node);\r\n\t\t\treturn this.observerSubject_.pipe(\r\n\t\t\t\t// tap(entries => console.log(entries.length)),\r\n\t\t\t\tmap(entries => entries.find(entry => entry.target === node)),\r\n\t\t\t\t// tap(entry => console.log('IntersectionService.intersection$', entry)),\r\n\t\t\t\tfilter(entry => entry !== undefined && entry.isIntersecting), // entry.intersectionRatio > 0\r\n\t\t\t\tfirst(),\r\n\t\t\t\tfinalize(() => observer.unobserve(node)),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn of({ target: node });\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\tfunction observer() {\r\n\t\t\tif ('IntersectionObserver' in window) {\r\n\t\t\t\treturn new IntersectionObserver(entries => {\r\n\t\t\t\t\tentries.forEach(function(entry) {\r\n\t\t\t\t\t\tif (entry.isIntersecting) {\r\n\t\t\t\t\t\t\tentry.target.classList.add('appear');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn { observe: function(node) { node.classList.add('appear')}, unobserve: function() {} };\r\n\t\t\t}\r\n\t\t}\r\n\t\tobserver.observe(node);\r\n\t\tobserver.unobserve(node);\r\n\t\t*/\r\n\r\n\t}\r\n\r\n}\r\n","export default class LazyCache {\r\n\tstatic get cache() {\r\n\t\tif (!this.cache_) {\r\n\t\t\tthis.cache_ = {};\r\n\t\t}\r\n\t\treturn this.cache_;\r\n\t}\r\n\r\n\tstatic get(src) {\r\n\t\treturn this.cache[src];\r\n\t}\r\n\r\n\tstatic set(src, blob) {\r\n\t\tthis.cache[src] = blob;\r\n\t\tconst keys = Object.keys(this.cache);\r\n\t\tif (keys.length > 100) {\r\n\t\t\tthis.remove(keys[0]);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic remove(src) {\r\n\t\tdelete this.cache[src];\r\n\t}\r\n}\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { of , Subject } from 'rxjs';\r\nimport { distinctUntilChanged, first, switchMap, takeUntil } from 'rxjs/operators';\r\nimport ImageService from '../image/image.service';\r\nimport IntersectionService from '../intersection/intersection.service';\r\nimport LazyCache from './lazy.cache';\r\n\r\nexport default class LazyDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('lazy');\r\n\t\tthis.input$ = new Subject().pipe(\r\n\t\t\tdistinctUntilChanged(),\r\n\t\t\tswitchMap(input => {\r\n\t\t\t\tconst src = LazyCache.get(input);\r\n\t\t\t\tif (src) {\r\n\t\t\t\t\treturn of(src);\r\n\t\t\t\t}\r\n\t\t\t\tnode.classList.remove('lazyed');\r\n\t\t\t\treturn this.lazy$(input);\r\n\t\t\t}),\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t);\r\n\t\tthis.input$.subscribe(src => {\r\n\t\t\tLazyCache.set(this.lazy, src);\r\n\t\t\tnode.setAttribute('src', src);\r\n\t\t\tnode.classList.add('lazyed');\r\n\t\t});\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tthis.input$.next(this.lazy);\r\n\t}\r\n\r\n\tlazy$(input) {\r\n\t\tconst { node } = getContext(this);\r\n\t\treturn IntersectionService.intersection$(node).pipe(\r\n\t\t\tfirst(),\r\n\t\t\tswitchMap(() => ImageService.load$(input)),\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nLazyDirective.meta = {\r\n\tselector: '[lazy],[[lazy]]',\r\n\tinputs: ['lazy']\r\n};\r\n","import { from, Subject } from 'rxjs';\r\nimport { map, switchMap, tap } from 'rxjs/operators';\r\n\r\nexport class ModalEvent {\r\n\r\n\tconstructor(data) {\r\n\t\tthis.data = data;\r\n\t}\r\n\r\n}\r\n\r\nexport class ModalResolveEvent extends ModalEvent {}\r\nexport class ModalRejectEvent extends ModalEvent {}\r\n\r\nexport default class ModalService {\r\n\r\n\tstatic open$(modal) {\r\n\t\treturn this.getTemplate$(modal.src).pipe(\r\n\t\t\tmap(template => {\r\n\t\t\t\treturn { node: this.getNode(template), data: modal.data, modal: modal };\r\n\t\t\t}),\r\n\t\t\ttap(node => this.modal$.next(node)),\r\n\t\t\tswitchMap(node => this.events$),\r\n\t\t)\r\n\t}\r\n\r\n\tstatic load$(modal) {\r\n\r\n\t}\r\n\r\n\tstatic getTemplate$(url) {\r\n\t\treturn from(fetch(url).then(response => {\r\n\t\t\treturn response.text();\r\n\t\t}));\r\n\t}\r\n\r\n\tstatic getNode(template) {\r\n\t\tconst div = document.createElement(\"div\");\r\n\t\tdiv.innerHTML = template;\r\n\t\tconst node = div.firstElementChild;\r\n\t\treturn node;\r\n\t}\r\n\r\n\tstatic reject(data) {\r\n\t\tthis.modal$.next(null);\r\n\t\tthis.events$.next(new ModalRejectEvent(data));\r\n\t}\r\n\r\n\tstatic resolve(data) {\r\n\t\tthis.modal$.next(null);\r\n\t\tthis.events$.next(new ModalResolveEvent(data));\r\n\t}\r\n\r\n}\r\n\r\nModalService.modal$ = new Subject();\r\nModalService.events$ = new Subject();\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport ModalService from './modal.service';\r\n\r\nexport default class ModalOutletComponent extends Component {\r\n\r\n\tget modal() {\r\n\t\treturn this.modal_;\r\n\t}\r\n\r\n\tset modal(modal) {\r\n\t\t// console.log('ModalOutletComponent set modal', modal, this);\r\n\t\tconst { module } = getContext(this);\r\n\t\tif (this.modal_ && this.modal_.node) {\r\n\t\t\tmodule.remove(this.modal_.node, this);\r\n\t\t\tthis.modalNode.removeChild(this.modal_.node);\r\n\t\t}\r\n\t\tif (modal && modal.node) {\r\n\t\t\tthis.modal_ = modal;\r\n\t\t\tthis.modalNode.appendChild(modal.node);\r\n\t\t\tconst instances = module.compile(modal.node);\r\n\t\t}\r\n\t\tthis.modal_ = modal;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.modalNode = node.querySelector('.modal-outlet__modal');\r\n\t\tModalService.modal$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(modal => {\r\n\t\t\tthis.modal = modal;\r\n\t\t});\r\n\t}\r\n\r\n\tonRegister(event) {\r\n\t\t// console.log('ModalComponent.onRegister');\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonLogin(event) {\r\n\t\t// console.log('ModalComponent.onLogin');\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\treject(event) {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n}\r\n\r\nModalOutletComponent.meta = {\r\n\tselector: '[modal-outlet]',\r\n\ttemplate: /* html */ `\r\n\t<div class=\"modal-outlet__container\" [class]=\"{ active: modal }\">\r\n\t\t<div class=\"modal-outlet__background\" (click)=\"reject($event)\"></div>\r\n\t\t<div class=\"modal-outlet__modal\"></div>\r\n\t</div>\r\n\t`\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport ModalOutletComponent from '../modal/modal-outlet.component';\r\nimport ModalService from './modal.service';\r\n\r\nexport default class ModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tthis.data = parentInstance.modal.data;\r\n\t\t}\r\n\t}\r\n\r\n\tclose() {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n}\r\n\r\nModalComponent.meta = {\r\n\tselector: '[modal]'\r\n};\r\n","export default class LocalStorageService {\r\n\r\n\tstatic delete(name) {\r\n\t\tif (this.isLocalStorageSupported()) {\r\n\t\t\twindow.localStorage.removeItem(name);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic exist(name) {\r\n\t\tif (this.isLocalStorageSupported()) {\r\n\t\t\treturn window.localStorage[name] !== undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic get(name) {\r\n\t\tlet value = null;\r\n\t\tif (this.isLocalStorageSupported() && window.localStorage[name] !== undefined) {\r\n\t\t\ttry {\r\n\t\t\t\tvalue = JSON.parse(window.localStorage[name]);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log('LocalStorageService.get.error parsing', name, e);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n\tstatic set(name, value) {\r\n\t\tif (this.isLocalStorageSupported()) {\r\n\t\t\ttry {\r\n\t\t\t\tconst cache = [];\r\n\t\t\t\tconst json = JSON.stringify(value, function(key, value) {\r\n\t\t\t\t\tif (typeof value === 'object' && value !== null) {\r\n\t\t\t\t\t\tif (cache.indexOf(value) !== -1) {\r\n\t\t\t\t\t\t\t// Circular reference found, discard key\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcache.push(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t});\r\n\t\t\t\twindow.localStorage.setItem(name, json);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log('LocalStorageService.set.error serializing', name, value, e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic isLocalStorageSupported() {\r\n\t\tif (this.supported) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tlet supported = false;\r\n\t\ttry {\r\n\t\t\tsupported = 'localStorage' in window && window.localStorage !== null;\r\n\t\t\tif (supported) {\r\n\t\t\t\twindow.localStorage.setItem('test', '1');\r\n\t\t\t\twindow.localStorage.removeItem('test');\r\n\t\t\t} else {\r\n\t\t\t\tsupported = false;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tsupported = false;\r\n\t\t}\r\n\t\tthis.supported = supported;\r\n\t\treturn supported;\r\n\t}\r\n\r\n}\r\n","import { BehaviorSubject } from 'rxjs';\r\nimport { map, switchMap } from 'rxjs/operators';\r\nimport { STATIC } from '../environment/environment';\r\nimport HttpService from '../http/http.service';\r\nimport LocalStorageService from '../local-storage/local-storage.service';\r\n\r\nexport default class UserService {\r\n\r\n\tstatic setUser(user) {\r\n\t\tthis.user$.next(user);\r\n\t}\r\n\r\n\tstatic me$() {\r\n\t\treturn HttpService.get$('/api/users/me').pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'me')),\r\n\t\t\tswitchMap(user => {\r\n\t\t\t\tthis.setUser(user);\r\n\t\t\t\treturn this.user$;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic register$(payload) {\r\n\t\treturn HttpService.post$('/api/users/register', payload).pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'register')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic update(payload) {\r\n\t\treturn HttpService.post$('/api/users/updateprofile', payload).pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'register')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic login$(payload) {\r\n\t\treturn HttpService.post$('/api/users/login', payload).pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'login')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic logout$() {\r\n\t\treturn HttpService.post$('/api/users/logout').pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'logout')),\r\n\t\t);\r\n\t}\r\n\tstatic retrieve$(payload) {\r\n\t\treturn HttpService.post$('/api/users/retrievepassword', payload).pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'retrieve')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic mapStatic__(user, action = 'me') {\r\n\t\tif (!STATIC) {\r\n\t\t\treturn user;\r\n\t\t};\r\n\t\tswitch (action) {\r\n\t\t\tcase 'me':\r\n\t\t\t\tif (!LocalStorageService.exist('user')) {\r\n\t\t\t\t\tuser = null;\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'register':\r\n\t\t\t\tLocalStorageService.set('user', user);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'login':\r\n\t\t\t\tLocalStorageService.set('user', user);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'logout':\r\n\t\t\t\tLocalStorageService.delete('user');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn user;\r\n\t}\r\n\r\n}\r\n\r\nUserService.user$ = new BehaviorSubject(null);\r\n","import { Component } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { STATIC } from '../environment/environment';\r\nimport ModalService, { ModalResolveEvent } from '../modal/modal.service';\r\nimport UserService from '../user/user.service';\r\n\r\nconst src = STATIC ? '/tiemme-com/club-modal.html' : '/Viewdoc.cshtml?co_id=23649';\r\n\r\nexport default class RegisterOrLoginComponent extends Component {\r\n\r\n\tonRegister(event) {\r\n\t\t// console.log('RegisterOrLoginComponent.onRegister');\r\n\t\tevent.preventDefault();\r\n\t\tModalService.open$({ src: src, data: { view: 2 } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('RegisterOrLoginComponent.onRegister', event);\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tUserService.setUser(event.data);\r\n\t\t\t}\r\n\t\t});\r\n\t\t// this.pushChanges();\r\n\t}\r\n\r\n\tonLogin(event) {\r\n\t\t// console.log('RegisterOrLoginComponent.onLogin');\r\n\t\tevent.preventDefault();\r\n\t\tModalService.open$({ src: src, data: { view: 1 } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('RegisterOrLoginComponent.onLogin', event);\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tUserService.setUser(event.data);\r\n\t\t\t}\r\n\t\t});\r\n\t\t// this.pushChanges();\r\n\t}\r\n\r\n}\r\n\r\nRegisterOrLoginComponent.meta = {\r\n\tselector: '[register-or-login]',\r\n};\r\n","const calculateDelta = (now, date) => Math.round(Math.abs(now - date) / 1000)\n\nexport default function relativeDateFactory (translations) {\n  return function relativeDate (date, now = new Date()) {\n    if (!(date instanceof Date)) {\n      date = new Date(date)\n    }\n\n    let delta = null\n\n    const minute = 60\n    const hour = minute * 60\n    const day = hour * 24\n    const week = day * 7\n    const month = day * 30\n    const year = day * 365\n\n    delta = calculateDelta(now, date)\n\n    if (delta > day && delta < week) {\n      date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0)\n      delta = calculateDelta(now, date)\n    }\n\n    const translate = (translatePhrase, timeValue) => {\n      let key\n\n      if (translatePhrase === 'justNow') {\n        key = translatePhrase\n      } else if (now >= date) {\n        key = `${translatePhrase}Ago`\n      } else {\n        key = `${translatePhrase}FromNow`\n      }\n\n      const translation = translations[key]\n\n      if (typeof translation === 'function') {\n        return translation(timeValue)\n      }\n\n      return translation.replace('{{time}}', timeValue)\n    }\n\n    switch (false) {\n      case !(delta < 30):\n        return translate('justNow')\n\n      case !(delta < minute):\n        return translate('seconds', delta)\n\n      case !(delta < 2 * minute):\n        return translate('aMinute')\n\n      case !(delta < hour):\n        return translate('minutes', Math.floor(delta / minute))\n\n      case Math.floor(delta / hour) !== 1:\n        return translate('anHour')\n\n      case !(delta < day):\n        return translate('hours', Math.floor(delta / hour))\n\n      case !(delta < day * 2):\n        return translate('aDay')\n\n      case !(delta < week):\n        return translate('days', Math.floor(delta / day))\n\n      case Math.floor(delta / week) !== 1:\n        return translate('aWeek')\n\n      case !(delta < month):\n        return translate('weeks', Math.floor(delta / week))\n\n      case Math.floor(delta / month) !== 1:\n        return translate('aMonth')\n\n      case !(delta < year):\n        return translate('months', Math.floor(delta / month))\n\n      case Math.floor(delta / year) !== 1:\n        return translate('aYear')\n\n      default:\n        return translate('overAYear')\n    }\n  }\n}\n","module.exports = {\n  justNow: \"just now\",\n  secondsAgo: \"{{time}} seconds ago\",\n  aMinuteAgo: \"a minute ago\",\n  minutesAgo: \"{{time}} minutes ago\",\n  anHourAgo: \"an hour ago\",\n  hoursAgo: \"{{time}} hours ago\",\n  aDayAgo: \"yesterday\",\n  daysAgo: \"{{time}} days ago\",\n  aWeekAgo: \"a week ago\",\n  weeksAgo: \"{{time}} weeks ago\",\n  aMonthAgo: \"a month ago\",\n  monthsAgo: \"{{time}} months ago\",\n  aYearAgo: \"a year ago\",\n  yearsAgo: \"{{time}} years ago\",\n  overAYearAgo: \"over a year ago\",\n  secondsFromNow: \"{{time}} seconds from now\",\n  aMinuteFromNow: \"a minute from now\",\n  minutesFromNow: \"{{time}} minutes from now\",\n  anHourFromNow: \"an hour from now\",\n  hoursFromNow: \"{{time}} hours from now\",\n  aDayFromNow: \"tomorrow\",\n  daysFromNow: \"{{time}} days from now\",\n  aWeekFromNow: \"a week from now\",\n  weeksFromNow: \"{{time}} weeks from now\",\n  aMonthFromNow: \"a month from now\",\n  monthsFromNow: \"{{time}} months from now\",\n  aYearFromNow: \"a year from now\",\n  yearsFromNow: \"{{time}} years from now\",\n  overAYearFromNow: \"over a year from now\"\n}\n","import relativeDateFactory from './factory'\nimport enTranslations from '../translations/en'\n\nexport default relativeDateFactory(enTranslations)\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = relativeDateFactory;\nvar calculateDelta = function calculateDelta(now, date) {\n  return Math.round(Math.abs(now - date) / 1000);\n};\n\nfunction relativeDateFactory(translations) {\n  return function relativeDate(date) {\n    var now = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Date();\n\n    if (!(date instanceof Date)) {\n      date = new Date(date);\n    }\n\n    var delta = null;\n\n    var minute = 60;\n    var hour = minute * 60;\n    var day = hour * 24;\n    var week = day * 7;\n    var month = day * 30;\n    var year = day * 365;\n\n    delta = calculateDelta(now, date);\n\n    if (delta > day && delta < week) {\n      date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n      delta = calculateDelta(now, date);\n    }\n\n    var translate = function translate(translatePhrase, timeValue) {\n      var key = void 0;\n\n      if (translatePhrase === 'justNow') {\n        key = translatePhrase;\n      } else if (now >= date) {\n        key = translatePhrase + 'Ago';\n      } else {\n        key = translatePhrase + 'FromNow';\n      }\n\n      var translation = translations[key];\n\n      if (typeof translation === 'function') {\n        return translation(timeValue);\n      }\n\n      return translation.replace('{{time}}', timeValue);\n    };\n\n    switch (false) {\n      case !(delta < 30):\n        return translate('justNow');\n\n      case !(delta < minute):\n        return translate('seconds', delta);\n\n      case !(delta < 2 * minute):\n        return translate('aMinute');\n\n      case !(delta < hour):\n        return translate('minutes', Math.floor(delta / minute));\n\n      case Math.floor(delta / hour) !== 1:\n        return translate('anHour');\n\n      case !(delta < day):\n        return translate('hours', Math.floor(delta / hour));\n\n      case !(delta < day * 2):\n        return translate('aDay');\n\n      case !(delta < week):\n        return translate('days', Math.floor(delta / day));\n\n      case Math.floor(delta / week) !== 1:\n        return translate('aWeek');\n\n      case !(delta < month):\n        return translate('weeks', Math.floor(delta / week));\n\n      case Math.floor(delta / month) !== 1:\n        return translate('aMonth');\n\n      case !(delta < year):\n        return translate('months', Math.floor(delta / month));\n\n      case Math.floor(delta / year) !== 1:\n        return translate('aYear');\n\n      default:\n        return translate('overAYear');\n    }\n  };\n}\nmodule.exports = exports['default'];","import { Pipe } from \"rxcomp\";\nimport relativeDate from 'tiny-relative-date';\nimport relativeDateFactory from 'tiny-relative-date/lib/factory';\n\nexport const RELATIVE_DATE_KEYS = [\"justNow\", \"secondsAgo\", \"aMinuteAgo\", \"minutesAgo\", \"anHourAgo\", \"hoursAgo\", \"aDayAgo\", \"daysAgo\", \"aWeekAgo\", \"weeksAgo\", \"aMonthAgo\", \"monthsAgo\", \"aYearAgo\", \"yearsAgo\", \"overAYearAgo\", \"secondsFromNow\", \"aMinuteFromNow\", \"minutesFromNow\", \"anHourFromNow\", \"hoursFromNow\", \"aDayFromNow\", \"daysFromNow\", \"aWeekFromNow\", \"weeksFromNow\", \"aMonthFromNow\", \"monthsFromNow\", \"aYearFromNow\", \"yearsFromNow\", \"overAYearFromNow\"];\n\nexport default class RelativeDatePipe extends Pipe {\n\n\tstatic transform(value) {\n\t\tif (value) {\n\t\t\treturn this.relativeDate(value);\n\t\t}\n\t}\n\n\tstatic setLocale(locale) {\n\t\tif (!locale) return;\n\t\tconst values = {};\n\t\tconst keys = Object.keys(locale).filter(key => RELATIVE_DATE_KEYS.indexOf(key) !== -1);\n\t\tif (keys.length) {\n\t\t\tkeys.forEach(key => values[key] = locale[key]);\n\t\t\tthis.relativeDate = relativeDateFactory(values);\n\t\t}\n\t}\n\n}\n\nRelativeDatePipe.meta = {\n\tname: 'relativeDate',\n};\n\nRelativeDatePipe.relativeDate = relativeDate;\n\nif (window.locale) {\n\tRelativeDatePipe.setLocale(window.locale);\n}\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { shareReplay, takeUntil, tap } from 'rxjs/operators';\r\n\r\nexport default class ScrollToDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tthis.initialFocus = false;\r\n\t\tconst { module, node } = getContext(this);\r\n\t\tconst expression = this.expression = node.getAttribute(`(scrollTo)`);\r\n\t\tthis.outputFunction = module.makeFunction(expression, ['$event']);\r\n\t\tthis.scrollTo$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(() => {});\r\n\t}\r\n\r\n\tscrollTo$() {\r\n\t\tconst { module, node, parentInstance } = getContext(this);\r\n\t\treturn fromEvent(node, 'click').pipe(\r\n\t\t\ttap(event => {\r\n\t\t\t\tconst result = module.resolve(this.outputFunction, parentInstance, event);\r\n\t\t\t\tif (typeof result === 'string') {\r\n\t\t\t\t\tconst target = document.querySelector(result);\r\n\t\t\t\t\tif (target) {\r\n\t\t\t\t\t\tconst from = this.currentTop();\r\n\t\t\t\t\t\tconst to = from + target.getBoundingClientRect().top - 50;\r\n\t\t\t\t\t\tconst o = { pow: 0 };\r\n\t\t\t\t\t\tconst html = document.querySelector('html');\r\n\t\t\t\t\t\tgsap.set(html, {\r\n\t\t\t\t\t\t\t'scroll-behavior': 'auto'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tgsap.to(o, Math.abs((to - from)) / 2000, {\r\n\t\t\t\t\t\t\tpow: 1,\r\n\t\t\t\t\t\t\tease: Quad.easeOut,\r\n\t\t\t\t\t\t\toverwrite: 'all',\r\n\t\t\t\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\t\t\t\twindow.scrollTo(0, from + (to - from) * o.pow);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tonComplete: () => {\r\n\t\t\t\t\t\t\t\tgsap.set(html, {\r\n\t\t\t\t\t\t\t\t\t'scroll-behavior': 'smooth'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tshareReplay(1)\r\n\t\t);\r\n\t}\r\n\r\n\tcurrentTop() {\r\n\t\t// Firefox, Chrome, Opera, Safari\r\n\t\tif (self.pageYOffset) return self.pageYOffset;\r\n\t\t// Internet Explorer 6 - standards mode\r\n\t\tif (document.documentElement && document.documentElement.scrollTop)\r\n\t\t\treturn document.documentElement.scrollTop;\r\n\t\t// Internet Explorer 6, 7 and 8\r\n\t\tif (document.body.scrollTop) return document.body.scrollTop;\r\n\t\treturn 0;\r\n\t}\r\n\r\n}\r\n\r\nScrollToDirective.meta = {\r\n\tselector: `[(scrollTo)]`\r\n};\r\n","export default class DownloadService {\r\n\r\n\tstatic get a() {\r\n\t\tlet a = this.a_;\r\n\t\tif (!a) {\r\n\t\t\ta = document.createElement(\"a\");\r\n\t\t\ta.style = \"display: none\";\r\n\t\t\tdocument.body.appendChild(a);\r\n\t\t\tthis.a_ = a;\r\n\t\t}\r\n\t\treturn a;\r\n\t}\r\n\r\n\tstatic download(blob, fileName = 'download.txt') {\r\n\t\t// var json = JSON.stringify(data),\r\n\t\t// blob = new Blob([json], {type: \"octet/stream\"}),\r\n\t\tconst url = window.URL.createObjectURL(blob);\r\n\t\tconst a = this.a;\r\n\t\ta.href = url;\r\n\t\ta.download = fileName;\r\n\t\ta.click();\r\n\t\twindow.URL.revokeObjectURL(url);\r\n\t}\r\n\r\n}\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { first, takeUntil } from 'rxjs/operators';\r\nimport DownloadService from '../download/download.service';\r\nimport { STATIC } from '../environment/environment';\r\nimport HttpService from '../http/http.service';\r\nimport ModalService, { ModalResolveEvent } from '../modal/modal.service';\r\nimport UserService from '../user/user.service';\r\n\r\nconst src = STATIC ? '/tiemme-com/club-modal.html' : '/Viewdoc.cshtml?co_id=23649';\r\n\r\nexport default class SecureDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.href = node.getAttribute('href');\r\n\t\tfromEvent(node, 'click').pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tthis.tryDownloadHref();\r\n\t\t});\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.href = node.getAttribute('href');\r\n\t}\r\n\r\n\ttryDownloadHref() {\r\n\t\tHttpService.get$(this.href, undefined, 'blob').pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(blob => {\r\n\t\t\tDownloadService.download(blob, this.href.split('/').pop());\r\n\t\t}, error => {\r\n\t\t\tconsole.log(error);\r\n\t\t\tthis.onLogin(event);\r\n\t\t});\r\n\t}\r\n\r\n\tonLogin(event) {\r\n\t\t// console.log('SecureDirective.onLogin');\r\n\t\t// event.preventDefault();\r\n\t\tModalService.open$({ src: src, data: { view: 1 } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('SecureDirective.onLogin', event);\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tUserService.setUser(event.data);\r\n\t\t\t\tthis.tryDownloadHref();\r\n\t\t\t}\r\n\t\t});\r\n\t\t// this.pushChanges();\r\n\t}\r\n\r\n\t/*\r\n\tonRegister(event) {\r\n\t\t// console.log('SecureDirective.onRegister');\r\n\t\t// event.preventDefault();\r\n\t\tModalService.open$({ src: src, data: { view: 2 } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('SecureDirective.onRegister', event);\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tUserService.setUser(event.data);\r\n\t\t\t}\r\n\t\t});\r\n\t\t// this.pushChanges();\r\n\t}\r\n\t*/\r\n\r\n}\r\n\r\nSecureDirective.meta = {\r\n\tselector: '[secure]',\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { Subject } from 'rxjs';\r\nimport Swiper from 'swiper';\r\n\r\nexport default class SwiperDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.setAttribute('id', `swiper-${this.rxcompId}`);\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 'auto',\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tcenteredSlides: true,\r\n\t\t\tspeed: 600,\r\n\t\t\tautoplay: {\r\n\t\t\t\tdelay: 5000,\r\n\t\t\t},\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tpagination: {\r\n\t\t\t\tel: `#swiper-${this.rxcompId} .swiper-pagination`,\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t\tnavigation: {\r\n\t\t\t\tnextEl: `#swiper-${this.rxcompId} .swiper-button-next`,\r\n\t\t\t\tprevEl: `#swiper-${this.rxcompId} .swiper-button-prev`,\r\n\t\t\t},\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t}\r\n\r\n\tget enabled() {\r\n\t\treturn !window.matchMedia('print').matches;\r\n\t}\r\n\r\n\tonView() {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.swiperInitOrUpdate_();\r\n\t\t}, 1);\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.removeListeners_();\r\n\t\tthis.swiperDestroy_();\r\n\t}\r\n\r\n\tonBeforePrint() {\r\n\t\tthis.swiperDestroy_();\r\n\t}\r\n\r\n\tslideToIndex(index) {\r\n\t\t// console.log('SwiperDirective.slideToIndex', index);\r\n\t\tif (this.swiper) {\r\n\t\t\tthis.swiper.slideTo(index);\r\n\t\t}\r\n\t}\r\n\r\n\tinit_() {\r\n\t\tthis.events$ = new Subject();\r\n\t\tif (this.enabled) {\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tgsap.set(node, { opacity: 0 });\r\n\t\t\tthis.index = 0;\r\n\t\t\tconst on = this.options.on || {};\r\n\t\t\tconst self = this;\r\n\t\t\ton.slideChange = function() {\r\n\t\t\t\tconst swiper = this;\r\n\t\t\t\tself.index = swiper.activeIndex;\r\n\t\t\t\tself.events$.next(self.index);\r\n\t\t\t\tself.pushChanges();\r\n\t\t\t};\r\n\t\t\tthis.options.on = on;\r\n\t\t\tthis.addListeners_();\r\n\t\t}\r\n\t}\r\n\r\n\taddListeners_() {\r\n\t\tthis.onBeforePrint = this.onBeforePrint.bind(this);\r\n\t\twindow.addEventListener('beforeprint', this.onBeforePrint);\r\n\t\t/*\r\n\t\tscope.$on('onResize', ($scope) => {\r\n\t\t\tthis.onResize(scope, element, attributes);\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\tremoveListeners_() {\r\n\t\twindow.removeEventListener('beforeprint', this.onBeforePrint);\r\n\t}\r\n\r\n\tswiperInitOrUpdate_() {\r\n\t\tif (this.enabled) {\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tif (this.swiper) {\r\n\t\t\t\tthis.swiper.update();\r\n\t\t\t} else {\r\n\t\t\t\tlet swiper;\r\n\t\t\t\tconst on = this.options.on || (this.options.on = {});\r\n\t\t\t\tconst callback = on.init;\r\n\t\t\t\tif (!on.init || !on.init.swiperDirectiveInit) {\r\n\t\t\t\t\ton.init = function() {\r\n\t\t\t\t\t\tgsap.to(node, 0.4, {\r\n\t\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\t\tease: Power2.easeOut,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\t\t\t\tcallback.apply(this, [swiper, element, scope]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 1);\r\n\t\t\t\t\t};\r\n\t\t\t\t\ton.init.swiperDirectiveInit = true;\r\n\t\t\t\t}\r\n\t\t\t\tgsap.set(node, { opacity: 1 });\r\n\t\t\t\tswiper = new Swiper(node, this.options);\r\n\t\t\t\tthis.swiper = swiper;\r\n\t\t\t\tthis.swiper._opening = true;\r\n\t\t\t\tnode.classList.add('swiper-init');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tswiperDestroy_() {\r\n\t\tif (this.swiper) {\r\n\t\t\tthis.swiper.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\topenMore(event) {\r\n\t\tthis.more.next(event);\r\n\t}\r\n}\r\n\r\nSwiperDirective.meta = {\r\n\tselector: '[swiper]',\r\n\tinputs: ['consumer'],\r\n\toutputs: ['more']\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport SwiperDirective from './swiper.directive';\r\n\r\nexport default class SwiperEventsDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.setAttribute('id', `swiper-${this.rxcompId}`);\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 2,\r\n\t\t\tspaceBetween: 25,\r\n\t\t\tcenteredSlides: false,\r\n\t\t\t// loop: true,\r\n\t\t\tloopAdditionalSlides: 100,\r\n\t\t\tspeed: 600,\r\n\t\t\t/*\r\n\t\t\tautoplay: {\r\n\t\t\t\tdelay: 5000,\r\n\t\t\t},\r\n\t\t\t*/\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tpagination: {\r\n\t\t\t\tel: `#swiper-${this.rxcompId} .swiper-pagination`,\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t\tnavigation: {\r\n\t\t\t\tnextEl: `#swiper-${this.rxcompId} .swiper-button-next`,\r\n\t\t\t\tprevEl: `#swiper-${this.rxcompId} .swiper-button-prev`,\r\n\t\t\t},\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t\t// console.log('SwiperEventsDirective.onInit');\r\n\t}\r\n\r\n}\r\n\r\nSwiperEventsDirective.meta = {\r\n\tselector: '[swiper-events]'\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport SwiperDirective from './swiper.directive';\r\n\r\nexport default class SwiperSlidesDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.setAttribute('id', `swiper-${this.rxcompId}`);\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tcenteredSlides: true,\r\n\t\t\tloop: false,\r\n\t\t\tloopAdditionalSlides: 100,\r\n\t\t\tspeed: 600,\r\n\t\t\t/*\r\n\t\t\tautoplay: {\r\n\t\t\t\tdelay: 5000,\r\n\t\t\t},\r\n\t\t\t*/\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tpagination: {\r\n\t\t\t\tel: `#swiper-${this.rxcompId} .swiper-pagination`,\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t\tnavigation: {\r\n\t\t\t\tnextEl: `#swiper-${this.rxcompId} .swiper-button-next`,\r\n\t\t\t\tprevEl: `#swiper-${this.rxcompId} .swiper-button-prev`,\r\n\t\t\t},\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t}\r\n\r\n}\r\n\r\nSwiperSlidesDirective.meta = {\r\n\tselector: '[swiper-slides]'\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport SwiperDirective from './swiper.directive';\r\n\r\nexport default class SwiperTopEventsDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.setAttribute('id', `swiper-${this.rxcompId}`);\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 2,\r\n\t\t\tbreakpoints: {\r\n\t\t\t\t768: {\r\n\t\t\t\t\tslidesPerView: 2,\r\n\t\t\t\t\tspaceBetween: 2,\r\n\t\t\t\t},\r\n\t\t\t\t1024: {\r\n\t\t\t\t\tslidesPerView: 3,\r\n\t\t\t\t\tspaceBetween: 2,\r\n\t\t\t\t},\r\n\t\t\t\t1440: {\r\n\t\t\t\t\tslidesPerView: 4,\r\n\t\t\t\t\tspaceBetween: 2,\r\n\t\t\t\t},\r\n\t\t\t\t1920: {\r\n\t\t\t\t\tslidesPerView: 4,\r\n\t\t\t\t\tspaceBetween: 2,\r\n\t\t\t\t},\r\n\t\t\t\t2440: {\r\n\t\t\t\t\tslidesPerView: 5,\r\n\t\t\t\t\tspaceBetween: 2,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tcenteredSlides: false,\r\n\t\t\t// loop: true,\r\n\t\t\tloopAdditionalSlides: 100,\r\n\t\t\tspeed: 600,\r\n\t\t\t/*\r\n\t\t\tautoplay: {\r\n\t\t\t\tdelay: 5000,\r\n\t\t\t},\r\n\t\t\t*/\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tpagination: {\r\n\t\t\t\tel: `#swiper-${this.rxcompId} .swiper-pagination`,\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t\tnavigation: {\r\n\t\t\t\tnextEl: `#swiper-${this.rxcompId} .swiper-button-next`,\r\n\t\t\t\tprevEl: `#swiper-${this.rxcompId} .swiper-button-prev`,\r\n\t\t\t},\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t\t// console.log('SwiperTopEventsDirective.onInit');\r\n\t}\r\n\r\n}\r\n\r\nSwiperTopEventsDirective.meta = {\r\n\tselector: '[swiper-top-events]'\r\n};\r\n","import { Component, getContext } from 'rxcomp';\n\nexport default class ThronComponent extends Component {\n\n\tonInit() {\n\t\tconst THRON = window.THRONContentExperience || window.THRONPlayer;\n\t\tif (!THRON) {\n\t\t\treturn;\n\t\t}\n\t\tconst { node, rxcompId } = getContext(this);\n\n\t\tnode.setAttribute('id', `thron-${rxcompId}`);\n\n\t\tlet media = this.thron;\n\t\tif (media.indexOf('pkey=') === -1) {\n\t\t\tconst splitted = media.split('/');\n\t\t\tconst clientId = splitted[6];\n\t\t\tconst xcontentId = splitted[7];\n\t\t\tconst pkey = splitted[8];\n\t\t\tmedia = `https://gruppoconcorde-view.thron.com/api/xcontents/resources/delivery/getContentDetail?clientId=${clientId}&xcontentId=${xcontentId}&pkey=${pkey}`;\n\t\t\t// console.log(media);\n\t\t}\n\t\tconst controls = node.hasAttribute('controls') ? true : false,\n\t\t\tloop = node.hasAttribute('loop') ? true : false,\n\t\t\tautoplay = node.hasAttribute('autoplay') ? true : false;\n\t\tconst player = this.player = THRON(node.id, {\n\t\t\tmedia: media,\n\t\t\tloop: loop,\n\t\t\tautoplay: autoplay,\n\t\t\tmuted: !controls,\n\t\t\tdisplayLinked: 'close',\n\t\t\tnoSkin: !controls,\n\t\t\t// lockBitrate: 'max',\n\t\t});\n\t\tthis.onReady = this.onReady.bind(this);\n\t\tthis.onCanPlay = this.onCanPlay.bind(this);\n\t\tthis.onPlaying = this.onPlaying.bind(this);\n\t\tthis.onComplete = this.onComplete.bind(this);\n\t\tplayer.on('ready', this.onReady);\n\t\tplayer.on('canPlay', this.onCanPlay);\n\t\tplayer.on('playing', this.onPlaying);\n\t\tplayer.on('complete', this.onComplete);\n\t}\n\n\tonReady() {\n\t\tconst { node } = getContext(this);\n\t\tconst controls = node.hasAttribute('controls') ? true : false;\n\t\tif (!controls) {\n\t\t\tconst player = this.player;\n\t\t\tconst mediaContainer = player.mediaContainer();\n\t\t\tconst video = mediaContainer.querySelector('video');\n\t\t\tvideo.setAttribute('playsinline', 'true');\n\t\t}\n\t\tthis.ready.next(this);\n\t}\n\n\tonCanPlay() {\n\t\tthis.canPlay.next(this);\n\t}\n\n\tonPlaying() {\n\t\tconst player = this.player;\n\t\tplayer.off('playing', onPlaying);\n\t\tconst controls = node.hasAttribute('controls') ? true : false;\n\t\tif (!controls) {\n\t\t\tconst qualities = player.qualityLevels();\n\t\t\tif (qualities.length) {\n\t\t\t\tconst highestQuality = qualities[qualities.length - 1].index;\n\t\t\t\tconst lowestQuality = qualities[0].index;\n\t\t\t\tplayer.currentQuality(highestQuality);\n\t\t\t}\n\t\t}\n\t}\n\n\tonComplete() {\n\t\tthis.complete.next(this);\n\t}\n\n\tonDestroy() {\n\t\tconst player = this.player;\n\t\tplayer.off('ready', this.onReady);\n\t\tplayer.off('canPlay', this.onCanPlay);\n\t\tplayer.off('playing', this.onPlaying);\n\t\tplayer.off('complete', this.onComplete);\n\t}\n\n\tplay() {\n\t\tconst player = this.player;\n\t\tconst status = player.status();\n\t\tif (status && !status.playing) {\n\t\t\tplayer.play();\n\t\t}\n\t}\n\n\tpause() {\n\t\tconst player = this.player;\n\t\tconst status = player.status();\n\t\tif (status && status.playing) {\n\t\t\tplayer.pause();\n\t\t}\n\t}\n}\n\nThronComponent.meta = {\n\tselector: '[thron]',\n\toutputs: ['ready', 'canPlay', 'complete'],\n\tinputs: ['thron'],\n};\n","function push_(event) {\r\n\tconst dataLayer = window.dataLayer || [];\r\n\tdataLayer.push(event);\r\n\tconsole.log('GtmService.dataLayer', event);\r\n}\r\n\r\nexport default class GtmService {\r\n\r\n\tstatic push(event) {\r\n\t\treturn push_(event);\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport GtmService from '../gtm/gtm.service';\r\nimport SwiperDirective from '../swiper/swiper.directive';\r\n\r\nexport default class VideoComponent extends Component {\r\n\r\n\tget playing() {\r\n\t\treturn this.playing_;\r\n\t}\r\n\r\n\tset playing(playing) {\r\n\t\tif (this.playing_ !== playing) {\r\n\t\t\tthis.playing_ = playing;\r\n\t\t\tthis.pushChanges();\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.item = {};\r\n\t\tconst { node, parentInstance } = getContext(this);\r\n\t\tnode.classList.add('video');\r\n\t\tthis.video = node.querySelector('video');\r\n\t\tthis.progress = node.querySelector('.icon--play-progress path');\r\n\t\tif (parentInstance instanceof SwiperDirective) {\r\n\t\t\tparentInstance.events$.pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t\t).subscribe(event => this.pause());\r\n\t\t}\r\n\t\tthis.addListeners();\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.removeListeners();\r\n\t}\r\n\r\n\taddListeners() {\r\n\t\tconst video = this.video;\r\n\t\tif (video) {\r\n\t\t\tthis.onPlay = this.onPlay.bind(this);\r\n\t\t\tthis.onPause = this.onPause.bind(this);\r\n\t\t\tthis.onEnded = this.onEnded.bind(this);\r\n\t\t\tthis.onTimeUpdate = this.onTimeUpdate.bind(this);\r\n\t\t\tvideo.addEventListener('play', this.onPlay);\r\n\t\t\tvideo.addEventListener('pause', this.onPause);\r\n\t\t\tvideo.addEventListener('ended', this.onEnded);\r\n\t\t\tvideo.addEventListener('timeupdate', this.onTimeUpdate);\r\n\t\t}\r\n\t}\r\n\r\n\tremoveListeners() {\r\n\t\tconst video = this.video;\r\n\t\tif (video) {\r\n\t\t\tvideo.removeEventListener('play', this.onPlay);\r\n\t\t\tvideo.removeEventListener('pause', this.onPause);\r\n\t\t\tvideo.removeEventListener('ended', this.onEnded);\r\n\t\t\tvideo.removeEventListener('timeupdate', this.onTimeUpdate);\r\n\t\t}\r\n\t}\r\n\r\n\ttogglePlay() {\r\n\t\t// console.log('VideoComponent.togglePlay')\r\n\t\tconst video = this.video;\r\n\t\tif (video) {\r\n\t\t\tif (video.paused) {\r\n\t\t\t\tthis.play();\r\n\t\t\t} else {\r\n\t\t\t\tthis.pause();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tplay() {\r\n\t\tconst video = this.video;\r\n\t\tvideo.muted = false;\r\n\t\tvideo.play();\r\n\t}\r\n\r\n\tpause() {\r\n\t\tconst video = this.video;\r\n\t\tvideo.muted = true;\r\n\t\tvideo.pause();\r\n\t}\r\n\r\n\tonPlay() {\r\n\t\tthis.playing = true;\r\n\t\tGtmService.push({\r\n\t\t\tevent: 'video play',\r\n\t\t\tvideo_name: this.video.src\r\n\t\t});\r\n\t}\r\n\r\n\tonPause() {\r\n\t\tthis.playing = false;\r\n\t}\r\n\r\n\tonEnded() {\r\n\t\tthis.playing = false;\r\n\t}\r\n\r\n\tonTimeUpdate() {\r\n\t\tthis.progress.style.strokeDashoffset = this.video.currentTime / this.video.duration;\r\n\t}\r\n\r\n}\r\n\r\nVideoComponent.meta = {\r\n\tselector: '[video]',\r\n\tinputs: ['item'],\r\n};\r\n","import { Context } from 'rxcomp';\n\nexport default class VirtualItem extends Context {\n\tconstructor(key, $key, value, $value, index, count, parentInstance) {\n\t\tsuper(parentInstance);\n\t\tthis[key] = $key;\n\t\tthis[value] = $value;\n\t\tthis.index = index;\n\t\tthis.count = count;\n\t}\n\n\tget first() {\n\t\treturn this.index === 0;\n\t}\n\n\tget last() {\n\t\treturn this.index === this.count - 1;\n\t}\n\n\tget even() {\n\t\treturn this.index % 2 === 0;\n\t}\n\n\tget odd() {\n\t\treturn !this.even;\n\t}\n}\n","import { getContext, Structure } from 'rxcomp';\nimport { BehaviorSubject, fromEvent, merge } from 'rxjs';\nimport { debounceTime, map, startWith, takeUntil, tap } from 'rxjs/operators';\nimport VirtualItem from './virtual.item';\n\nexport const VirtualMode = {\n\tResponsive: 1,\n\tGrid: 2,\n\tCentered: 3,\n\tList: 4\n};\n\nexport default class VirtualStructure extends Structure {\n\n\tonInit() {\n\t\tconst { module, node } = getContext(this);\n\t\tconst template = node.firstElementChild;\n\t\tconst expression = node.getAttribute('*virtual');\n\t\tnode.removeAttribute('*virtual');\n\t\tnode.removeChild(template);\n\t\tconst tokens = (this.tokens = this.getExpressionTokens(expression));\n\t\tthis.virtualFunction = module.makeFunction(tokens.iterable);\n\t\tthis.container = node;\n\t\tthis.template = template;\n\t\tthis.mode = this.mode || 1;\n\t\tthis.width = this.width || 250;\n\t\tthis.gutter = (this.gutter !== undefined) ? this.gutter : 20;\n\t\tthis.options = {\n\t\t\ttop: 0,\n\t\t\twidth: this.width,\n\t\t\tgutter: this.gutter,\n\t\t\tcontainerWidth: 0,\n\t\t\tcontainerHeight: 0,\n\t\t\tcols: [0],\n\t\t\tstrategy: 1\n\t\t};\n\t\tthis.cachedRects = {};\n\t\tthis.cachedInstances = [];\n\t\tthis.cacheNodes = [];\n\t\tthis.items$ = new BehaviorSubject([]);\n\t\tthis.update$()\n\t\t\t.pipe(takeUntil(this.unsubscribe$))\n\t\t\t.subscribe(visibleItems => {\n\t\t\t\t// console.log(visibleItems.length);\n\t\t\t});\n\t}\n\n\tonChanges(changes) {\n\t\tconst context = getContext(this);\n\t\tconst module = context.module;\n\t\t// resolve\n\t\tconst items = module.resolve(this.virtualFunction, changes, this) || [];\n\t\tthis.mode = this.mode || 1;\n\t\tthis.width = this.width || 250;\n\t\tthis.gutter = (this.gutter !== undefined) ? this.gutter : 20;\n\t\tthis.options.width = this.width;\n\t\tthis.updateView(true);\n\t\tthis.items$.next(items);\n\t}\n\n\tupdate$() {\n\t\treturn merge(this.scroll$(), this.resize$(), this.items$).pipe(\n\t\t\tmap(datas => {\n\t\t\t\tconst options = this.options;\n\t\t\t\tconst items = this.items$.getValue();\n\t\t\t\tconst total = items.length;\n\t\t\t\tthis.container.position = 'relative';\n\t\t\t\tlet highestHeight = 0;\n\t\t\t\tconst width = this.getWidth();\n\t\t\t\tconst gutter = this.getGutter(width);\n\t\t\t\tconst visibleItems = items.filter((item, i) => {\n\t\t\t\t\tlet col, height, top, left, bottom;\n\t\t\t\t\tlet rect = this.cachedRects[i];\n\t\t\t\t\tif (rect) {\n\t\t\t\t\t\tcol = rect.col;\n\t\t\t\t\t\theight = rect.height;\n\t\t\t\t\t\tleft = rect.left;\n\t\t\t\t\t\t// top = rect.top;\n\t\t\t\t\t\t// bottom = rect.bottom;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcol = this.getCol();\n\t\t\t\t\t\theight = this.getHeight(width, item);\n\t\t\t\t\t}\n\t\t\t\t\ttop = options.cols[col];\n\t\t\t\t\tif (this.intersect(top + options.top, top + height + options.top, 0, options.containerHeight)) {\n\t\t\t\t\t\tif (!rect) {\n\t\t\t\t\t\t\tleft = this.getLeft(col, width, gutter);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst node = this.cachedNode(i, i, item, total);\n\t\t\t\t\t\tnode.style.position = 'absolute';\n\t\t\t\t\t\tnode.style.top = top + 'px';\n\t\t\t\t\t\tnode.style.left = left + 'px';\n\t\t\t\t\t\tnode.style.width = width + 'px';\n\t\t\t\t\t\tif (height !== node.offsetHeight) {\n\t\t\t\t\t\t\theight = node.offsetHeight;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbottom = top + height + options.gutter;\n\t\t\t\t\t\thighestHeight = Math.max(highestHeight, bottom);\n\t\t\t\t\t\toptions.cols[col] = bottom;\n\t\t\t\t\t\tif (!rect) {\n\t\t\t\t\t\t\tthis.cachedRects[i] = { col, width, height, left, top, bottom };\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trect.height = height;\n\t\t\t\t\t\t\trect.bottom = bottom;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.removeNode(i);\n\t\t\t\t\t\tbottom = top + height + options.gutter;\n\t\t\t\t\t\toptions.cols[col] = bottom;\n\t\t\t\t\t\thighestHeight = Math.max(highestHeight, bottom);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet removeIndex = items.length;\n\t\t\t\twhile (removeIndex < this.cacheNodes.length) {\n\t\t\t\t\tthis.removeNode(removeIndex);\n\t\t\t\t\tremoveIndex++;\n\t\t\t\t}\n\t\t\t\tthis.cacheNodes.length = items.length;\n\t\t\t\tthis.container.style.height = `${highestHeight}px`;\n\t\t\t\treturn visibleItems;\n\t\t\t})\n\t\t);\n\t}\n\n\tgetCols() {\n\t\tconst options = this.options;\n\t\tconst cols = Math.floor((options.containerWidth + options.gutter) / (options.width + options.gutter)) || 1;\n\t\treturn new Array(cols).fill(0);\n\t}\n\n\tgetCol() {\n\t\tconst options = this.options;\n\t\tlet col;\n\t\tswitch (this.mode) {\n\t\t\tcase VirtualMode.Grid:\n\t\t\tcase VirtualMode.Centered:\n\t\t\tcase VirtualMode.Responsive:\n\t\t\t\tcol = options.cols.reduce((p, c, i, a) => {\n\t\t\t\t\treturn c < a[p] ? i : p;\n\t\t\t\t}, 0);\n\t\t\t\tbreak;\n\t\t\tcase VirtualMode.List:\n\t\t\tdefault:\n\t\t\t\tcol = 0;\n\t\t}\n\t\treturn col;\n\t}\n\n\tgetWidth() {\n\t\tconst options = this.options;\n\t\tlet width;\n\t\tswitch (this.mode) {\n\t\t\tcase VirtualMode.Grid:\n\t\t\tcase VirtualMode.Centered:\n\t\t\t\twidth = options.width;\n\t\t\t\tbreak;\n\t\t\tcase VirtualMode.Responsive:\n\t\t\t\twidth = (options.containerWidth - (options.cols.length - 1) * options.gutter) / options.cols.length;\n\t\t\t\tbreak;\n\t\t\tcase VirtualMode.List:\n\t\t\tdefault:\n\t\t\t\twidth = options.containerWidth;\n\t\t}\n\t\treturn width;\n\t}\n\n\tgetHeight(width, item) {\n\t\tconst options = this.options;\n\t\tlet height;\n\t\tswitch (this.mode) {\n\t\t\tcase VirtualMode.Grid:\n\t\t\tcase VirtualMode.Centered:\n\t\t\tcase VirtualMode.Responsive:\n\t\t\t\theight = options.width;\n\t\t\t\tbreak;\n\t\t\tcase VirtualMode.List:\n\t\t\tdefault:\n\t\t\t\theight = 80;\n\t\t}\n\t\treturn height;\n\t}\n\n\tgetGutter(width) {\n\t\tconst options = this.options;\n\t\tlet gutter;\n\t\tswitch (this.mode) {\n\t\t\tcase VirtualMode.Grid:\n\t\t\tcase VirtualMode.Centered:\n\t\t\t\tgutter = options.gutter;\n\t\t\t\tbreak;\n\t\t\tcase VirtualMode.Responsive:\n\t\t\t\tgutter = (options.containerWidth - options.cols.length * width) / (options.cols.length - 1);\n\t\t\t\tbreak;\n\t\t\tcase VirtualMode.List:\n\t\t\tdefault:\n\t\t\t\tgutter = 0;\n\t\t}\n\t\treturn gutter;\n\t}\n\n\tgetLeft(index, width, gutter) {\n\t\tconst options = this.options;\n\t\tlet left;\n\t\tswitch (this.mode) {\n\t\t\tcase VirtualMode.Grid:\n\t\t\tcase VirtualMode.Responsive:\n\t\t\t\tleft = index * (width + gutter);\n\t\t\t\tbreak;\n\t\t\tcase VirtualMode.Centered:\n\t\t\t\tleft = (options.containerWidth - options.cols.length * (width + gutter) + gutter) / 2 + index * (width + gutter);\n\t\t\t\tbreak;\n\t\t\tcase VirtualMode.List:\n\t\t\tdefault:\n\t\t\t\tleft = 0;\n\t\t}\n\t\treturn left;\n\t}\n\n\tcachedNode(index, i, value, total) {\n\t\tif (this.cacheNodes[index]) {\n\t\t\treturn this.updateNode(index, i, value);\n\t\t} else {\n\t\t\treturn this.createNode(index, i, value, total);\n\t\t}\n\t}\n\n\tcreateNode(index, i, value, total) {\n\t\tconst clonedNode = this.template.cloneNode(true);\n\t\tdelete clonedNode.rxcompId;\n\t\tthis.container.appendChild(clonedNode);\n\t\tthis.cacheNodes[index] = clonedNode;\n\t\tconst context = getContext(this);\n\t\tconst module = context.module;\n\t\tconst tokens = this.tokens;\n\t\tconst args = [tokens.key, i, tokens.value, value, i, total, context.parentInstance];\n\t\tconst instance = module.makeInstance(clonedNode, VirtualItem, context.selector, context.parentInstance, args);\n\t\tconst forItemContext = getContext(instance);\n\t\tmodule.compile(clonedNode, forItemContext.instance);\n\t\tthis.cachedInstances[index] = instance;\n\t\treturn clonedNode;\n\t}\n\n\tupdateNode(index, i, value) {\n\t\tconst instance = this.cachedInstances[index];\n\t\tconst tokens = this.tokens;\n\t\tif (instance[tokens.key] !== i) {\n\t\t\tinstance[tokens.key] = i;\n\t\t\tinstance[tokens.value] = value;\n\t\t\tinstance.pushChanges();\n\t\t}\n\t\t// console.log(index, i, value);\n\t\treturn this.cacheNodes[index];\n\t}\n\n\tremoveNode(index) {\n\t\tthis.cachedInstances[index] = undefined;\n\t\tconst node = this.cacheNodes[index];\n\t\tif (node) {\n\t\t\tconst context = getContext(this);\n\t\t\tconst module = context.module;\n\t\t\tnode.parentNode.removeChild(node);\n\t\t\tmodule.remove(node);\n\t\t}\n\t\tthis.cacheNodes[index] = undefined;\n\t\treturn node;\n\t}\n\n\tintersect(top1, bottom1, top2, bottom2) {\n\t\treturn top2 < bottom1 && bottom2 > top1;\n\t}\n\n\tresize$() {\n\t\treturn fromEvent(window, 'resize').pipe(\n\t\t\tdebounceTime(500),\n\t\t\tstartWith(null),\n\t\t\ttap(() => this.updateView(true))\n\t\t);\n\t}\n\n\tscroll$(node) {\n\t\treturn fromEvent(window, 'scroll').pipe(tap(() => this.updateView()));\n\t}\n\n\tupdateView(reset) {\n\t\tconst rect = this.container.getBoundingClientRect();\n\t\tconst options = this.options;\n\t\toptions.top = rect.top;\n\t\toptions.containerWidth = rect.width;\n\t\toptions.containerHeight = window.innerHeight;\n\t\toptions.cols = this.getCols();\n\t\tif (reset) {\n\t\t\tthis.cachedRects = {};\n\t\t}\n\t}\n\n\tgetExpressionTokens(expression) {\n\t\tif (expression === null) {\n\t\t\tthrow new Error('invalid virtual');\n\t\t}\n\t\tif (expression.trim().indexOf('let ') === -1 || expression.trim().indexOf(' of ') === -1) {\n\t\t\tthrow new Error('invalid virtual');\n\t\t}\n\t\tconst expressions = expression\n\t\t\t.split(';')\n\t\t\t.map(x => x.trim())\n\t\t\t.filter(x => x !== '');\n\t\tconst virtualExpressions = expressions[0].split(' of ').map(x => x.trim());\n\t\tlet value = virtualExpressions[0].replace(/\\s*let\\s*/, '');\n\t\tconst iterable = virtualExpressions[1];\n\t\tlet key = 'index';\n\t\tconst keyValueMatches = value.match(/\\[(.+)\\s*,\\s*(.+)\\]/);\n\t\tif (keyValueMatches) {\n\t\t\tkey = keyValueMatches[1];\n\t\t\tvalue = keyValueMatches[2];\n\t\t}\n\t\tif (expressions.length > 1) {\n\t\t\tconst indexExpressions = expressions[1].split(/\\s*let\\s*|\\s*=\\s*index/).map(x => x.trim());\n\t\t\tif (indexExpressions.length === 3) {\n\t\t\t\tkey = indexExpressions[1];\n\t\t\t}\n\t\t}\n\t\treturn { key, value, iterable };\n\t}\n}\n\nVirtualStructure.meta = {\n\tselector: '[*virtual]',\n\tinputs: ['mode', 'width', 'gutter']\n};\n","import { Component, getContext } from 'rxcomp';\r\nimport { BehaviorSubject, interval, Subject } from 'rxjs';\r\nimport { distinctUntilChanged, filter, map, switchMap, takeUntil, tap } from 'rxjs/operators';\r\nimport SwiperDirective from '../swiper/swiper.directive';\r\n\r\nexport default class YoutubeComponent extends Component {\r\n\r\n\tget playing() {\r\n\t\treturn this.playing_;\r\n\t}\r\n\r\n\tset playing(playing) {\r\n\t\tif (this.playing_ !== playing) {\r\n\t\t\tthis.playing_ = playing;\r\n\t\t\tthis.pushChanges();\r\n\t\t}\r\n\t}\r\n\r\n\tget cover() {\r\n\t\treturn this.youtubeId ? `//i.ytimg.com/vi/${this.youtubeId}/maxresdefault.jpg` : '';\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.item = {};\r\n\t\tconst { node, parentInstance } = getContext(this);\r\n\t\tnode.classList.add('youtube');\r\n\t\tif (YoutubeComponent.MOBILE) {\r\n\t\t\tnode.classList.add('mobile');\r\n\t\t}\r\n\t\tthis.progress = node.querySelector('.icon--play-progress path');\r\n\t\tthis.onPlayerReady = this.onPlayerReady.bind(this);\r\n\t\tthis.onPlayerStateChange = this.onPlayerStateChange.bind(this);\r\n\t\tthis.onPlayerError = this.onPlayerError.bind(this);\r\n\t\tthis.id$ = new Subject().pipe(distinctUntilChanged());\r\n\t\tif (parentInstance instanceof SwiperDirective) {\r\n\t\t\tparentInstance.events$.pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t\t).subscribe(event => this.pause());\r\n\t\t}\r\n\t\t// this.addListeners();\r\n\t}\r\n\r\n\tonChanges(changes) {\r\n\t\tconst id = this.youtubeId;\r\n\t\t// console.log('YoutubeComponent.onChanges', id);\r\n\t\tthis.id$.next(id);\r\n\t}\r\n\r\n\tinitPlayer() {\r\n\t\t// console.log('VideoComponent.initPlayer');\r\n\t\tthis.player$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(player => {\r\n\t\t\tconsole.log('YoutubeComponent.player$', player);\r\n\t\t});\r\n\t\tthis.interval$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(() => {});\r\n\t\tthis.id$.next(this.youtubeId);\r\n\t}\r\n\r\n\tplayer$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst video = node.querySelector('.video');\r\n\t\treturn this.id$.pipe(\r\n\t\t\tswitchMap(id => {\r\n\t\t\t\t// console.log('YoutubeComponent.videoId', id);\r\n\t\t\t\treturn YoutubeComponent.once$().pipe(\r\n\t\t\t\t\tmap(youtube => {\r\n\t\t\t\t\t\t// console.log('YoutubeComponent.once$', youtube);\r\n\t\t\t\t\t\tthis.destroyPlayer();\r\n\t\t\t\t\t\tthis.player = new youtube.Player(video, {\r\n\t\t\t\t\t\t\twidth: node.offsetWidth,\r\n\t\t\t\t\t\t\theight: node.offsetHeight,\r\n\t\t\t\t\t\t\tvideoId: id,\r\n\t\t\t\t\t\t\tplayerVars: {\r\n\t\t\t\t\t\t\t\tautoplay: 1,\r\n\t\t\t\t\t\t\t\tcontrols: 1, // YoutubeComponent.MOBILE ? 1 : 0,\r\n\t\t\t\t\t\t\t\tdisablekb: 1,\r\n\t\t\t\t\t\t\t\tenablejsapi: 1,\r\n\t\t\t\t\t\t\t\tfs: 0,\r\n\t\t\t\t\t\t\t\tloop: 1,\r\n\t\t\t\t\t\t\t\tmodestbranding: 1,\r\n\t\t\t\t\t\t\t\tplaysinline: 1,\r\n\t\t\t\t\t\t\t\trel: 0,\r\n\t\t\t\t\t\t\t\tshowinfo: 0,\r\n\t\t\t\t\t\t\t\tiv_load_policy: 3,\r\n\t\t\t\t\t\t\t\tlistType: 'user_uploads',\r\n\t\t\t\t\t\t\t\t// origin: 'https://log6i.csb.app/'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tevents: {\r\n\t\t\t\t\t\t\t\tonReady: this.onPlayerReady,\r\n\t\t\t\t\t\t\t\tonStateChange: this.onPlayerStateChange,\r\n\t\t\t\t\t\t\t\tonPlayerError: this.onPlayerError\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn this.player;\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tonPlayerReady(event) {\r\n\t\t// console.log('YoutubeComponent.onPlayerReady', event);\r\n\t\tevent.target.mute();\r\n\t\tevent.target.playVideo();\r\n\t}\r\n\r\n\tonPlayerStateChange(event) {\r\n\t\t// console.log('YoutubeComponent.onPlayerStateChange', event.data);\r\n\t\tif (event.data === 1) {\r\n\t\t\tthis.playing = true;\r\n\t\t} else {\r\n\t\t\tthis.playing = false;\r\n\t\t}\r\n\t}\r\n\r\n\tonPlayerError(event) {\r\n\t\tconsole.log('YoutubeComponent.onPlayerError', event);\r\n\t}\r\n\r\n\tdestroyPlayer() {\r\n\t\tif (this.player) {\r\n\t\t\tthis.player.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.destroyPlayer();\r\n\t}\r\n\r\n\tinterval$() {\r\n\t\treturn interval(500).pipe(\r\n\t\t\tfilter(() => this.playing && this.player),\r\n\t\t\ttap(() => {\r\n\t\t\t\tthis.progress.style.strokeDashoffset =\r\n\t\t\t\t\tthis.player.getCurrentTime() / this.player.getDuration();\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\ttogglePlay() {\r\n\t\t// console.log('VideoComponent.togglePlay');\r\n\t\tif (this.playing) {\r\n\t\t\tthis.pause();\r\n\t\t} else {\r\n\t\t\tthis.play();\r\n\t\t}\r\n\t}\r\n\r\n\tplay() {\r\n\t\t// console.log('VideoComponent.play');\r\n\t\tif (!this.player) {\r\n\t\t\tthis.initPlayer();\r\n\t\t} else {\r\n\t\t\tthis.player.playVideo();\r\n\t\t}\r\n\t}\r\n\r\n\tpause() {\r\n\t\tif (!this.player) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.player.stopVideo();\r\n\t}\r\n\r\n\tstatic once$() {\r\n\t\tif (this.youtube$) {\r\n\t\t\treturn this.youtube$;\r\n\t\t} else {\r\n\t\t\tthis.youtube$ = new BehaviorSubject(null).pipe(\r\n\t\t\t\tfilter(youtube => youtube !== null)\r\n\t\t\t);\r\n\t\t\twindow.onYouTubeIframeAPIReady = this.onYouTubeIframeAPIReady_.bind(this);\r\n\t\t\tconst script = document.createElement('script');\r\n\t\t\tconst scripts = document.querySelectorAll('script');\r\n\t\t\tconst last = scripts[scripts.length - 1];\r\n\t\t\tlast.parentNode.insertBefore(script, last);\r\n\t\t\tscript.src = '//www.youtube.com/iframe_api';\r\n\t\t\treturn this.youtube$;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onYouTubeIframeAPIReady_() {\r\n\t\t// console.log('onYouTubeIframeAPIReady');\r\n\t\tthis.youtube$.next(window.YT);\r\n\t}\r\n\r\n\tstatic mobilecheck() {\r\n\t\tlet check = false;\r\n\t\t(function(a) { if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true; })(navigator.userAgent || navigator.vendor || window.opera);\r\n\t\treturn check;\r\n\t}\r\n\r\n\tstatic mobileAndTabletcheck() {\r\n\t\tlet check = false;\r\n\t\t(function(a) { if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true; })(navigator.userAgent || navigator.vendor || window.opera);\r\n\t\treturn check;\r\n\t}\r\n\r\n}\r\n\r\nYoutubeComponent.MOBILE = YoutubeComponent.mobileAndTabletcheck();\r\n\r\nYoutubeComponent.meta = {\r\n\tselector: '[youtube]',\r\n\tinputs: ['youtubeId', 'title']\r\n};\r\n","import { CoreModule, Module } from 'rxcomp';\r\nimport { FormModule } from 'rxcomp-form';\r\nimport AppComponent from './app.component';\r\nimport ChannelPageComponent from './channel/channel-page.component';\r\nimport ChannelComponent from './channel/channel.component';\r\nimport DatePipe from './date/date.pipe';\r\nimport DropdownItemDirective from './dropdown/dropdown-item.directive';\r\nimport DropdownDirective from './dropdown/dropdown.directive';\r\nimport EventDateComponent from './event/event-date.component';\r\nimport EventPageComponent from './event/event-page.component';\r\nimport EventComponent from './event/event.component';\r\nimport ErrorsComponent from './forms/errors.component';\r\nimport HtmlPipe from './html/html.pipe';\r\nimport IndexPageComponent from './index/index-page.component';\r\nimport LazyDirective from './lazy/lazy.directive';\r\nimport ModalOutletComponent from './modal/modal-outlet.component';\r\nimport ModalComponent from './modal/modal.component';\r\nimport RegisterOrLoginComponent from './register-or-login/register-or-login.component';\r\nimport RelativeDatePipe from './relative-date/relative-date.pipe';\r\nimport ScrollToDirective from './scroll-to/scroll-to.directive';\r\nimport SecureDirective from './secure/secure.directive';\r\nimport SwiperEventsDirective from './swiper/swiper-events.directive';\r\nimport SwiperSlidesDirective from './swiper/swiper-slides.directive';\r\nimport SwiperTopEventsDirective from './swiper/swiper-top-events.directive';\r\nimport SwiperDirective from './swiper/swiper.directive';\r\nimport ThronComponent from './thron/thron.component';\r\nimport VideoComponent from './video/video.component';\r\nimport VirtualStructure from './virtual/virtual.structure';\r\nimport YoutubeComponent from './youtube/youtube.component';\r\n\r\nexport default class AppModule extends Module {}\r\n\r\nAppModule.meta = {\r\n\timports: [\r\n\t\tCoreModule,\r\n\t\tFormModule,\r\n\t],\r\n\tdeclarations: [\r\n\t\tChannelComponent,\r\n\t\tChannelPageComponent,\r\n\t\tDatePipe,\r\n\t\tDropdownDirective,\r\n\t\tDropdownItemDirective,\r\n\t\tErrorsComponent,\r\n\t\tEventComponent,\r\n\t\tEventDateComponent,\r\n\t\tEventPageComponent,\r\n\t\tHtmlPipe,\r\n\t\tIndexPageComponent,\r\n\t\tLazyDirective,\r\n\t\tModalComponent,\r\n\t\tModalOutletComponent,\r\n\t\tRegisterOrLoginComponent,\r\n\t\tRelativeDatePipe,\r\n\t\tScrollToDirective,\r\n\t\tSecureDirective,\r\n\t\tSwiperDirective,\r\n\t\tSwiperEventsDirective,\r\n\t\tSwiperSlidesDirective,\r\n\t\tSwiperTopEventsDirective,\r\n\t\tThronComponent,\r\n\t\tVirtualStructure,\r\n\t\tVideoComponent,\r\n\t\tYoutubeComponent,\r\n\t],\r\n\tbootstrap: AppComponent,\r\n};\r\n","import { Browser } from 'rxcomp';\r\nimport AppModule from './app.module';\r\n\r\nBrowser.bootstrap(AppModule);\r\n"]}