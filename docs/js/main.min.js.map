{"version":3,"sources":["src/js/main.js","../../src/js/app.component.js","../../src/js/environment/environment.js","../../src/js/http/http.service.js","../../src/js/event/event.service.js","../../src/js/location/location.service.js","../../src/js/filter/filter-item.js","../../src/js/filter/filter.service.js","../../src/js/page/page.component.js","../../src/js/channel/channel.service.js","../../src/js/channel/channel-page.component.js","../../src/js/channel/channel.component.js","../../src/js/date/date.pipe.js","../../src/js/dropdown/dropdown.directive.js","../../src/js/dropdown/dropdown-item.directive.js","../../src/js/event/event-date.component.js","../../src/js/event/event.component.js","../../src/js/forms/control.component.js","../../src/js/forms/errors.component.js","../../src/js/html/html.pipe.js","../../src/js/index/index-page.component.js","../../src/js/image/image.service.js","../../src/js/intersection/intersection.service.js","../../src/js/lazy/lazy.cache.js","../../src/js/lazy/lazy.directive.js","../../src/js/modal/modal.service.js","../../src/js/modal/modal-outlet.component.js","../../src/js/modal/modal.component.js","../../src/js/local-storage/local-storage.service.js","../../src/js/user/user.service.js","../../src/js/register-or-login/register-or-login.component.js","../../node_modules/tiny-relative-date/src/factory.js","../../node_modules/tiny-relative-date/translations/en.js","../../node_modules/tiny-relative-date/src/index.js","../../node_modules/tiny-relative-date/lib/factory.js","../../src/js/relative-date/relative-date.pipe.js","../../src/js/scroll-to/scroll-to.directive.js","../../src/js/download/download.service.js","../../src/js/secure/secure.directive.js","../../src/js/swiper/swiper.directive.js","../../src/js/swiper/swiper-events.directive.js","../../src/js/swiper/swiper-slides.directive.js","../../src/js/swiper/swiper-top-events.directive.js","../../src/js/gtm/gtm.service.js","../../src/js/video/video.component.js","../../src/js/virtual/virtual.item.js","../../src/js/virtual/virtual.structure.js","../../src/js/youtube/youtube.component.js","../../src/js/app.module.js","../../src/js/main.js"],"names":["global","factory","exports","module","require","define","amd","self","rxcomp","form","rxjs","operators","Swiper","this","rxcompForm","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","_inheritsLoose","subClass","superClass","create","constructor","__proto__","hasOwnProperty","call","AppComponent","_Component","apply","arguments","onInit","getContext","node","classList","remove","Component","meta","selector","STATIC","window","location","port","host","HttpService","indexOf","split","http$","method","url","data","format","_this","response_","from","fetch","getUrl","headers","Accept","Content-Type","body","JSON","stringify","undefined","then","response","ok","json","Promise","reject","pipe","catchError","error","throwError","getError","get$","query","delete$","post$","put$","patch$","object","statusCode","status","statusMessage","statusText","console","log","Event","assign","creationDate","Date","startDate","endDate","get","info","started","ended","now","diff","hoursDiff","Math","floor","EventService","detail$","eventId","map","x","fake","top$","items","upcoming$","subscribe$","of","unsubscribe$","like$","unlike$","mapEvents","events","item","index","id","channel","subscribers","random","likes","setMinutes","getMinutes","setHours","getHours","setDate","getDate","getTime","LocationService","URLSearchParams","search","set","keyOrValue","value","params","replace","history","pushState","title","document","href","toString","deserialize","encoded","decode","serialize","encode","decoded","atob","parse","btoa","FilterMode","FilterItem","filter","change$","BehaviorSubject","mode","placeholder","values","options","unshift","label","_proto","match","forEach","getSelectedOption","_this2","find","has","getLabel","selectedOption","push","next","splice","first","toggle","toggleActive","active","FilterService","initialParams","callback","filters","keys","getParamsCount","reduce","p","c","locationParams","any","items$","changes","merge","auditTime","tap","filterItems","updateFilterStates","skipFilter","_this3","filteredItems","option","count","disabled","PageComponent","Channel","ChannelService","channels$","channelId","listing$","fakeListing","channel_","info_","subscribed","liked","image_","width","height","src","category_","name","event_","type","abstract","picture","picture_","category","product_","magazine_","letters","Array","fill","categoryId","fakeListing_","ChannelPageComponent","_PageComponent","channels","listing","grid","gutter","filterService","tags","features","load$","subscribe","startFilter","pushChanges","combineLatest","takeUntil","setTimeout","getItems","fakeEvent","ChannelComponent","toggleSubscribe","flag","toggleLike","inputs","DATE_FORMATS_SPLIT","NUMBER_STRING","R_ISO8601_STR","ALL_COLONS","DatePipe","_Pipe","isNumber","isFinite","padNumber","num","digits","trim","negWrap","neg","substr","dateGetter","size","offset","date","dateStrGetter","shortForm","standAlone","formats","toUpperCase","timeZoneGetter","zone","paddedZone","abs","getFirstThursdayOfYear","year","dayOfWeekOnFirst","getDay","getThursdayThisWeek","datetime","getFullYear","getMonth","weekGetter","firstThurs","result","round","ampmGetter","AMPMS","eraGetter","ERAS","longEraGetter","ERANAMES","jsonStringToDate","string","tzHour","tzMin","parseInt","dateSetter","setUTCFullYear","setFullYear","timeSetter","setUTCHours","h","m","s","ms","parseFloat","timezoneToOffset","timezone","fallback","requestedTimezoneOffset","Number","isNaN","addDateMinutes","minutes","convertTimezoneToLocal","reverse","dateTimezoneOffset","getTimezoneOffset","timezoneOffset","transform_","locale","dateStyle","timeStyle","toLocaleDateString","transform","text","parts","DATETIME_FORMATS","test","exec","concat","slice","pop","formatter","DATE_FORMATS","Pipe","yyyy","yy","y","MMMM","MMM","MM","M","LLLL","dd","d","HH","H","hh","mm","ss","sss","EEEE","EEE","a","Z","ww","w","G","GG","GGG","GGGG","DAY","MONTH","SHORTDAY","SHORTMONTH","fullDate","longDate","medium","mediumDate","mediumTime","short","shortDate","shortTime","DROPDOWN_ID","DropdownDirective","_Directive","trigger","getAttribute","querySelector","opened","onClick","bind","onDocumentClick","openDropdown","closeDropdown","addListeners","dropdown$","add","event","contains","addDocumentListeners","dropped","removeDocumentListeners","getValue","addEventListener","removeListeners","removeEventListener","onDestroy","nextId","dropdown","id_","Directive","outputs","DropdownItemDirective","EventDateMode","to10","EventDateComponent","getMode","live","incoming","past","eventDate","countdown","live$","Subject","interval","MINUTE","SECOND","EventComponent","ControlComponent","onChanges","flags","control","ErrorsComponent","_ControlComponent","labels","template","HtmlPipe","n","String","fromCharCode","unescapes","rx","RegExp","join","IndexPageComponent","topEvents","topChannels","upcomingEvents","PATH","UID","ImageService","worker","worker_","Worker","isBlob","postMessage","fromEvent","URL","createObjectURL","blob","finalize","revokeObjectURL","isCors","IntersectionService","observer","observer_","readySubject_","observerSubject_","IntersectionObserver","entries","intersection$","observe","entry","isIntersecting","unobserve","LazyCache","cache","cache_","LazyDirective","input$","distinctUntilChanged","switchMap","input","lazy$","lazy","setAttribute","ModalEvent","ModalResolveEvent","_ModalEvent","ModalRejectEvent","_ModalEvent2","ModalService","open$","modal","getTemplate$","getNode","modal$","events$","div","createElement","innerHTML","firstElementChild","resolve","ModalOutletComponent","modalNode","onRegister","onLogin","modal_","removeChild","appendChild","compile","ModalComponent","parentInstance","close","LocalStorageService","delete","isLocalStorageSupported","localStorage","removeItem","exist","e","setItem","supported","UserService","setUser","user","user$","me$","mapStatic__","register$","payload","update","login$","_this4","logout$","_this5","retrieve$","_this6","action","RegisterOrLoginComponent","preventDefault","view","calculateDelta","translations","relativeDate","justNow","secondsAgo","aMinuteAgo","minutesAgo","anHourAgo","hoursAgo","aDayAgo","daysAgo","aWeekAgo","weeksAgo","aMonthAgo","monthsAgo","aYearAgo","yearsAgo","overAYearAgo","secondsFromNow","aMinuteFromNow","minutesFromNow","anHourFromNow","hoursFromNow","aDayFromNow","daysFromNow","aWeekFromNow","weeksFromNow","aMonthFromNow","monthsFromNow","aYearFromNow","yearsFromNow","overAYearFromNow","delta","day","hour","translate","translatePhrase","timeValue","translation","minute","fn","createCommonjsModule","default","week","month","relativeDateFactory$1","__esModule","RELATIVE_DATE_KEYS","RelativeDatePipe","setLocale","relativeDateFactory","ScrollToDirective","initialFocus","_getContext","expression","outputFunction","makeFunction","scrollTo$","_getContext2","currentTop","to","getBoundingClientRect","top","o","pow","html","gsap","scroll-behavior","ease","Quad","easeOut","overwrite","onUpdate","scrollTo","onComplete","shareReplay","pageYOffset","documentElement","scrollTop","DownloadService","download","fileName","click","a_","style","SecureDirective","tryDownloadHref","SwiperDirective","rxcompId","slidesPerView","spaceBetween","centeredSlides","speed","autoplay","delay","keyboardControl","mousewheelControl","pagination","el","clickable","navigation","nextEl","prevEl","keyboard","enabled","onlyInViewport","init_","onView","swiperInitOrUpdate_","removeListeners_","swiperDestroy_","onBeforePrint","slideToIndex","swiper","slideTo","opacity","on","slideChange","activeIndex","addListeners_","init","swiperDirectiveInit","Power2","element","scope","_opening","destroy","openMore","more","matchMedia","matches","SwiperEventsDirective","_SwiperDirective","loopAdditionalSlides","SwiperSlidesDirective","loop","SwiperTopEventsDirective","breakpoints","768","1024","1440","1920","2440","GtmService","dataLayer","push_","VideoComponent","video","progress","pause","onPlay","onPause","onEnded","onTimeUpdate","togglePlay","paused","play","muted","playing","video_name","strokeDashoffset","currentTime","duration","playing_","VirtualItem","$key","$value","_Context","even","Context","VirtualMode","VirtualStructure","_Structure","removeAttribute","tokens","getExpressionTokens","virtualFunction","iterable","container","containerWidth","containerHeight","cols","strategy","cachedRects","cachedInstances","cacheNodes","update$","visibleItems","updateView","scroll$","resize$","datas","total","position","highestHeight","getWidth","getGutter","col","left","bottom","rect","getCol","getHeight","intersect","getLeft","cachedNode","offsetHeight","max","removeNode","removeIndex","getCols","updateNode","createNode","clonedNode","cloneNode","context","args","instance","makeInstance","forItemContext","parentNode","top1","bottom1","top2","bottom2","debounceTime","startWith","reset","innerHeight","Error","expressions","virtualExpressions","keyValueMatches","indexExpressions","Structure","YoutubeComponent","MOBILE","onPlayerReady","onPlayerStateChange","onPlayerError","id$","youtubeId","initPlayer","player$","player","interval$","once$","youtube","destroyPlayer","Player","offsetWidth","videoId","playerVars","controls","disablekb","enablejsapi","fs","modestbranding","playsinline","rel","showinfo","iv_load_policy","listType","onReady","onStateChange","mute","playVideo","getCurrentTime","getDuration","stopVideo","youtube$","onYouTubeIframeAPIReady","onYouTubeIframeAPIReady_","script","scripts","querySelectorAll","last","insertBefore","YT","mobilecheck","check","navigator","userAgent","vendor","opera","mobileAndTabletcheck","AppModule","_Module","Module","imports","CoreModule","FormModule","declarations","bootstrap","Browser"],"mappings":"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","file":"docs\\js\\main.min.js","sourcesContent":[null,"import { Component, getContext } from 'rxcomp';\r\n\r\nexport default class AppComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.remove('hidden');\r\n\t}\r\n\r\n\t// onView() { const context = getContext(this); }\r\n\r\n\t// onChanges() {}\r\n\r\n\t// onDestroy() {}\r\n}\r\n\r\nAppComponent.meta = {\r\n\tselector: '[app-component]',\r\n};\r\n","export const STATIC = window.location.port === '40333' || window.location.host === 'actarian.github.io';\r\nexport const DEVELOPMENT = ['localhost', '127.0.0.1', '0.0.0.0'].indexOf(window.location.host.split(':')[0]) !== -1;\r\nexport const PRODUCTION = !DEVELOPMENT;\r\nexport const ENV = {\r\n\tSTATIC,\r\n\tDEVELOPMENT,\r\n\tPRODUCTION\r\n};\r\n","import { from, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { STATIC } from '../environment/environment';\r\n\r\nexport default class HttpService {\r\n\r\n\tstatic http$(method, url, data, format = 'json') {\r\n\t\tconst methods = ['POST', 'PUT', 'PATCH'];\r\n\t\tlet response_ = null;\r\n\t\treturn from(fetch(this.getUrl(url, format), {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: {\r\n\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: methods.indexOf(method) !== -1 ? JSON.stringify(data) : undefined\r\n\t\t}).then((response) => {\r\n\t\t\tresponse_ = response;\r\n\t\t\t// console.log(response);\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response[format]();\r\n\t\t\t} else {\r\n\t\t\t\treturn response.json().then(json => {\r\n\t\t\t\t\treturn Promise.reject(json);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})).pipe(\r\n\t\t\tcatchError(error => {\r\n\t\t\t\treturn throwError(this.getError(error, response_));\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic get$(url, data, format) {\r\n\t\tconst query = this.query(data);\r\n\t\treturn this.http$('GET', `${url}${query}`, undefined, format);\r\n\t}\r\n\r\n\tstatic delete$(url) {\r\n\t\treturn this.http$('DELETE', url);\r\n\t}\r\n\r\n\tstatic post$(url, data) {\r\n\t\treturn this.http$('POST', url, data);\r\n\t}\r\n\r\n\tstatic put$(url, data) {\r\n\t\treturn this.http$('PUT', url, data);\r\n\t}\r\n\r\n\tstatic patch$(url, data) {\r\n\t\treturn this.http$('PATCH', url, data);\r\n\t}\r\n\r\n\tstatic query(data) {\r\n\t\treturn ''; // todo\r\n\t}\r\n\r\n\tstatic getUrl(url, format = 'json') {\r\n\t\t// console.log(url);\r\n\t\treturn STATIC && format === 'json' && url.indexOf('/') === 0 ? `.${url}.json` : url;\r\n\t}\r\n\r\n\tstatic getError(object, response) {\r\n\t\tlet error = typeof object === 'object' ? object : {};\r\n\t\tif (!error.statusCode) {\r\n\t\t\terror.statusCode = response ? response.status : 0;\r\n\t\t}\r\n\t\tif (!error.statusMessage) {\r\n\t\t\terror.statusMessage = response ? response.statusText : object;\r\n\t\t}\r\n\t\tconsole.log('HttpService.getError', error, object);\r\n\t\treturn error;\r\n\t}\r\n\r\n}\r\n","import { of } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport HttpService from '../http/http.service';\n\nexport class Event {\n\n\tget live() {\n\t\treturn this.info.started && !this.info.ended;\n\t}\n\n\tget incoming() {\n\t\tconst now = new Date();\n\t\tconst diff = this.startDate - now;\n\t\tconst hoursDiff = Math.floor(diff / 1000 / 60 / 60);\n\t\treturn !this.info.started && this.startDate > now && hoursDiff < 24;\n\t}\n\n\tget future() {\n\t\tconst now = new Date();\n\t\tconst diff = this.startDate - now;\n\t\tconst hoursDiff = Math.floor(diff / 1000 / 60 / 60);\n\t\treturn !this.info.started && this.startDate > now && hoursDiff >= 24;\n\t}\n\n\tget past() {\n\t\treturn this.info.ended;\n\t}\n\n\tconstructor(data) {\n\t\tif (data) {\n\t\t\tObject.assign(this, data);\n\t\t\tif (this.creationDate) {\n\t\t\t\tthis.creationDate = new Date(this.creationDate);\n\t\t\t}\n\t\t\tif (this.startDate) {\n\t\t\t\tthis.startDate = new Date(this.startDate);\n\t\t\t}\n\t\t\tif (this.endDate) {\n\t\t\t\tthis.endDate = new Date(this.endDate);\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport default class EventService {\n\n\tstatic detail$(eventId) {\n\t\treturn HttpService.get$(`/api/event/${eventId}/detail`).pipe(\n\t\t\tmap(x => EventService.fake(new Event(x)))\n\t\t\t// map(x => new Event(x))\n\t\t);\n\t}\n\n\tstatic top$() {\n\t\treturn HttpService.get$(`/api/event/evidence`).pipe(\n\t\t\tmap(items => items.map(x => EventService.fake(new Event(x))))\n\t\t\t// map(items => items.map(x => new Event(x)))\n\t\t);\n\t}\n\n\tstatic upcoming$() {\n\t\treturn HttpService.get$(`/api/event/upcoming`).pipe(\n\t\t\t// map(items => items.map(x => EventService.fake(new Event(x))))\n\t\t\tmap(items => items.map(x => new Event(x)))\n\t\t);\n\t}\n\n\tstatic subscribe$(eventId) {\n\t\treturn of(null);\n\t}\n\n\tstatic unsubscribe$(eventId) {\n\t\treturn of(null);\n\t}\n\n\tstatic like$(eventId) {\n\t\treturn of(null);\n\t}\n\n\tstatic unlike$(eventId) {\n\t\treturn of(null);\n\t}\n\n\tstatic mapEvents(events) {\n\t\treturn events ? events.map(x => this.fake(new Event(x))) : [];\n\t}\n\n\tstatic fake(item) {\n\t\t// console.log('EventService.fake', item);\n\t\tconst now = new Date();\n\t\tconst index = item.id % 1000;\n\t\titem.url = `${item.url}?eventId=${item.id}`;\n\t\titem.channel.url = `${item.channel.url}?channelId=${item.channel.id}`;\n\t\titem.info.subscribers = 50 + Math.floor(Math.random() * 200);\n\t\titem.info.likes = 50 + Math.floor(Math.random() * 200);\n\t\tswitch (index) {\n\t\t\tcase 1:\n\t\t\t\titem.startDate = new Date(new Date().setMinutes(now.getMinutes() - 10));\n\t\t\t\titem.endDate = null;\n\t\t\t\titem.info.started = true;\n\t\t\t\titem.info.ended = false;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\titem.startDate = new Date(new Date().setHours(now.getHours() + 2));\n\t\t\t\titem.endDate = null;\n\t\t\t\titem.info.started = false;\n\t\t\t\titem.info.ended = false;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\titem.startDate = new Date(new Date().setHours(now.getHours() - 7));\n\t\t\t\titem.endDate = new Date(new Date().setHours(now.getHours() - 6));\n\t\t\t\titem.info.started = true;\n\t\t\t\titem.info.ended = true;\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\titem.startDate = new Date(new Date().setDate(now.getDate() + 7));\n\t\t\t\titem.endDate = null;\n\t\t\t\titem.info.started = false;\n\t\t\t\titem.info.ended = false;\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\titem.startDate = new Date(new Date().setDate(now.getDate() + 14));\n\t\t\t\titem.endDate = null;\n\t\t\t\titem.info.started = false;\n\t\t\t\titem.info.ended = false;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\titem.startDate = new Date(new Date().setDate(now.getDate() - 14 - Math.floor(Math.random() * 150)));\n\t\t\t\titem.endDate = new Date(new Date(item.startDate.getTime()).setHours(item.startDate.getHours() + 1));\n\t\t\t\titem.info.started = true;\n\t\t\t\titem.info.ended = true;\n\t\t}\n\t\treturn item;\n\t}\n\n}\n","export default class LocationService {\r\n\r\n\tstatic get(key) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\t// console.log('LocationService.get', params);\r\n\t\treturn params.get(key);\r\n\t}\r\n\r\n\tstatic set(keyOrValue, value) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\tif (typeof keyOrValue === 'string') {\r\n\t\t\tparams.set(keyOrValue, value);\r\n\t\t} else {\r\n\t\t\tparams.set(keyOrValue, '');\r\n\t\t}\r\n\t\tthis.replace(params);\r\n\t\t// console.log('LocationService.set', params, keyOrValue, value);\r\n\t}\r\n\r\n\tstatic replace(params) {\r\n\t\tif (window.history && window.history.pushState) {\r\n\t\t\tconst title = document.title;\r\n\t\t\tconst url = `${window.location.href.split('?')[0]}?${params.toString()}`;\r\n\t\t\twindow.history.pushState(params.toString(), title, url);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic deserialize(key) {\r\n\t\tconst encoded = this.get('params');\r\n\t\treturn this.decode(key, encoded);\r\n\t}\r\n\r\n\tstatic serialize(keyOrValue, value) {\r\n\t\tconst params = this.deserialize();\r\n\t\tconst encoded = this.encode(keyOrValue, value, params);\r\n\t\tthis.set('params', encoded);\r\n\t}\r\n\r\n\tstatic decode(key, encoded) {\r\n\t\tlet decoded = null;\r\n\t\tif (encoded) {\r\n\t\t\tconst json = window.atob(encoded);\r\n\t\t\tdecoded = JSON.parse(json);\r\n\t\t}\r\n\t\tif (key && decoded) {\r\n\t\t\tdecoded = decoded[key];\r\n\t\t}\r\n\t\treturn decoded || null;\r\n\t}\r\n\r\n\tstatic encode(keyOrValue, value, params) {\r\n\t\tparams = params || {};\r\n\t\tlet encoded = null;\r\n\t\tif (typeof keyOrValue === 'string') {\r\n\t\t\tparams[keyOrValue] = value;\r\n\t\t} else {\r\n\t\t\tparams = keyOrValue;\r\n\t\t}\r\n\t\tconst json = JSON.stringify(params);\r\n\t\tencoded = window.btoa(json);\r\n\t\treturn encoded;\r\n\t}\r\n\r\n}\r\n","import { BehaviorSubject } from 'rxjs';\r\n\r\nexport const FilterMode = {\r\n\tSELECT: 'select',\r\n\tAND: 'and',\r\n\tOR: 'or',\r\n};\r\n\r\nexport default class FilterItem {\r\n\r\n\tconstructor(filter) {\r\n\t\tthis.change$ = new BehaviorSubject();\r\n\t\tthis.mode = FilterMode.SELECT;\r\n\t\tthis.placeholder = 'Select';\r\n\t\tthis.values = [];\r\n\t\tthis.options = [];\r\n\t\tif (filter) {\r\n\t\t\tif (filter.mode === FilterMode.SELECT) {\r\n\t\t\t\tfilter.options.unshift({\r\n\t\t\t\t\tlabel: filter.placeholder,\r\n\t\t\t\t\tvalues: [],\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tObject.assign(this, filter);\r\n\t\t}\r\n\t}\r\n\r\n\tfilter(item, value) {\r\n\t\treturn true; // item.options.indexOf(value) !== -1;\r\n\t}\r\n\r\n\tmatch(item) {\r\n\t\tlet match;\r\n\t\tif (this.mode === FilterMode.OR) {\r\n\t\t\tmatch = this.values.length ? false : true;\r\n\t\t\tthis.values.forEach(value => {\r\n\t\t\t\tmatch = match || this.filter(item, value);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tmatch = true;\r\n\t\t\tthis.values.forEach(value => {\r\n\t\t\t\tmatch = match && this.filter(item, value);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn match;\r\n\t}\r\n\r\n\tgetSelectedOption() {\r\n\t\treturn this.options.find(x => this.has(x));\r\n\t}\r\n\r\n\tgetLabel() {\r\n\t\tif (this.mode === FilterMode.SELECT) {\r\n\t\t\tconst selectedOption = this.getSelectedOption();\r\n\t\t\treturn selectedOption ? selectedOption.label : this.placeholder;\r\n\t\t} else {\r\n\t\t\treturn this.label;\r\n\t\t}\r\n\t}\r\n\r\n\thas(item) {\r\n\t\treturn this.values.indexOf(item.value) !== -1;\r\n\t}\r\n\r\n\tset(item) {\r\n\t\tif (this.mode === FilterMode.SELECT) {\r\n\t\t\tthis.values = [];\r\n\t\t}\r\n\t\tconst index = this.values.indexOf(item.value);\r\n\t\tif (index === -1) {\r\n\t\t\tif (item.value !== undefined) {\r\n\t\t\t\tthis.values.push(item.value);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.mode === FilterMode.SELECT) {\r\n\t\t\tthis.placeholder = item.label;\r\n\t\t}\r\n\t\t// console.log('FilterItem.set', item);\r\n\t\tthis.change$.next();\r\n\t}\r\n\r\n\tremove(item) {\r\n\t\tconst index = this.values.indexOf(item.value);\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.values.splice(index, 1);\r\n\t\t}\r\n\t\tif (this.mode === FilterMode.SELECT) {\r\n\t\t\tconst first = this.options[0];\r\n\t\t\tthis.placeholder = first.label;\r\n\t\t}\r\n\t\t// console.log('FilterItem.remove', item);\r\n\t\tthis.change$.next();\r\n\t}\r\n\r\n\ttoggle(item) {\r\n\t\tif (this.has(item)) {\r\n\t\t\tthis.remove(item);\r\n\t\t} else {\r\n\t\t\tthis.set(item);\r\n\t\t}\r\n\t}\r\n\r\n\ttoggleActive() {\r\n\t\tthis.active = !this.active;\r\n\t}\r\n\r\n}\r\n","import { merge } from 'rxjs';\r\nimport { auditTime, map, tap } from 'rxjs/operators';\r\nimport LocationService from '../location/location.service';\r\nimport FilterItem from './filter-item';\r\n\r\nexport default class FilterService {\r\n\r\n\tconstructor(options, initialParams, callback) {\r\n\t\tconst filters = {};\r\n\t\tthis.filters = filters;\r\n\t\tif (options) {\r\n\t\t\tObject.keys(options).forEach(key => {\r\n\t\t\t\tconst filter = new FilterItem(options[key]);\r\n\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\tcallback(key, filter);\r\n\t\t\t\t}\r\n\t\t\t\tfilters[key] = filter;\r\n\t\t\t});\r\n\t\t\tthis.deserialize(this.filters, initialParams);\r\n\t\t}\r\n\t}\r\n\r\n\tgetParamsCount(params) {\r\n\t\tif (params) {\r\n\t\t\tconst paramsCount = Object.keys(params).reduce((p, c, i) => {\r\n\t\t\t\tconst values = params[c];\r\n\t\t\t\treturn p + (values ? values.length : 0);\r\n\t\t\t}, 0);\r\n\t\t\treturn paramsCount;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\r\n\tdeserialize(filters, initialParams) {\r\n\t\tlet params;\r\n\t\tif (initialParams && this.getParamsCount(initialParams)) {\r\n\t\t\tparams = initialParams;\r\n\t\t}\r\n\t\tconst locationParams = LocationService.deserialize('filters');\r\n\t\tif (locationParams && this.getParamsCount(locationParams)) {\r\n\t\t\tparams = locationParams;\r\n\t\t}\r\n\t\tif (params) {\r\n\t\t\tObject.keys(filters).forEach(key => {\r\n\t\t\t\tfilters[key].values = params[key] || [];\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn filters;\r\n\t}\r\n\r\n\tserialize(filters) {\r\n\t\tlet params = {};\r\n\t\tlet any = false;\r\n\t\tObject.keys(filters).forEach(x => {\r\n\t\t\tconst filter = filters[x];\r\n\t\t\tif (filter.values && filter.values.length > 0) {\r\n\t\t\t\tparams[x] = filter.values;\r\n\t\t\t\tany = true;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (!any) {\r\n\t\t\tparams = null;\r\n\t\t}\r\n\t\t// console.log('FilterService.serialize', params);\r\n\t\tLocationService.serialize('filters', params);\r\n\t\treturn params;\r\n\t}\r\n\r\n\titems$(items) {\r\n\t\tconst filters = this.filters;\r\n\t\tconst changes = Object.keys(filters).map(key => filters[key].change$);\r\n\t\treturn merge(...changes).pipe(\r\n\t\t\tauditTime(1),\r\n\t\t\t// tap(() => console.log(filters)),\r\n\t\t\ttap(() => this.serialize(filters)),\r\n\t\t\tmap(() => this.filterItems(items)),\r\n\t\t\ttap(() => this.updateFilterStates(filters, items))\r\n\t\t);\r\n\t}\r\n\r\n\tfilterItems(items, skipFilter) {\r\n\t\tconst filters = Object.keys(this.filters).map((x) => this.filters[x]).filter(x => x.values && x.values.length > 0);\r\n\t\titems = items.filter(item => {\r\n\t\t\tlet has = true;\r\n\t\t\tfilters.forEach(filter => {\r\n\t\t\t\tif (filter !== skipFilter) {\r\n\t\t\t\t\thas = has && filter.match(item);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn has;\r\n\t\t});\r\n\t\treturn items;\r\n\t}\r\n\r\n\tupdateFilterStates(filters, items) {\r\n\t\tObject.keys(filters).forEach(x => {\r\n\t\t\tconst filter = filters[x];\r\n\t\t\tconst filteredItems = this.filterItems(items, filter);\r\n\t\t\tfilter.options.forEach(option => {\r\n\t\t\t\tlet count = 0;\r\n\t\t\t\tif (option.value) {\r\n\t\t\t\t\tlet i = 0;\r\n\t\t\t\t\twhile (i < filteredItems.length) {\r\n\t\t\t\t\t\tconst item = filteredItems[i];\r\n\t\t\t\t\t\tif (filter.filter(item, option.value)) {\r\n\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcount = filteredItems.length;\r\n\t\t\t\t}\r\n\t\t\t\toption.count = count;\r\n\t\t\t\toption.disabled = count === 0;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n}\r\n","import { Component } from 'rxcomp';\n\nexport default class PageComponent extends Component {\n\n\tonInit() {\n\n\t}\n\n}\n\nPageComponent.meta = {\n\tselector: '[page]',\n};\n","import { of } from 'rxjs';\nimport { map, tap } from 'rxjs/operators';\nimport EventService, { Event } from '../event/event.service';\nimport HttpService from '../http/http.service';\n\nexport class Channel {\n\tconstructor(data) {\n\t\tif (data) {\n\t\t\tObject.assign(this, data);\n\t\t\tthis.events = EventService.mapEvents(this.events);\n\t\t}\n\t}\n}\n\nexport default class ChannelService {\n\n\tstatic channels$() {\n\t\treturn HttpService.get$(`/api/channel/channels`).pipe(\n\t\t\tmap(items => items.map(x => ChannelService.fake(new Channel(x))))\n\t\t\t// map(items => items.map(x => new Channel(x)))\n\t\t);\n\t}\n\n\tstatic detail$(channelId) {\n\t\treturn HttpService.get$(`/api/channel/${channelId}/detail`).pipe(\n\t\t\tmap(x => ChannelService.fake(new Channel(x)))\n\t\t\t// map(x => new Channel(x))\n\t\t);\n\t}\n\n\tstatic listing$(channelId) {\n\t\t// return HttpService.get$(`/api/channel/${channelId}/listing`);\n\t\treturn ChannelService.fakeListing(channelId).pipe(\n\t\t\ttap((items) => {\n\t\t\t\t// console.log(JSON.stringify(items));\n\t\t\t})\n\t\t);\n\t}\n\n\tstatic top$() {\n\t\treturn HttpService.get$(`/api/channel/evidence`).pipe(\n\t\t\tmap(items => items.map(x => ChannelService.fake(new Channel(x))))\n\t\t\t// map(items => items.map(x => new Channel(x)))\n\t\t);\n\t}\n\n\tstatic subscribe$(channelId) {\n\t\treturn of(null);\n\t}\n\n\tstatic unsubscribe$(channelId) {\n\t\treturn of(null);\n\t}\n\n\tstatic like$(channelId) {\n\t\treturn of(null);\n\t}\n\n\tstatic unlike$(channelId) {\n\t\treturn of(null);\n\t}\n\n\tstatic fake(item) {\n\t\t// console.log('ChannelService.fake', item);\n\t\titem.url = `${item.url}?channelId=${item.id}`;\n\t\titem.info.subscribers = 1500 + Math.floor(Math.random() * 200);\n\t\titem.info.likes = 500 + Math.floor(Math.random() * 200);\n\t\treturn item;\n\t}\n\n\tstatic fakeListing(channelId) {\n\t\treturn HttpService.get$(`/api/channel/${channelId}/detail`).pipe(\n\t\t\tmap(x => {\n\t\t\t\tconst channel_ = ChannelService.fake(new Channel(x));\n\t\t\t\tconst info_ = {\n\t\t\t\t\tstarted: false,\n\t\t\t\t\tended: false,\n\t\t\t\t\tsubscribers: 100,\n\t\t\t\t\tsubscribed: false,\n\t\t\t\t\tlikes: 100,\n\t\t\t\t\tliked: false\n\t\t\t\t};\n\t\t\t\tconst image_ = {\n\t\t\t\t\tid: 100000,\n\t\t\t\t\twidth: 700,\n\t\t\t\t\theight: 700,\n\t\t\t\t\tsrc: 'https://source.unsplash.com/random/',\n\t\t\t\t};\n\t\t\t\tconst category_ = {\n\t\t\t\t\tid: 10000,\n\t\t\t\t\tname: 'Category',\n\t\t\t\t\turl: '/ws-events/category.html',\n\t\t\t\t};\n\t\t\t\tconst event_ = {\n\t\t\t\t\tid: 1000,\n\t\t\t\t\ttype: 'event',\n\t\t\t\t\tname: 'Evento',\n\t\t\t\t\ttitle: 'Evento',\n\t\t\t\t\tabstract: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eget dolor tincidunt, lobortis dolor eget, condimentum libero.</p>',\n\t\t\t\t\turl: '/ws-events/event.html',\n\t\t\t\t\tcreationDate: '2020-05-20T08:11:17.827Z',\n\t\t\t\t\tstartDate: '2020-05-20T08:11:17.827Z',\n\t\t\t\t\tpicture: image_,\n\t\t\t\t\tinfo: info_,\n\t\t\t\t\tchannel: channel_,\n\t\t\t\t};\n\t\t\t\tconst picture_ = {\n\t\t\t\t\tid: 1000,\n\t\t\t\t\ttype: 'picture',\n\t\t\t\t\tname: 'Picture',\n\t\t\t\t\ttitle: 'Picture',\n\t\t\t\t\tabstract: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eget dolor tincidunt, lobortis dolor eget, condimentum libero.</p>',\n\t\t\t\t\turl: '/ws-events/document.html',\n\t\t\t\t\tpicture: image_,\n\t\t\t\t\tcategory: category_,\n\t\t\t\t};\n\t\t\t\tconst product_ = {\n\t\t\t\t\tid: 1000,\n\t\t\t\t\ttype: 'product',\n\t\t\t\t\tname: 'Product',\n\t\t\t\t\ttitle: 'Product',\n\t\t\t\t\tabstract: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eget dolor tincidunt, lobortis dolor eget, condimentum libero.</p>',\n\t\t\t\t\turl: '/ws-events/product.html',\n\t\t\t\t\tpicture: image_,\n\t\t\t\t\tcategory: category_,\n\t\t\t\t};\n\t\t\t\tconst magazine_ = {\n\t\t\t\t\tid: 1000,\n\t\t\t\t\ttype: 'magazine',\n\t\t\t\t\tname: 'Magazine',\n\t\t\t\t\ttitle: 'Magazine',\n\t\t\t\t\tabstract: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eget dolor tincidunt, lobortis dolor eget, condimentum libero.</p>',\n\t\t\t\t\turl: '/ws-events/product.html',\n\t\t\t\t\tpicture: image_,\n\t\t\t\t\tcategory: category_,\n\t\t\t\t};\n\t\t\t\tconst letters = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'L'];\n\t\t\t\treturn new Array(250).fill(true).map((x, i) => {\n\t\t\t\t\tlet type = 'event';\n\t\t\t\t\tif (i > 3) {\n\t\t\t\t\t\tif (i % 5 === 0) {\n\t\t\t\t\t\t\ttype = 'picture';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i % 7 === 0) {\n\t\t\t\t\t\t\ttype = 'product';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i % 11 === 0) {\n\t\t\t\t\t\t\ttype = 'magazine';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet item;\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase 'picture':\n\t\t\t\t\t\t\titem = Object.assign({}, picture_);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'product':\n\t\t\t\t\t\t\titem = Object.assign({}, product_);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'magazine':\n\t\t\t\t\t\t\titem = Object.assign({}, magazine_);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'event':\n\t\t\t\t\t\t\titem = Object.assign({}, event_);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\titem.id = (channelId - 100) * 1000 + 1 + i;\n\t\t\t\t\titem.name = item.title = `${item.name} ${letters[(item.id - 1) % 10]}`;\n\t\t\t\t\titem.type = type;\n\t\t\t\t\tif (item.picture) {\n\t\t\t\t\t\titem.picture = Object.assign({}, image_, {\n\t\t\t\t\t\t\tid: (100001 + i),\n\t\t\t\t\t\t\twidth: 700,\n\t\t\t\t\t\t\theight: [700, 900, 1100][i % 3],\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (item.info) {\n\t\t\t\t\t\titem.info = Object.assign({}, info_);\n\t\t\t\t\t}\n\t\t\t\t\tif (item.channel) {\n\t\t\t\t\t\titem.channel = Object.assign({}, x);\n\t\t\t\t\t}\n\t\t\t\t\tif (item.category) {\n\t\t\t\t\t\tconst categoryId = (10001 + (i % 10));\n\t\t\t\t\t\titem.category = Object.assign({}, category_, {\n\t\t\t\t\t\t\tid: categoryId,\n\t\t\t\t\t\t\tname: 'Category ' + letters[categoryId % 10],\n\t\t\t\t\t\t\turl: `${category_.url}?categoryId=${categoryId}`,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase 'event':\n\t\t\t\t\t\t\titem = EventService.fake(new Event(item));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\treturn item;\n\t\t\t\t});\n\t\t\t})\n\t\t\t// map(x => new Channel(x))\n\t\t);\n\t}\n\n\tstatic fakeListing_(channelId) {\n\t\treturn HttpService.get$(`/api/channel/${channelId}/detail`).pipe(\n\t\t\tmap(x => {\n\t\t\t\tconst channel_ = ChannelService.fake(new Channel(x));\n\t\t\t\tconst event_ = {\n\t\t\t\t\tid: 1000,\n\t\t\t\t\ttype: 'event',\n\t\t\t\t\tname: 'Evento XYZ',\n\t\t\t\t\ttitle: 'Evento XYZ',\n\t\t\t\t\tabstract: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eget dolor tincidunt, lobortis dolor eget, condimentum libero.</p>',\n\t\t\t\t\tpicture: {\n\t\t\t\t\t\tsrc: 'https://source.unsplash.com/random/',\n\t\t\t\t\t\twidth: 700,\n\t\t\t\t\t\theight: 700,\n\t\t\t\t\t},\n\t\t\t\t\turl: '/ws-events/event.html',\n\t\t\t\t\tcreationDate: '2020-05-20T08:11:17.827Z',\n\t\t\t\t\tstartDate: '2020-05-20T08:11:17.827Z',\n\t\t\t\t\tinfo: {\n\t\t\t\t\t\tstarted: false,\n\t\t\t\t\t\tended: false,\n\t\t\t\t\t\tsubscribers: 100,\n\t\t\t\t\t\tsubscribed: false,\n\t\t\t\t\t\tlikes: 100,\n\t\t\t\t\t\tliked: false\n\t\t\t\t\t},\n\t\t\t\t\tchannel: channel_\n\t\t\t\t};\n\t\t\t\treturn new Array(250).fill(true).map((x, i) => {\n\t\t\t\t\tconst item = Object.assign({}, event_);\n\t\t\t\t\titem.id = (channelId - 100) * 1000 + 1 + i;\n\t\t\t\t\titem.picture = Object.assign({}, event_.picture);\n\t\t\t\t\titem.picture.width = 700;\n\t\t\t\t\titem.picture.height = [700, 900, 1100][i % 3];\n\t\t\t\t\titem.info = Object.assign({}, event_.info);\n\t\t\t\t\titem.channel = Object.assign({}, x);\n\t\t\t\t\treturn EventService.fake(new Event(item));\n\t\t\t\t});\n\t\t\t})\n\t\t\t// map(x => new Channel(x))\n\t\t);\n\t}\n\n}\n","import { combineLatest } from 'rxjs';\nimport { first, takeUntil } from 'rxjs/operators';\nimport EventService from '../event/event.service';\nimport FilterService from '../filter/filter.service';\nimport LocationService from '../location/location.service';\nimport PageComponent from '../page/page.component';\nimport ChannelService from './channel.service';\n\nexport default class ChannelPageComponent extends PageComponent {\n\n\tonInit() {\n\t\tthis.channels = this.channel = this.listing = null;\n\t\tthis.grid = {\n\t\t\tmode: 1,\n\t\t\twidth: 350,\n\t\t\tgutter: 2,\n\t\t};\n\t\tthis.filteredItems = [];\n\t\tconst filters = {\n\t\t\ttype: {\n\t\t\t\tlabel: 'Type',\n\t\t\t\tmode: 'select',\n\t\t\t\toptions: [{\n\t\t\t\t\tlabel: 'Event',\n\t\t\t\t\tvalue: 'event',\n\t\t\t\t}, {\n\t\t\t\t\tlabel: 'Picture',\n\t\t\t\t\tvalue: 'picture',\n\t\t\t\t}, {\n\t\t\t\t\tlabel: 'Product',\n\t\t\t\t\tvalue: 'product',\n\t\t\t\t}, {\n\t\t\t\t\tlabel: 'Magazine',\n\t\t\t\t\tvalue: 'magazine',\n\t\t\t\t}]\n\t\t\t},\n\t\t};\n\t\tconst filterService = this.filterService = new FilterService(filters, {}, (key, filter) => {\n\t\t\tswitch (key) {\n\t\t\t\tcase 'type':\n\t\t\t\t\tfilter.filter = (item, value) => {\n\t\t\t\t\t\treturn item.type === value;\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'tag':\n\t\t\t\t\tfilter.filter = (item, value) => {\n\t\t\t\t\t\treturn item.tags.indexOf(value) !== -1;\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tfilter.filter = (item, value) => {\n\t\t\t\t\t\treturn item.features.indexOf(value) !== -1;\n\t\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\tthis.filters = filterService.filters;\n\t\tthis.load$().pipe(\n\t\t\tfirst(),\n\t\t).subscribe(data => {\n\t\t\tthis.channels = data[0];\n\t\t\tthis.channel = data[1];\n\t\t\tthis.listing = data[2];\n\t\t\tthis.startFilter(this.listing);\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\tload$() {\n\t\tconst channelId = LocationService.get('channelId');\n\t\treturn combineLatest(\n\t\t\tChannelService.channels$(),\n\t\t\tChannelService.detail$(channelId),\n\t\t\tChannelService.listing$(channelId),\n\t\t);\n\t}\n\n\tstartFilter(items) {\n\t\tthis.filterService.items$(items).pipe(\n\t\t\ttakeUntil(this.unsubscribe$),\n\t\t).subscribe(filteredItems => {\n\t\t\tthis.filteredItems = [];\n\t\t\tthis.pushChanges();\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.filteredItems = filteredItems;\n\t\t\t\tthis.pushChanges();\n\t\t\t}, 1);\n\t\t\tconsole.log('ChannelPageComponent.filteredItems', filteredItems.length);\n\t\t});\n\t}\n\n\tgetItems() {\n\t\tconst fakeChannel = {\n\t\t\tid: 101,\n\t\t\tname: 'Channel A',\n\t\t\turl: '/ws-events/channel.html'\n\t\t};\n\t\tconst fakeEvent = {\n\t\t\tid: 1001,\n\t\t\tname: 'Evento XYZ',\n\t\t\ttitle: 'Evento XYZ',\n\t\t\tabstract: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eget dolor tincidunt, lobortis dolor eget, condimentum libero.</p>',\n\t\t\tpicture: {\n\t\t\t\tsrc: 'https://source.unsplash.com/random/',\n\t\t\t\twidth: 700,\n\t\t\t\theight: 700,\n\t\t\t},\n\t\t\turl: '/ws-events/event.html',\n\t\t\tcreationDate: '2020-05-20T08:11:17.827Z',\n\t\t\tstartDate: '2020-05-20T08:11:17.827Z',\n\t\t\tinfo: {\n\t\t\t\tstarted: false,\n\t\t\t\tended: false,\n\t\t\t\tsubscribers: 100,\n\t\t\t\tsubscribed: false,\n\t\t\t\tlikes: 100,\n\t\t\t\tliked: false\n\t\t\t},\n\t\t\tchannel: fakeChannel\n\t\t};\n\t\treturn new Array(250).fill(true).map((x, i) => {\n\t\t\tconst item = Object.assign({}, fakeEvent);\n\t\t\titem.id = 1000 + i + 1;\n\t\t\tconst width = 700;\n\t\t\tconst height = [700, 900, 1100][i % 3];\n\t\t\titem.picture = {\n\t\t\t\tsrc: `https://source.unsplash.com/random/`,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t};\n\t\t\treturn EventService.fake(new Event(item));\n\t\t});\n\t}\n\n}\n\nChannelPageComponent.meta = {\n\tselector: '[channel-page]',\n};\n","import { Component } from 'rxcomp';\nimport { first } from 'rxjs/operators';\nimport ChannelService from './channel.service';\n\nexport default class ChannelComponent extends Component {\n\n\ttoggleSubscribe() {\n\t\tconst flag = this.channel.info.subscribed;\n\t\tChannelService[flag ? 'unsubscribe$' : 'subscribe$'](this.channel.id).pipe(\n\t\t\tfirst()\n\t\t).subscribe(() => {\n\t\t\tthis.channel.info.subscribed = !flag;\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\ttoggleLike() {\n\t\tconst flag = this.channel.info.liked;\n\t\tChannelService[flag ? 'unlike$' : 'like$'](this.channel.id).pipe(\n\t\t\tfirst()\n\t\t).subscribe(() => {\n\t\t\tthis.channel.info.liked = !flag;\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n}\n\nChannelComponent.meta = {\n\tselector: '[channel]',\n\tinputs: ['channel']\n};\n","import { Pipe } from \"rxcomp\";\r\n\r\nconst DATE_FORMATS_SPLIT = /((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\\s\\S]*)/;\r\nconst NUMBER_STRING = /^-?\\d+$/;\r\nconst R_ISO8601_STR = /^(\\d{4})-?(\\d\\d)-?(\\d\\d)(?:T(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:\\.(\\d+))?)?)?(Z|([+-])(\\d\\d):?(\\d\\d))?)?$/;\r\nconst ALL_COLONS = /:/g;\r\nconst ZERO_CHAR = '0';\r\n\r\n// dateFilter.$inject = ['$locale'];\r\n\r\nconst DATETIME_FORMATS_EN_US = {\r\n\t\"AMPMS\": [\r\n      \"AM\",\r\n      \"PM\"\r\n    ],\r\n\t\"DAY\": [\r\n      \"Sunday\",\r\n      \"Monday\",\r\n      \"Tuesday\",\r\n      \"Wednesday\",\r\n      \"Thursday\",\r\n      \"Friday\",\r\n      \"Saturday\"\r\n    ],\r\n\t\"MONTH\": [\r\n      \"January\",\r\n      \"February\",\r\n      \"March\",\r\n      \"April\",\r\n      \"May\",\r\n      \"June\",\r\n      \"July\",\r\n      \"August\",\r\n      \"September\",\r\n      \"October\",\r\n      \"November\",\r\n      \"December\"\r\n    ],\r\n\t\"SHORTDAY\": [\r\n      \"Sun\",\r\n      \"Mon\",\r\n      \"Tue\",\r\n      \"Wed\",\r\n      \"Thu\",\r\n      \"Fri\",\r\n      \"Sat\"\r\n    ],\r\n\t\"SHORTMONTH\": [\r\n      \"Jan\",\r\n      \"Feb\",\r\n      \"Mar\",\r\n      \"Apr\",\r\n      \"May\",\r\n      \"Jun\",\r\n      \"Jul\",\r\n      \"Aug\",\r\n      \"Sep\",\r\n      \"Oct\",\r\n      \"Nov\",\r\n      \"Dec\"\r\n    ],\r\n\t\"fullDate\": \"EEEE, MMMM d, y\",\r\n\t\"longDate\": \"MMMM d, y\",\r\n\t\"medium\": \"MMM d, y h:mm:ss a\",\r\n\t\"mediumDate\": \"MMM d, y\",\r\n\t\"mediumTime\": \"h:mm:ss a\",\r\n\t\"short\": \"M/d/yy h:mm a\",\r\n\t\"shortDate\": \"M/d/yy\",\r\n\t\"shortTime\": \"h:mm a\"\r\n};\r\n\r\nconst DATETIME_FORMATS_IT_IT = {\r\n\t\"AMPMS\": [\r\n      \"AM\",\r\n      \"PM\"\r\n    ],\r\n\t\"DAY\": [\r\n      \"domenica\",\r\n      \"luned\\u00ec\",\r\n      \"marted\\u00ec\",\r\n      \"mercoled\\u00ec\",\r\n      \"gioved\\u00ec\",\r\n      \"venerd\\u00ec\",\r\n      \"sabato\"\r\n    ],\r\n\t\"MONTH\": [\r\n      \"gennaio\",\r\n      \"febbraio\",\r\n      \"marzo\",\r\n      \"aprile\",\r\n      \"maggio\",\r\n      \"giugno\",\r\n      \"luglio\",\r\n      \"agosto\",\r\n      \"settembre\",\r\n      \"ottobre\",\r\n      \"novembre\",\r\n      \"dicembre\"\r\n    ],\r\n\t\"SHORTDAY\": [\r\n      \"dom\",\r\n      \"lun\",\r\n      \"mar\",\r\n      \"mer\",\r\n      \"gio\",\r\n      \"ven\",\r\n      \"sab\"\r\n    ],\r\n\t\"SHORTMONTH\": [\r\n      \"gen\",\r\n      \"feb\",\r\n      \"mar\",\r\n      \"apr\",\r\n      \"mag\",\r\n      \"giu\",\r\n      \"lug\",\r\n      \"ago\",\r\n      \"set\",\r\n      \"ott\",\r\n      \"nov\",\r\n      \"dic\"\r\n    ],\r\n\t\"fullDate\": \"EEEE d MMMM y\",\r\n\t\"longDate\": \"dd MMMM y\",\r\n\t\"medium\": \"dd/MMM/y HH:mm:ss\",\r\n\t\"mediumDate\": \"dd/MMM/y\",\r\n\t\"mediumTime\": \"HH:mm:ss\",\r\n\t\"short\": \"dd/MM/yy HH:mm\",\r\n\t\"shortDate\": \"dd/MM/yy\",\r\n\t\"shortTime\": \"HH:mm\"\r\n};\r\n\r\nexport default class DatePipe extends Pipe {\r\n\r\n\tstatic isNumber(value) {\r\n\t\treturn typeof value === 'number' && isFinite(value);\r\n\t}\r\n\r\n\tstatic padNumber(num, digits, trim, negWrap) {\r\n\t\tvar neg = '';\r\n\t\tif (num < 0 || (negWrap && num <= 0)) {\r\n\t\t\tif (negWrap) {\r\n\t\t\t\tnum = -num + 1;\r\n\t\t\t} else {\r\n\t\t\t\tnum = -num;\r\n\t\t\t\tneg = '-';\r\n\t\t\t}\r\n\t\t}\r\n\t\tnum = '' + num;\r\n\t\twhile (num.length < digits) num = ZERO_CHAR + num;\r\n\t\tif (trim) {\r\n\t\t\tnum = num.substr(num.length - digits);\r\n\t\t}\r\n\t\treturn neg + num;\r\n\t}\r\n\r\n\tstatic dateGetter(name, size, offset, trim, negWrap) {\r\n\t\toffset = offset || 0;\r\n\t\treturn function(date) {\r\n\t\t\tvar value = date['get' + name]();\r\n\t\t\tif (offset > 0 || value > -offset) {\r\n\t\t\t\tvalue += offset;\r\n\t\t\t}\r\n\t\t\tif (value === 0 && offset === -12) value = 12;\r\n\t\t\treturn DatePipe.padNumber(value, size, trim, negWrap);\r\n\t\t};\r\n\t}\r\n\r\n\tstatic dateStrGetter(name, shortForm, standAlone) {\r\n\t\treturn function(date, formats) {\r\n\t\t\tvar value = date['get' + name]();\r\n\t\t\tvar propPrefix = (standAlone ? 'STANDALONE' : '') + (shortForm ? 'SHORT' : '');\r\n\t\t\tvar get = (propPrefix + name).toUpperCase();\r\n\t\t\treturn formats[get][value];\r\n\t\t};\r\n\t}\r\n\r\n\tstatic timeZoneGetter(date, formats, offset) {\r\n\t\tvar zone = -1 * offset;\r\n\t\tvar paddedZone = (zone >= 0) ? '+' : '';\r\n\t\tpaddedZone += DatePipe.padNumber(Math[zone > 0 ? 'floor' : 'ceil'](zone / 60), 2) + DatePipe.padNumber(Math.abs(zone % 60), 2);\r\n\t\treturn paddedZone;\r\n\t}\r\n\r\n\tstatic getFirstThursdayOfYear(year) {\r\n\t\t// 0 = index of January\r\n\t\tvar dayOfWeekOnFirst = (new Date(year, 0, 1)).getDay();\r\n\t\t// 4 = index of Thursday (+1 to account for 1st = 5)\r\n\t\t// 11 = index of *next* Thursday (+1 account for 1st = 12)\r\n\t\treturn new Date(year, 0, ((dayOfWeekOnFirst <= 4) ? 5 : 12) - dayOfWeekOnFirst);\r\n\t}\r\n\r\n\tstatic getThursdayThisWeek(datetime) {\r\n\t\treturn new Date(datetime.getFullYear(), datetime.getMonth(), datetime.getDate() + (4 - datetime.getDay())); // 4 = index of Thursday\r\n\t}\r\n\r\n\tstatic weekGetter(size) {\r\n\t\treturn function(date) {\r\n\t\t\tvar firstThurs = DatePipe.getFirstThursdayOfYear(date.getFullYear()),\r\n\t\t\t\tthisThurs = DatePipe.getThursdayThisWeek(date);\r\n\t\t\tvar diff = +thisThurs - +firstThurs,\r\n\t\t\t\tresult = 1 + Math.round(diff / 6.048e8); // 6.048e8 ms per week\r\n\t\t\treturn padNumber(result, size);\r\n\t\t};\r\n\t}\r\n\r\n\tstatic ampmGetter(date, formats) {\r\n\t\treturn date.getHours() < 12 ? formats.AMPMS[0] : formats.AMPMS[1];\r\n\t}\r\n\r\n\tstatic eraGetter(date, formats) {\r\n\t\treturn date.getFullYear() <= 0 ? formats.ERAS[0] : formats.ERAS[1];\r\n\t}\r\n\r\n\tstatic longEraGetter(date, formats) {\r\n\t\treturn date.getFullYear() <= 0 ? formats.ERANAMES[0] : formats.ERANAMES[1];\r\n\t}\r\n\r\n\tstatic jsonStringToDate(string) {\r\n\t\tlet match;\r\n\t\tif ((match = string.match(R_ISO8601_STR))) {\r\n\t\t\tlet tzHour = 0;\r\n\t\t\tlet tzMin = 0;\r\n\t\t\tif (match[9]) {\r\n\t\t\t\ttzHour = parseInt(match[9] + match[10]);\r\n\t\t\t\ttzMin = parseInt(match[9] + match[11]);\r\n\t\t\t}\r\n\t\t\tconst date = new Date(0);\r\n\t\t\tconst dateSetter = match[8] ? date.setUTCFullYear : date.setFullYear;\r\n\t\t\tconst timeSetter = match[8] ? date.setUTCHours : date.setHours;\r\n\t\t\tdateSetter.call(date, parseInt(match[1]), parseInt(match[2]) - 1, parseInt(match[3]));\r\n\t\t\tconst h = parseInt(match[4] || 0) - tzHour;\r\n\t\t\tconst m = parseInt(match[5] || 0) - tzMin;\r\n\t\t\tconst s = parseInt(match[6] || 0);\r\n\t\t\tconst ms = Math.round(parseFloat('0.' + (match[7] || 0)) * 1000);\r\n\t\t\ttimeSetter.call(date, h, m, s, ms);\r\n\t\t\treturn date;\r\n\t\t}\r\n\t\treturn string;\r\n\t}\r\n\r\n\tstatic timezoneToOffset(timezone, fallback) {\r\n\t\t// Support: IE 9-11 only, Edge 13-15+\r\n\t\t// IE/Edge do not \"understand\" colon (`:`) in timezone\r\n\t\ttimezone = timezone.replace(ALL_COLONS, '');\r\n\t\tvar requestedTimezoneOffset = Date.parse('Jan 01, 1970 00:00:00 ' + timezone) / 60000;\r\n\t\treturn Number.isNaN(requestedTimezoneOffset) ? fallback : requestedTimezoneOffset;\r\n\t}\r\n\r\n\tstatic addDateMinutes(date, minutes) {\r\n\t\tdate = new Date(date.getTime());\r\n\t\tdate.setMinutes(date.getMinutes() + minutes);\r\n\t\treturn date;\r\n\t}\r\n\r\n\tstatic convertTimezoneToLocal(date, timezone, reverse) {\r\n\t\treverse = reverse ? -1 : 1;\r\n\t\tvar dateTimezoneOffset = date.getTimezoneOffset();\r\n\t\tvar timezoneOffset = DatePipe.timezoneToOffset(timezone, dateTimezoneOffset);\r\n\t\treturn DatePipe.addDateMinutes(date, reverse * (timezoneOffset - dateTimezoneOffset));\r\n\t}\r\n\r\n\tstatic transform_(value, locale = 'it-IT-u-ca-gregory', options = {\r\n\t\tdateStyle: 'short',\r\n\t\ttimeStyle: 'short',\r\n\t}) {\r\n\t\tconst localeDateString = new Date(value).toLocaleDateString(locale, options);\r\n\t\treturn localeDateString;\r\n\t}\r\n\r\n\tstatic transform(date, format, timezone) {\r\n\t\tlet text = '',\r\n\t\t\tmatch;\r\n\t\tlet parts = [];\r\n\t\tformat = format || 'mediumDate';\r\n\t\tformat = DatePipe.DATETIME_FORMATS[format] || format;\r\n\t\tif (typeof date === 'string') {\r\n\t\t\tdate = NUMBER_STRING.test(date) ? parseInt(date) : DatePipe.jsonStringToDate(date);\r\n\t\t}\r\n\t\tif (DatePipe.isNumber(date)) {\r\n\t\t\tdate = new Date(date);\r\n\t\t}\r\n\t\tif (!(date instanceof Date) || !isFinite(date.getTime())) {\r\n\t\t\treturn date;\r\n\t\t}\r\n\t\twhile (format) {\r\n\t\t\tmatch = DATE_FORMATS_SPLIT.exec(format);\r\n\t\t\tif (match) {\r\n\t\t\t\t// parts = concat(parts, match, 1);\r\n\t\t\t\tparts = parts.concat(match.slice(1));\r\n\t\t\t\tformat = parts.pop();\r\n\t\t\t} else {\r\n\t\t\t\tparts.push(format);\r\n\t\t\t\tformat = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet dateTimezoneOffset = date.getTimezoneOffset();\r\n\t\tif (timezone) {\r\n\t\t\tdateTimezoneOffset = DatePipe.timezoneToOffset(timezone, dateTimezoneOffset);\r\n\t\t\tdate = DatePipe.convertTimezoneToLocal(date, timezone, true);\r\n\t\t}\r\n\t\tparts.forEach(function(value) {\r\n\t\t\tconst formatter = DatePipe.DATE_FORMATS[value];\r\n\t\t\ttext += formatter ? formatter(date, DatePipe.DATETIME_FORMATS, dateTimezoneOffset) : value === '\\'\\'' ? '\\'' : value.replace(/(^'|'$)/g, '').replace(/''/g, '\\'');\r\n\t\t});\r\n\t\treturn text;\r\n\t}\r\n\r\n}\r\n\r\nDatePipe.DATE_FORMATS = {\r\n\tyyyy: DatePipe.dateGetter('FullYear', 4, 0, false, true),\r\n\tyy: DatePipe.dateGetter('FullYear', 2, 0, true, true),\r\n\ty: DatePipe.dateGetter('FullYear', 1, 0, false, true),\r\n\tMMMM: DatePipe.dateStrGetter('Month'),\r\n\tMMM: DatePipe.dateStrGetter('Month', true),\r\n\tMM: DatePipe.dateGetter('Month', 2, 1),\r\n\tM: DatePipe.dateGetter('Month', 1, 1),\r\n\tLLLL: DatePipe.dateStrGetter('Month', false, true),\r\n\tdd: DatePipe.dateGetter('Date', 2),\r\n\td: DatePipe.dateGetter('Date', 1),\r\n\tHH: DatePipe.dateGetter('Hours', 2),\r\n\tH: DatePipe.dateGetter('Hours', 1),\r\n\thh: DatePipe.dateGetter('Hours', 2, -12),\r\n\th: DatePipe.dateGetter('Hours', 1, -12),\r\n\tmm: DatePipe.dateGetter('Minutes', 2),\r\n\tm: DatePipe.dateGetter('Minutes', 1),\r\n\tss: DatePipe.dateGetter('Seconds', 2),\r\n\ts: DatePipe.dateGetter('Seconds', 1),\r\n\t// while ISO 8601 requires fractions to be prefixed with `.` or `,`\r\n\t// we can be just safely rely on using `sss` since we currently don't support single or two digit fractions\r\n\tsss: DatePipe.dateGetter('Milliseconds', 3),\r\n\tEEEE: DatePipe.dateStrGetter('Day'),\r\n\tEEE: DatePipe.dateStrGetter('Day', true),\r\n\ta: DatePipe.ampmGetter,\r\n\tZ: DatePipe.timeZoneGetter,\r\n\tww: DatePipe.weekGetter(2),\r\n\tw: DatePipe.weekGetter(1),\r\n\tG: DatePipe.eraGetter,\r\n\tGG: DatePipe.eraGetter,\r\n\tGGG: DatePipe.eraGetter,\r\n\tGGGG: DatePipe.longEraGetter\r\n};\r\n\r\nDatePipe.DATETIME_FORMATS = DATETIME_FORMATS_IT_IT;\r\n\r\nDatePipe.meta = {\r\n\tname: 'date',\r\n};\r\n\r\n/**\r\n   *   Formats `date` to a string based on the requested `format`.\r\n   *\r\n   *   `format` string can be composed of the following elements:\r\n   *\r\n   *   * `'yyyy'`: 4 digit representation of year (e.g. AD 1 => 0001, AD 2010 => 2010)\r\n   *   * `'yy'`: 2 digit representation of year, padded (00-99). (e.g. AD 2001 => 01, AD 2010 => 10)\r\n   *   * `'y'`: 1 digit representation of year, e.g. (AD 1 => 1, AD 199 => 199)\r\n   *   * `'MMMM'`: Month in year (January-December)\r\n   *   * `'MMM'`: Month in year (Jan-Dec)\r\n   *   * `'MM'`: Month in year, padded (01-12)\r\n   *   * `'M'`: Month in year (1-12)\r\n   *   * `'LLLL'`: Stand-alone month in year (January-December)\r\n   *   * `'dd'`: Day in month, padded (01-31)\r\n   *   * `'d'`: Day in month (1-31)\r\n   *   * `'EEEE'`: Day in Week,(Sunday-Saturday)\r\n   *   * `'EEE'`: Day in Week, (Sun-Sat)\r\n   *   * `'HH'`: Hour in day, padded (00-23)\r\n   *   * `'H'`: Hour in day (0-23)\r\n   *   * `'hh'`: Hour in AM/PM, padded (01-12)\r\n   *   * `'h'`: Hour in AM/PM, (1-12)\r\n   *   * `'mm'`: Minute in hour, padded (00-59)\r\n   *   * `'m'`: Minute in hour (0-59)\r\n   *   * `'ss'`: Second in minute, padded (00-59)\r\n   *   * `'s'`: Second in minute (0-59)\r\n   *   * `'sss'`: Millisecond in second, padded (000-999)\r\n   *   * `'a'`: AM/PM marker\r\n   *   * `'Z'`: 4 digit (+sign) representation of the timezone offset (-1200-+1200)\r\n   *   * `'ww'`: Week of year, padded (00-53). Week 01 is the week with the first Thursday of the year\r\n   *   * `'w'`: Week of year (0-53). Week 1 is the week with the first Thursday of the year\r\n   *   * `'G'`, `'GG'`, `'GGG'`: The abbreviated form of the era string (e.g. 'AD')\r\n   *   * `'GGGG'`: The long form of the era string (e.g. 'Anno Domini')\r\n   *\r\n   *   `format` string can also be one of the following predefined\r\n   *   {@link guide/i18n localizable formats}:\r\n   *\r\n   *   * `'medium'`: equivalent to `'MMM d, y h:mm:ss a'` for en_US locale\r\n   *     (e.g. Sep 3, 2010 12:05:08 PM)\r\n   *   * `'short'`: equivalent to `'M/d/yy h:mm a'` for en_US  locale (e.g. 9/3/10 12:05 PM)\r\n   *   * `'fullDate'`: equivalent to `'EEEE, MMMM d, y'` for en_US  locale\r\n   *     (e.g. Friday, September 3, 2010)\r\n   *   * `'longDate'`: equivalent to `'MMMM d, y'` for en_US  locale (e.g. September 3, 2010)\r\n   *   * `'mediumDate'`: equivalent to `'MMM d, y'` for en_US  locale (e.g. Sep 3, 2010)\r\n   *   * `'shortDate'`: equivalent to `'M/d/yy'` for en_US locale (e.g. 9/3/10)\r\n   *   * `'mediumTime'`: equivalent to `'h:mm:ss a'` for en_US locale (e.g. 12:05:08 PM)\r\n   *   * `'shortTime'`: equivalent to `'h:mm a'` for en_US locale (e.g. 12:05 PM)\r\n   *\r\n   *   `format` string can contain literal values. These need to be escaped by surrounding with single quotes (e.g.\r\n   *   `\"h 'in the morning'\"`). In order to output a single quote, escape it - i.e., two single quotes in a sequence\r\n   *   (e.g. `\"h 'o''clock'\"`).\r\n   *\r\n   *   Any other characters in the `format` string will be output as-is.\r\n   *\r\n   * @param {(Date|number|string)} date Date to format either as Date object, milliseconds (string or\r\n   *    number) or various ISO 8601 datetime string formats (e.g. yyyy-MM-ddTHH:mm:ss.sssZ and its\r\n   *    shorter versions like yyyy-MM-ddTHH:mmZ, yyyy-MM-dd or yyyyMMddTHHmmssZ). If no timezone is\r\n   *    specified in the string input, the time is considered to be in the local timezone.\r\n   * @param {string=} format Formatting rules (see Description). If not specified,\r\n   *    `mediumDate` is used.\r\n   * @param {string=} timezone Timezone to be used for formatting. It understands UTC/GMT and the\r\n   *    continental US time zone abbreviations, but for general use, use a time zone offset, for\r\n   *    example, `'+0430'` (4 hours, 30 minutes east of the Greenwich meridian)\r\n   *    If not specified, the timezone of the browser will be used.\r\n   * @returns {string} Formatted string or the input if input is not recognized as date/millis.\r\n   *\r\n   * @example\r\n\t <example name=\"filter-date\">\r\n\t   <file name=\"index.html\">\r\n\t\t <span ng-non-bindable>{{1288323623006 | date:'medium'}}</span>:\r\n\t\t\t <span>{{1288323623006 | date:'medium'}}</span><br>\r\n\t\t <span ng-non-bindable>{{1288323623006 | date:'yyyy-MM-dd HH:mm:ss Z'}}</span>:\r\n\t\t\t<span>{{1288323623006 | date:'yyyy-MM-dd HH:mm:ss Z'}}</span><br>\r\n\t\t <span ng-non-bindable>{{1288323623006 | date:'MM/dd/yyyy @ h:mma'}}</span>:\r\n\t\t\t<span>{{'1288323623006' | date:'MM/dd/yyyy @ h:mma'}}</span><br>\r\n\t\t <span ng-non-bindable>{{1288323623006 | date:\"MM/dd/yyyy 'at' h:mma\"}}</span>:\r\n\t\t\t<span>{{'1288323623006' | date:\"MM/dd/yyyy 'at' h:mma\"}}</span><br>\r\n\t   </file>\r\n\t   <file name=\"protractor.js\" type=\"protractor\">\r\n\t\t it('should format date', function() {\r\n\t\t   expect(element(by.binding(\"1288323623006 | date:'medium'\")).getText()).\r\n\t\t\t  toMatch(/Oct 2\\d, 2010 \\d{1,2}:\\d{2}:\\d{2} (AM|PM)/);\r\n\t\t   expect(element(by.binding(\"1288323623006 | date:'yyyy-MM-dd HH:mm:ss Z'\")).getText()).\r\n\t\t\t  toMatch(/2010-10-2\\d \\d{2}:\\d{2}:\\d{2} (-|\\+)?\\d{4}/);\r\n\t\t   expect(element(by.binding(\"'1288323623006' | date:'MM/dd/yyyy @ h:mma'\")).getText()).\r\n\t\t\t  toMatch(/10\\/2\\d\\/2010 @ \\d{1,2}:\\d{2}(AM|PM)/);\r\n\t\t   expect(element(by.binding(\"'1288323623006' | date:\\\"MM/dd/yyyy 'at' h:mma\\\"\")).getText()).\r\n\t\t\t  toMatch(/10\\/2\\d\\/2010 at \\d{1,2}:\\d{2}(AM|PM)/);\r\n\t\t });\r\n\t   </file>\r\n\t </example>\r\n   */\r\n","import { Directive, getContext } from \"rxcomp\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\nimport { takeUntil } from \"rxjs/operators\";\r\n\r\nlet DROPDOWN_ID = 1000000;\r\n\r\nexport default class DropdownDirective extends Directive {\r\n\r\n\tget id() {\r\n\t\treturn this.dropdown || this.id_ || (this.id_ = DropdownDirective.nextId());\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst trigger = node.getAttribute('dropdown-trigger');\r\n\t\tthis.trigger = trigger ? node.querySelector(trigger) : node;\r\n\t\tthis.opened = null;\r\n\t\tthis.onClick = this.onClick.bind(this);\r\n\t\tthis.onDocumentClick = this.onDocumentClick.bind(this);\r\n\t\tthis.openDropdown = this.openDropdown.bind(this);\r\n\t\tthis.closeDropdown = this.closeDropdown.bind(this);\r\n\t\tthis.addListeners();\r\n\t\tDropdownDirective.dropdown$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(id => {\r\n\t\t\t// console.log('DropdownDirective', id, this['dropdown-item']);\r\n\t\t\tif (this.id === id) {\r\n\t\t\t\tnode.classList.add('dropped');\r\n\t\t\t} else {\r\n\t\t\t\tnode.classList.remove('dropped');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonClick(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tif (this.opened === null) {\r\n\t\t\tthis.openDropdown();\r\n\t\t} else {\r\n\t\t\tconst dropdownItemNode = node.querySelector('[dropdown-item]');\r\n\t\t\t// console.log('dropdownItemNode', dropdownItemNode);\r\n\t\t\tif (!dropdownItemNode) { // if (this.trigger !== node) {\r\n\t\t\t\tthis.closeDropdown();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonDocumentClick(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst clickedInside = node === event.target || node.contains(event.target);\r\n\t\tif (!clickedInside) {\r\n\t\t\tthis.closeDropdown();\r\n\t\t}\r\n\t}\r\n\r\n\topenDropdown() {\r\n\t\tif (this.opened === null) {\r\n\t\t\tthis.opened = true;\r\n\t\t\tthis.addDocumentListeners();\r\n\t\t\tDropdownDirective.dropdown$.next(this.id);\r\n\t\t\tthis.dropped.next(this.id);\r\n\t\t}\r\n\t}\r\n\r\n\tcloseDropdown() {\r\n\t\tif (this.opened !== null) {\r\n\t\t\tthis.removeDocumentListeners();\r\n\t\t\tthis.opened = null;\r\n\t\t\tif (DropdownDirective.dropdown$.getValue() === this.id) {\r\n\t\t\t\tDropdownDirective.dropdown$.next(null);\r\n\t\t\t\tthis.dropped.next(null);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\taddListeners() {\r\n\t\tthis.trigger.addEventListener('click', this.onClick);\r\n\t}\r\n\r\n\taddDocumentListeners() {\r\n\t\tdocument.addEventListener('click', this.onDocumentClick);\r\n\t}\r\n\r\n\tremoveListeners() {\r\n\t\tthis.trigger.removeEventListener('click', this.onClick);\r\n\t}\r\n\r\n\tremoveDocumentListeners() {\r\n\t\tdocument.removeEventListener('click', this.onDocumentClick);\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.removeListeners();\r\n\t\tthis.removeDocumentListeners();\r\n\t}\r\n\r\n\tstatic nextId() {\r\n\t\treturn DROPDOWN_ID++;\r\n\t}\r\n\r\n}\r\n\r\nDropdownDirective.meta = {\r\n\tselector: '[dropdown]',\r\n\tinputs: ['dropdown', 'dropdown-trigger'],\r\n\toutputs: ['dropped']\r\n};\r\n\r\nDropdownDirective.dropdown$ = new BehaviorSubject(null);\r\n","import { Directive, getContext } from \"rxcomp\";\r\nimport { takeUntil } from \"rxjs/operators\";\r\nimport DropdownDirective from \"./dropdown.directive\";\r\n\r\nexport default class DropdownItemDirective extends Directive {\r\n\r\n\tget id() {\r\n\t\treturn this['dropdown-item'];\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('dropdown-item');\r\n\t\tDropdownDirective.dropdown$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(id => {\r\n\t\t\t// console.log('DropdownItemDirective', id, this['dropdown-item']);\r\n\t\t\tif (this.id === id) {\r\n\t\t\t\tnode.classList.add('dropped');\r\n\t\t\t} else {\r\n\t\t\t\tnode.classList.remove('dropped');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nDropdownItemDirective.meta = {\r\n\tselector: '[dropdown-item], [[dropdown-item]]',\r\n\tinputs: ['dropdown-item']\r\n};\r\n","import { Component } from 'rxcomp';\nimport { interval, Subject } from 'rxjs';\nimport { takeUntil, tap } from 'rxjs/operators';\n\nexport const EventDateMode = {\n\tLive: 'live',\n\tCountdown: 'countdown',\n\tWatchRelative: 'watchRelative',\n\tRelative: 'relative',\n\tDate: 'date',\n};\n\nconst SECOND = 1000;\nconst MINUTE = SECOND * 60;\nconst HOUR = MINUTE * 60;\n\nconst to10 = (value) => {\n\treturn (value < 10) ? '0' + value : value;\n};\n\nexport default class EventDateComponent extends Component {\n\n\tstatic hoursDiff(date) {\n\t\tconst now = new Date();\n\t\tconst diff = date - now;\n\t\tconst hoursDiff = Math.abs(Math.floor(diff / 1000 / 60 / 60));\n\t\treturn hoursDiff;\n\t}\n\n\tstatic getMode(item) {\n\t\tif (item.live) {\n\t\t\treturn EventDateMode.Live;\n\t\t} else if (item.incoming) {\n\t\t\treturn EventDateMode.Countdown;\n\t\t}\n\t\tconst hoursDiff = EventDateComponent.hoursDiff(item.startDate);\n\t\tif (item.past && hoursDiff < 24) {\n\t\t\treturn EventDateMode.WatchRelative;\n\t\t} else if (hoursDiff < 24 * 3) {\n\t\t\treturn EventDateMode.Relative;\n\t\t} else {\n\t\t\treturn EventDateMode.Date;\n\t\t}\n\t}\n\n\tonInit() {\n\t\tthis.mode = EventDateComponent.getMode(this.eventDate);\n\t\t/*\n\t\tif (this.mode === EventDateMode.Countdown || this.mode === EventDateMode.WatchRelative) {\n\t\t\tthis.countdown = '';\n\t\t\tthis.live$ = new Subject();\n\t\t\tthis.change$().pipe(\n\t\t\t\ttakeUntil(this.unsubscribe$)\n\t\t\t).subscribe(() => {\n\t\t\t\tif (this.mode === EventDateMode.Countdown || this.mode === EventDateMode.WatchRelative) {\n\t\t\t\t\tthis.pushChanges();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t*/\n\t\tthis.countdown = '';\n\t\tthis.live$ = new Subject();\n\t\tthis.change$().pipe(\n\t\t\ttakeUntil(this.unsubscribe$)\n\t\t).subscribe(() => {\n\t\t\tif (this.mode === EventDateMode.Countdown || this.mode === EventDateMode.WatchRelative) {\n\t\t\t\tthis.pushChanges();\n\t\t\t}\n\t\t});\n\t}\n\n\t/*\n\tonChange() {\n\t\tthis.mode = EventDateComponent.getMode(this.eventDate);\n\t}\n\t*/\n\n\tchange$() {\n\t\treturn interval(1000).pipe(\n\t\t\ttakeUntil(this.live$),\n\t\t\ttap(() => {\n\t\t\t\tif (this.mode === EventDateMode.Countdown) {\n\t\t\t\t\tlet diff = this.eventDate.startDate - new Date();\n\t\t\t\t\tconst hh = Math.floor(diff / HOUR);\n\t\t\t\t\tdiff -= hh * HOUR;\n\t\t\t\t\tconst mm = Math.floor(diff / MINUTE);\n\t\t\t\t\tdiff -= mm * MINUTE;\n\t\t\t\t\tconst ss = Math.floor(diff / SECOND);\n\t\t\t\t\tdiff -= ss * SECOND;\n\t\t\t\t\tthis.countdown = `-${to10(hh)}:${to10(mm)}:${to10(ss)}`;\n\t\t\t\t\tif (diff < 0) {\n\t\t\t\t\t\tthis.eventDate.info.started = true;\n\t\t\t\t\t\t// this.live$.next();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n}\n\nEventDateComponent.meta = {\n\tselector: '[eventDate]',\n\tinputs: ['eventDate']\n};\n","import { Component } from 'rxcomp';\nimport { first } from 'rxjs/operators';\nimport EventService from './event.service';\n\nexport default class EventComponent extends Component {\n\n\ttoggleSubscribe() {\n\t\tconst flag = this.event.info.subscribed;\n\t\tEventService[flag ? 'unsubscribe$' : 'subscribe$'](this.event.id).pipe(\n\t\t\tfirst()\n\t\t).subscribe(() => {\n\t\t\tthis.event.info.subscribed = !flag;\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\ttoggleLike() {\n\t\tconst flag = this.event.info.liked;\n\t\tEventService[flag ? 'unlike$' : 'like$'](this.event.id).pipe(\n\t\t\tfirst()\n\t\t).subscribe(() => {\n\t\t\tthis.event.info.liked = !flag;\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n}\n\nEventComponent.meta = {\n\tselector: '[event]',\n\tinputs: ['event']\n};\n","import { Component, getContext } from 'rxcomp';\r\n\r\nexport default class ControlComponent extends Component {\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst control = this.control;\r\n\t\tconst flags = control.flags;\r\n\t\tObject.keys(flags).forEach((key) => {\r\n\t\t\tflags[key] ? node.classList.add(key) : node.classList.remove(key);\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nControlComponent.meta = {\r\n\tselector: '[control]',\r\n\tinputs: ['control']\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ErrorsComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.labels = window.labels || {};\r\n\t}\r\n\r\n\tgetLabel(key, value) {\r\n\t\tconst label = this.labels[`error_${key}`];\r\n\t\treturn label;\r\n\t}\r\n\r\n}\r\n\r\nErrorsComponent.meta = {\r\n\tselector: 'errors-component',\r\n\tinputs: ['control'],\r\n\ttemplate: /* html */ `\r\n\t<div class=\"inner\" [style]=\"{ display: control.invalid && control.touched ? 'block' : 'none' }\">\r\n\t\t<div class=\"error\" *for=\"let [key, value] of control.errors\">\r\n\t\t\t<span [innerHTML]=\"getLabel(key, value)\"></span>\r\n\t\t\t<!-- <span class=\"key\" [innerHTML]=\"key\"></span> <span class=\"value\" [innerHTML]=\"value | json\"></span> -->\r\n\t\t</div>\r\n\t</div>\r\n\t`\r\n};\r\n","import { Pipe } from \"rxcomp\";\r\n\r\n/*\r\n['quot', 'amp', 'apos', 'lt', 'gt', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'AElig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'amp', 'bull', 'deg', 'infin', 'permil', 'sdot', 'plusmn', 'dagger', 'mdash', 'not', 'micro', 'perp', 'par', 'euro', 'pound', 'yen', 'cent', 'copy', 'reg', 'trade', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega'];\r\n['\"', '&', ''', '<', '>', ' ', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '&', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''];\r\n*/\r\n\r\nexport default class HtmlPipe extends Pipe {\r\n\r\n\tstatic transform(value) {\r\n\t\tif (value) {\r\n\t\t\tvalue = value.replace(/&#(\\d+);/g, function(m, n) {\r\n\t\t\t\treturn String.fromCharCode(parseInt(n));\r\n\t\t\t});\r\n\t\t\tconst escapes = ['quot', 'amp', 'apos', 'lt', 'gt', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'AElig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'amp', 'bull', 'deg', 'infin', 'permil', 'sdot', 'plusmn', 'dagger', 'mdash', 'not', 'micro', 'perp', 'par', 'euro', 'pound', 'yen', 'cent', 'copy', 'reg', 'trade', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega'];\r\n\t\t\tconst unescapes = ['\"', '&', '\\'', '<', '>', ' ', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '&', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''];\r\n\t\t\tconst rx = new RegExp(`(&${escapes.join(';)|(&')};)`, 'g');\r\n\t\t\tvalue = value.replace(rx, function() {\r\n\t\t\t\tfor (let i = 1; i < arguments.length; i++) {\r\n\t\t\t\t\tif (arguments[i]) {\r\n\t\t\t\t\t\t// console.log(arguments[i], unescapes[i - 1]);\r\n\t\t\t\t\t\treturn unescapes[i - 1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// console.log(value);\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nHtmlPipe.meta = {\r\n\tname: 'html',\r\n};\r\n","import { combineLatest } from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport ChannelService from '../channel/channel.service';\nimport EventService from '../event/event.service';\nimport PageComponent from '../page/page.component';\n\nexport default class IndexPageComponent extends PageComponent {\n\n\tonInit() {\n\t\tthis.topEvents = this.topChannels = this.upcomingEvents = [];\n\t\tthis.load$().pipe(\n\t\t\tfirst(),\n\t\t).subscribe(data => {\n\t\t\tthis.topEvents = data[0];\n\t\t\tthis.topChannels = data[1];\n\t\t\tthis.upcomingEvents = data[2];\n\t\t\tthis.pushChanges();\n\t\t});\n\t}\n\n\tload$() {\n\t\treturn combineLatest(\n\t\t\tEventService.top$(),\n\t\t\tChannelService.top$(),\n\t\t\tEventService.upcoming$(),\n\t\t);\n\t}\n\n}\n\nIndexPageComponent.meta = {\n\tselector: '[index-page]',\n};\n","import { fromEvent, of } from 'rxjs';\r\nimport { filter, finalize, first, map } from 'rxjs/operators';\r\nimport { STATIC } from '../environment/environment';\r\n\r\nconst PATH = STATIC ? './' : '/Client/docs/';\r\n\r\nlet UID = 0;\r\n\r\nexport default class ImageService {\r\n\r\n\tstatic worker() {\r\n\t\tif (!this.worker_) {\r\n\t\t\tthis.worker_ = new Worker(`${PATH}js/workers/image.service.worker.js`);\r\n\t\t}\r\n\t\treturn this.worker_;\r\n\t}\r\n\r\n\tstatic load$(src) {\r\n\t\t// if (!('Worker' in window) || this.isBlob(src) || this.isCors(src)) {\r\n\t\tif (!('Worker' in window) || this.isBlob(src)) {\r\n\t\t\treturn of(src);\r\n\t\t}\r\n\t\tconst id = ++UID;\r\n\t\tconst worker = this.worker();\r\n\t\tworker.postMessage({ src, id });\r\n\t\treturn fromEvent(worker, 'message').pipe(\r\n\t\t\tfilter(event => event.data.src === src),\r\n\t\t\tmap(event => {\r\n\t\t\t\tconst url = URL.createObjectURL(event.data.blob);\r\n\t\t\t\treturn url;\r\n\t\t\t}),\r\n\t\t\tfirst(),\r\n\t\t\tfinalize(url => {\r\n\t\t\t\tworker.postMessage({ id });\r\n\t\t\t\tif (url) {\r\n\t\t\t\t\tURL.revokeObjectURL(url);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic isCors(src) {\r\n\t\treturn src.indexOf('//') !== -1 && src.indexOf(window.location.host) === -1;\r\n\t}\r\n\r\n\tstatic isBlob(src) {\r\n\t\treturn src.indexOf('blob:') === 0;\r\n\t}\r\n\r\n}\r\n","import { BehaviorSubject, of , Subject } from 'rxjs';\r\nimport { filter, finalize, first, map } from 'rxjs/operators';\r\n\r\nexport default class IntersectionService {\r\n\r\n\tstatic observer() {\r\n\t\tif (!this.observer_) {\r\n\t\t\tthis.readySubject_ = new BehaviorSubject(false);\r\n\t\t\tthis.observerSubject_ = new Subject();\r\n\t\t\tthis.observer_ = new IntersectionObserver(entries => {\r\n\t\t\t\tthis.observerSubject_.next(entries);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this.observer_;\r\n\t}\r\n\r\n\tstatic intersection$(node) {\r\n\t\tif ('IntersectionObserver' in window) {\r\n\t\t\tconst observer = this.observer();\r\n\t\t\tobserver.observe(node);\r\n\t\t\treturn this.observerSubject_.pipe(\r\n\t\t\t\t// tap(entries => console.log(entries.length)),\r\n\t\t\t\tmap(entries => entries.find(entry => entry.target === node)),\r\n\t\t\t\t// tap(entry => console.log('IntersectionService.intersection$', entry)),\r\n\t\t\t\tfilter(entry => entry !== undefined && entry.isIntersecting), // entry.intersectionRatio > 0\r\n\t\t\t\tfirst(),\r\n\t\t\t\tfinalize(() => observer.unobserve(node)),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn of({ target: node });\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\tfunction observer() {\r\n\t\t\tif ('IntersectionObserver' in window) {\r\n\t\t\t\treturn new IntersectionObserver(entries => {\r\n\t\t\t\t\tentries.forEach(function(entry) {\r\n\t\t\t\t\t\tif (entry.isIntersecting) {\r\n\t\t\t\t\t\t\tentry.target.classList.add('appear');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn { observe: function(node) { node.classList.add('appear')}, unobserve: function() {} };\r\n\t\t\t}\r\n\t\t}\r\n\t\tobserver.observe(node);\r\n\t\tobserver.unobserve(node);\r\n\t\t*/\r\n\r\n\t}\r\n\r\n}\r\n","export default class LazyCache {\r\n\tstatic get cache() {\r\n\t\tif (!this.cache_) {\r\n\t\t\tthis.cache_ = {};\r\n\t\t}\r\n\t\treturn this.cache_;\r\n\t}\r\n\r\n\tstatic get(src) {\r\n\t\treturn this.cache[src];\r\n\t}\r\n\r\n\tstatic set(src, blob) {\r\n\t\tthis.cache[src] = blob;\r\n\t\tconst keys = Object.keys(this.cache);\r\n\t\tif (keys.length > 100) {\r\n\t\t\tthis.remove(keys[0]);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic remove(src) {\r\n\t\tdelete this.cache[src];\r\n\t}\r\n}\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { of , Subject } from 'rxjs';\r\nimport { distinctUntilChanged, first, switchMap, takeUntil } from 'rxjs/operators';\r\nimport ImageService from '../image/image.service';\r\nimport IntersectionService from '../intersection/intersection.service';\r\nimport LazyCache from './lazy.cache';\r\n\r\nexport default class LazyDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('lazy');\r\n\t\tthis.input$ = new Subject().pipe(\r\n\t\t\tdistinctUntilChanged(),\r\n\t\t\tswitchMap(input => {\r\n\t\t\t\tconst src = LazyCache.get(input);\r\n\t\t\t\tif (src) {\r\n\t\t\t\t\treturn of(src);\r\n\t\t\t\t}\r\n\t\t\t\tnode.classList.remove('lazyed');\r\n\t\t\t\treturn this.lazy$(input);\r\n\t\t\t}),\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t);\r\n\t\tthis.input$.subscribe(src => {\r\n\t\t\tLazyCache.set(this.lazy, src);\r\n\t\t\tnode.setAttribute('src', src);\r\n\t\t\tnode.classList.add('lazyed');\r\n\t\t});\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tthis.input$.next(this.lazy);\r\n\t}\r\n\r\n\tlazy$(input) {\r\n\t\tconst { node } = getContext(this);\r\n\t\treturn IntersectionService.intersection$(node).pipe(\r\n\t\t\tfirst(),\r\n\t\t\tswitchMap(() => ImageService.load$(input)),\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nLazyDirective.meta = {\r\n\tselector: '[lazy],[[lazy]]',\r\n\tinputs: ['lazy']\r\n};\r\n","import { from, Subject } from 'rxjs';\r\nimport { map, switchMap, tap } from 'rxjs/operators';\r\n\r\nexport class ModalEvent {\r\n\r\n\tconstructor(data) {\r\n\t\tthis.data = data;\r\n\t}\r\n\r\n}\r\n\r\nexport class ModalResolveEvent extends ModalEvent {}\r\nexport class ModalRejectEvent extends ModalEvent {}\r\n\r\nexport default class ModalService {\r\n\r\n\tstatic open$(modal) {\r\n\t\treturn this.getTemplate$(modal.src).pipe(\r\n\t\t\tmap(template => {\r\n\t\t\t\treturn { node: this.getNode(template), data: modal.data, modal: modal };\r\n\t\t\t}),\r\n\t\t\ttap(node => this.modal$.next(node)),\r\n\t\t\tswitchMap(node => this.events$),\r\n\t\t)\r\n\t}\r\n\r\n\tstatic load$(modal) {\r\n\r\n\t}\r\n\r\n\tstatic getTemplate$(url) {\r\n\t\treturn from(fetch(url).then(response => {\r\n\t\t\treturn response.text();\r\n\t\t}));\r\n\t}\r\n\r\n\tstatic getNode(template) {\r\n\t\tconst div = document.createElement(\"div\");\r\n\t\tdiv.innerHTML = template;\r\n\t\tconst node = div.firstElementChild;\r\n\t\treturn node;\r\n\t}\r\n\r\n\tstatic reject(data) {\r\n\t\tthis.modal$.next(null);\r\n\t\tthis.events$.next(new ModalRejectEvent(data));\r\n\t}\r\n\r\n\tstatic resolve(data) {\r\n\t\tthis.modal$.next(null);\r\n\t\tthis.events$.next(new ModalResolveEvent(data));\r\n\t}\r\n\r\n}\r\n\r\nModalService.modal$ = new Subject();\r\nModalService.events$ = new Subject();\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport ModalService from './modal.service';\r\n\r\nexport default class ModalOutletComponent extends Component {\r\n\r\n\tget modal() {\r\n\t\treturn this.modal_;\r\n\t}\r\n\r\n\tset modal(modal) {\r\n\t\t// console.log('ModalOutletComponent set modal', modal, this);\r\n\t\tconst { module } = getContext(this);\r\n\t\tif (this.modal_ && this.modal_.node) {\r\n\t\t\tmodule.remove(this.modal_.node, this);\r\n\t\t\tthis.modalNode.removeChild(this.modal_.node);\r\n\t\t}\r\n\t\tif (modal && modal.node) {\r\n\t\t\tthis.modal_ = modal;\r\n\t\t\tthis.modalNode.appendChild(modal.node);\r\n\t\t\tconst instances = module.compile(modal.node);\r\n\t\t}\r\n\t\tthis.modal_ = modal;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.modalNode = node.querySelector('.modal-outlet__modal');\r\n\t\tModalService.modal$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(modal => {\r\n\t\t\tthis.modal = modal;\r\n\t\t});\r\n\t}\r\n\r\n\tonRegister(event) {\r\n\t\t// console.log('ModalComponent.onRegister');\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonLogin(event) {\r\n\t\t// console.log('ModalComponent.onLogin');\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\treject(event) {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n}\r\n\r\nModalOutletComponent.meta = {\r\n\tselector: '[modal-outlet]',\r\n\ttemplate: /* html */ `\r\n\t<div class=\"modal-outlet__container\" [class]=\"{ active: modal }\">\r\n\t\t<div class=\"modal-outlet__background\" (click)=\"reject($event)\"></div>\r\n\t\t<div class=\"modal-outlet__modal\"></div>\r\n\t</div>\r\n\t`\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport ModalOutletComponent from '../modal/modal-outlet.component';\r\nimport ModalService from './modal.service';\r\n\r\nexport default class ModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tthis.data = parentInstance.modal.data;\r\n\t\t}\r\n\t}\r\n\r\n\tclose() {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n}\r\n\r\nModalComponent.meta = {\r\n\tselector: '[modal]'\r\n};\r\n","export default class LocalStorageService {\r\n\r\n\tstatic delete(name) {\r\n\t\tif (this.isLocalStorageSupported()) {\r\n\t\t\twindow.localStorage.removeItem(name);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic exist(name) {\r\n\t\tif (this.isLocalStorageSupported()) {\r\n\t\t\treturn window.localStorage[name] !== undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic get(name) {\r\n\t\tlet value = null;\r\n\t\tif (this.isLocalStorageSupported() && window.localStorage[name] !== undefined) {\r\n\t\t\ttry {\r\n\t\t\t\tvalue = JSON.parse(window.localStorage[name]);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log('LocalStorageService.get.error parsing', name, e);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n\tstatic set(name, value) {\r\n\t\tif (this.isLocalStorageSupported()) {\r\n\t\t\ttry {\r\n\t\t\t\tconst cache = [];\r\n\t\t\t\tconst json = JSON.stringify(value, function(key, value) {\r\n\t\t\t\t\tif (typeof value === 'object' && value !== null) {\r\n\t\t\t\t\t\tif (cache.indexOf(value) !== -1) {\r\n\t\t\t\t\t\t\t// Circular reference found, discard key\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcache.push(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t});\r\n\t\t\t\twindow.localStorage.setItem(name, json);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log('LocalStorageService.set.error serializing', name, value, e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic isLocalStorageSupported() {\r\n\t\tif (this.supported) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tlet supported = false;\r\n\t\ttry {\r\n\t\t\tsupported = 'localStorage' in window && window.localStorage !== null;\r\n\t\t\tif (supported) {\r\n\t\t\t\twindow.localStorage.setItem('test', '1');\r\n\t\t\t\twindow.localStorage.removeItem('test');\r\n\t\t\t} else {\r\n\t\t\t\tsupported = false;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tsupported = false;\r\n\t\t}\r\n\t\tthis.supported = supported;\r\n\t\treturn supported;\r\n\t}\r\n\r\n}\r\n","import { BehaviorSubject } from 'rxjs';\r\nimport { map, switchMap } from 'rxjs/operators';\r\nimport { STATIC } from '../environment/environment';\r\nimport HttpService from '../http/http.service';\r\nimport LocalStorageService from '../local-storage/local-storage.service';\r\n\r\nexport default class UserService {\r\n\r\n\tstatic setUser(user) {\r\n\t\tthis.user$.next(user);\r\n\t}\r\n\r\n\tstatic me$() {\r\n\t\treturn HttpService.get$('/api/users/me').pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'me')),\r\n\t\t\tswitchMap(user => {\r\n\t\t\t\tthis.setUser(user);\r\n\t\t\t\treturn this.user$;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic register$(payload) {\r\n\t\treturn HttpService.post$('/api/users/register', payload).pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'register')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic update(payload) {\r\n\t\treturn HttpService.post$('/api/users/updateprofile', payload).pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'register')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic login$(payload) {\r\n\t\treturn HttpService.post$('/api/users/login', payload).pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'login')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic logout$() {\r\n\t\treturn HttpService.post$('/api/users/logout').pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'logout')),\r\n\t\t);\r\n\t}\r\n\tstatic retrieve$(payload) {\r\n\t\treturn HttpService.post$('/api/users/retrievepassword', payload).pipe(\r\n\t\t\tmap((user) => this.mapStatic__(user, 'retrieve')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic mapStatic__(user, action = 'me') {\r\n\t\tif (!STATIC) {\r\n\t\t\treturn user;\r\n\t\t};\r\n\t\tswitch (action) {\r\n\t\t\tcase 'me':\r\n\t\t\t\tif (!LocalStorageService.exist('user')) {\r\n\t\t\t\t\tuser = null;\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'register':\r\n\t\t\t\tLocalStorageService.set('user', user);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'login':\r\n\t\t\t\tLocalStorageService.set('user', user);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'logout':\r\n\t\t\t\tLocalStorageService.delete('user');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn user;\r\n\t}\r\n\r\n}\r\n\r\nUserService.user$ = new BehaviorSubject(null);\r\n","import { Component } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { STATIC } from '../environment/environment';\r\nimport ModalService, { ModalResolveEvent } from '../modal/modal.service';\r\nimport UserService from '../user/user.service';\r\n\r\nconst src = STATIC ? '/tiemme-com/club-modal.html' : '/Viewdoc.cshtml?co_id=23649';\r\n\r\nexport default class RegisterOrLoginComponent extends Component {\r\n\r\n\tonRegister(event) {\r\n\t\t// console.log('RegisterOrLoginComponent.onRegister');\r\n\t\tevent.preventDefault();\r\n\t\tModalService.open$({ src: src, data: { view: 2 } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('RegisterOrLoginComponent.onRegister', event);\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tUserService.setUser(event.data);\r\n\t\t\t}\r\n\t\t});\r\n\t\t// this.pushChanges();\r\n\t}\r\n\r\n\tonLogin(event) {\r\n\t\t// console.log('RegisterOrLoginComponent.onLogin');\r\n\t\tevent.preventDefault();\r\n\t\tModalService.open$({ src: src, data: { view: 1 } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('RegisterOrLoginComponent.onLogin', event);\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tUserService.setUser(event.data);\r\n\t\t\t}\r\n\t\t});\r\n\t\t// this.pushChanges();\r\n\t}\r\n\r\n}\r\n\r\nRegisterOrLoginComponent.meta = {\r\n\tselector: '[register-or-login]',\r\n};\r\n","const calculateDelta = (now, date) => Math.round(Math.abs(now - date) / 1000)\n\nexport default function relativeDateFactory (translations) {\n  return function relativeDate (date, now = new Date()) {\n    if (!(date instanceof Date)) {\n      date = new Date(date)\n    }\n\n    let delta = null\n\n    const minute = 60\n    const hour = minute * 60\n    const day = hour * 24\n    const week = day * 7\n    const month = day * 30\n    const year = day * 365\n\n    delta = calculateDelta(now, date)\n\n    if (delta > day && delta < week) {\n      date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0)\n      delta = calculateDelta(now, date)\n    }\n\n    const translate = (translatePhrase, timeValue) => {\n      let key\n\n      if (translatePhrase === 'justNow') {\n        key = translatePhrase\n      } else if (now >= date) {\n        key = `${translatePhrase}Ago`\n      } else {\n        key = `${translatePhrase}FromNow`\n      }\n\n      const translation = translations[key]\n\n      if (typeof translation === 'function') {\n        return translation(timeValue)\n      }\n\n      return translation.replace('{{time}}', timeValue)\n    }\n\n    switch (false) {\n      case !(delta < 30):\n        return translate('justNow')\n\n      case !(delta < minute):\n        return translate('seconds', delta)\n\n      case !(delta < 2 * minute):\n        return translate('aMinute')\n\n      case !(delta < hour):\n        return translate('minutes', Math.floor(delta / minute))\n\n      case Math.floor(delta / hour) !== 1:\n        return translate('anHour')\n\n      case !(delta < day):\n        return translate('hours', Math.floor(delta / hour))\n\n      case !(delta < day * 2):\n        return translate('aDay')\n\n      case !(delta < week):\n        return translate('days', Math.floor(delta / day))\n\n      case Math.floor(delta / week) !== 1:\n        return translate('aWeek')\n\n      case !(delta < month):\n        return translate('weeks', Math.floor(delta / week))\n\n      case Math.floor(delta / month) !== 1:\n        return translate('aMonth')\n\n      case !(delta < year):\n        return translate('months', Math.floor(delta / month))\n\n      case Math.floor(delta / year) !== 1:\n        return translate('aYear')\n\n      default:\n        return translate('overAYear')\n    }\n  }\n}\n","module.exports = {\n  justNow: \"just now\",\n  secondsAgo: \"{{time}} seconds ago\",\n  aMinuteAgo: \"a minute ago\",\n  minutesAgo: \"{{time}} minutes ago\",\n  anHourAgo: \"an hour ago\",\n  hoursAgo: \"{{time}} hours ago\",\n  aDayAgo: \"yesterday\",\n  daysAgo: \"{{time}} days ago\",\n  aWeekAgo: \"a week ago\",\n  weeksAgo: \"{{time}} weeks ago\",\n  aMonthAgo: \"a month ago\",\n  monthsAgo: \"{{time}} months ago\",\n  aYearAgo: \"a year ago\",\n  yearsAgo: \"{{time}} years ago\",\n  overAYearAgo: \"over a year ago\",\n  secondsFromNow: \"{{time}} seconds from now\",\n  aMinuteFromNow: \"a minute from now\",\n  minutesFromNow: \"{{time}} minutes from now\",\n  anHourFromNow: \"an hour from now\",\n  hoursFromNow: \"{{time}} hours from now\",\n  aDayFromNow: \"tomorrow\",\n  daysFromNow: \"{{time}} days from now\",\n  aWeekFromNow: \"a week from now\",\n  weeksFromNow: \"{{time}} weeks from now\",\n  aMonthFromNow: \"a month from now\",\n  monthsFromNow: \"{{time}} months from now\",\n  aYearFromNow: \"a year from now\",\n  yearsFromNow: \"{{time}} years from now\",\n  overAYearFromNow: \"over a year from now\"\n}\n","import relativeDateFactory from './factory'\nimport enTranslations from '../translations/en'\n\nexport default relativeDateFactory(enTranslations)\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = relativeDateFactory;\nvar calculateDelta = function calculateDelta(now, date) {\n  return Math.round(Math.abs(now - date) / 1000);\n};\n\nfunction relativeDateFactory(translations) {\n  return function relativeDate(date) {\n    var now = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Date();\n\n    if (!(date instanceof Date)) {\n      date = new Date(date);\n    }\n\n    var delta = null;\n\n    var minute = 60;\n    var hour = minute * 60;\n    var day = hour * 24;\n    var week = day * 7;\n    var month = day * 30;\n    var year = day * 365;\n\n    delta = calculateDelta(now, date);\n\n    if (delta > day && delta < week) {\n      date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n      delta = calculateDelta(now, date);\n    }\n\n    var translate = function translate(translatePhrase, timeValue) {\n      var key = void 0;\n\n      if (translatePhrase === 'justNow') {\n        key = translatePhrase;\n      } else if (now >= date) {\n        key = translatePhrase + 'Ago';\n      } else {\n        key = translatePhrase + 'FromNow';\n      }\n\n      var translation = translations[key];\n\n      if (typeof translation === 'function') {\n        return translation(timeValue);\n      }\n\n      return translation.replace('{{time}}', timeValue);\n    };\n\n    switch (false) {\n      case !(delta < 30):\n        return translate('justNow');\n\n      case !(delta < minute):\n        return translate('seconds', delta);\n\n      case !(delta < 2 * minute):\n        return translate('aMinute');\n\n      case !(delta < hour):\n        return translate('minutes', Math.floor(delta / minute));\n\n      case Math.floor(delta / hour) !== 1:\n        return translate('anHour');\n\n      case !(delta < day):\n        return translate('hours', Math.floor(delta / hour));\n\n      case !(delta < day * 2):\n        return translate('aDay');\n\n      case !(delta < week):\n        return translate('days', Math.floor(delta / day));\n\n      case Math.floor(delta / week) !== 1:\n        return translate('aWeek');\n\n      case !(delta < month):\n        return translate('weeks', Math.floor(delta / week));\n\n      case Math.floor(delta / month) !== 1:\n        return translate('aMonth');\n\n      case !(delta < year):\n        return translate('months', Math.floor(delta / month));\n\n      case Math.floor(delta / year) !== 1:\n        return translate('aYear');\n\n      default:\n        return translate('overAYear');\n    }\n  };\n}\nmodule.exports = exports['default'];","import { Pipe } from \"rxcomp\";\nimport relativeDate from 'tiny-relative-date';\nimport relativeDateFactory from 'tiny-relative-date/lib/factory';\n\nexport const RELATIVE_DATE_KEYS = [\"justNow\", \"secondsAgo\", \"aMinuteAgo\", \"minutesAgo\", \"anHourAgo\", \"hoursAgo\", \"aDayAgo\", \"daysAgo\", \"aWeekAgo\", \"weeksAgo\", \"aMonthAgo\", \"monthsAgo\", \"aYearAgo\", \"yearsAgo\", \"overAYearAgo\", \"secondsFromNow\", \"aMinuteFromNow\", \"minutesFromNow\", \"anHourFromNow\", \"hoursFromNow\", \"aDayFromNow\", \"daysFromNow\", \"aWeekFromNow\", \"weeksFromNow\", \"aMonthFromNow\", \"monthsFromNow\", \"aYearFromNow\", \"yearsFromNow\", \"overAYearFromNow\"];\n\nexport default class RelativeDatePipe extends Pipe {\n\n\tstatic transform(value) {\n\t\tif (value) {\n\t\t\treturn this.relativeDate(value);\n\t\t}\n\t}\n\n\tstatic setLocale(locale) {\n\t\tif (!locale) return;\n\t\tconst values = {};\n\t\tconst keys = Object.keys(locale).filter(key => RELATIVE_DATE_KEYS.indexOf(key) !== -1);\n\t\tif (keys.length) {\n\t\t\tkeys.forEach(key => values[key] = locale[key]);\n\t\t\tthis.relativeDate = relativeDateFactory(values);\n\t\t}\n\t}\n\n}\n\nRelativeDatePipe.meta = {\n\tname: 'relativeDate',\n};\n\nRelativeDatePipe.relativeDate = relativeDate;\n\nif (window.locale) {\n\tRelativeDatePipe.setLocale(window.locale);\n}\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { shareReplay, takeUntil, tap } from 'rxjs/operators';\r\n\r\nexport default class ScrollToDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tthis.initialFocus = false;\r\n\t\tconst { module, node } = getContext(this);\r\n\t\tconst expression = this.expression = node.getAttribute(`(scrollTo)`);\r\n\t\tthis.outputFunction = module.makeFunction(expression, ['$event']);\r\n\t\tthis.scrollTo$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(() => {});\r\n\t}\r\n\r\n\tscrollTo$() {\r\n\t\tconst { module, node, parentInstance } = getContext(this);\r\n\t\treturn fromEvent(node, 'click').pipe(\r\n\t\t\ttap(event => {\r\n\t\t\t\tconst result = module.resolve(this.outputFunction, parentInstance, event);\r\n\t\t\t\tif (typeof result === 'string') {\r\n\t\t\t\t\tconst target = document.querySelector(result);\r\n\t\t\t\t\tif (target) {\r\n\t\t\t\t\t\tconst from = this.currentTop();\r\n\t\t\t\t\t\tconst to = from + target.getBoundingClientRect().top - 50;\r\n\t\t\t\t\t\tconst o = { pow: 0 };\r\n\t\t\t\t\t\tconst html = document.querySelector('html');\r\n\t\t\t\t\t\tgsap.set(html, {\r\n\t\t\t\t\t\t\t'scroll-behavior': 'auto'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tgsap.to(o, Math.abs((to - from)) / 2000, {\r\n\t\t\t\t\t\t\tpow: 1,\r\n\t\t\t\t\t\t\tease: Quad.easeOut,\r\n\t\t\t\t\t\t\toverwrite: 'all',\r\n\t\t\t\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\t\t\t\twindow.scrollTo(0, from + (to - from) * o.pow);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tonComplete: () => {\r\n\t\t\t\t\t\t\t\tgsap.set(html, {\r\n\t\t\t\t\t\t\t\t\t'scroll-behavior': 'smooth'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tshareReplay(1)\r\n\t\t);\r\n\t}\r\n\r\n\tcurrentTop() {\r\n\t\t// Firefox, Chrome, Opera, Safari\r\n\t\tif (self.pageYOffset) return self.pageYOffset;\r\n\t\t// Internet Explorer 6 - standards mode\r\n\t\tif (document.documentElement && document.documentElement.scrollTop)\r\n\t\t\treturn document.documentElement.scrollTop;\r\n\t\t// Internet Explorer 6, 7 and 8\r\n\t\tif (document.body.scrollTop) return document.body.scrollTop;\r\n\t\treturn 0;\r\n\t}\r\n\r\n}\r\n\r\nScrollToDirective.meta = {\r\n\tselector: `[(scrollTo)]`\r\n};\r\n","export default class DownloadService {\r\n\r\n\tstatic get a() {\r\n\t\tlet a = this.a_;\r\n\t\tif (!a) {\r\n\t\t\ta = document.createElement(\"a\");\r\n\t\t\ta.style = \"display: none\";\r\n\t\t\tdocument.body.appendChild(a);\r\n\t\t\tthis.a_ = a;\r\n\t\t}\r\n\t\treturn a;\r\n\t}\r\n\r\n\tstatic download(blob, fileName = 'download.txt') {\r\n\t\t// var json = JSON.stringify(data),\r\n\t\t// blob = new Blob([json], {type: \"octet/stream\"}),\r\n\t\tconst url = window.URL.createObjectURL(blob);\r\n\t\tconst a = this.a;\r\n\t\ta.href = url;\r\n\t\ta.download = fileName;\r\n\t\ta.click();\r\n\t\twindow.URL.revokeObjectURL(url);\r\n\t}\r\n\r\n}\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { first, takeUntil } from 'rxjs/operators';\r\nimport DownloadService from '../download/download.service';\r\nimport { STATIC } from '../environment/environment';\r\nimport HttpService from '../http/http.service';\r\nimport ModalService, { ModalResolveEvent } from '../modal/modal.service';\r\nimport UserService from '../user/user.service';\r\n\r\nconst src = STATIC ? '/tiemme-com/club-modal.html' : '/Viewdoc.cshtml?co_id=23649';\r\n\r\nexport default class SecureDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.href = node.getAttribute('href');\r\n\t\tfromEvent(node, 'click').pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tthis.tryDownloadHref();\r\n\t\t});\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.href = node.getAttribute('href');\r\n\t}\r\n\r\n\ttryDownloadHref() {\r\n\t\tHttpService.get$(this.href, undefined, 'blob').pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(blob => {\r\n\t\t\tDownloadService.download(blob, this.href.split('/').pop());\r\n\t\t}, error => {\r\n\t\t\tconsole.log(error);\r\n\t\t\tthis.onLogin(event);\r\n\t\t});\r\n\t}\r\n\r\n\tonLogin(event) {\r\n\t\t// console.log('SecureDirective.onLogin');\r\n\t\t// event.preventDefault();\r\n\t\tModalService.open$({ src: src, data: { view: 1 } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('SecureDirective.onLogin', event);\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tUserService.setUser(event.data);\r\n\t\t\t\tthis.tryDownloadHref();\r\n\t\t\t}\r\n\t\t});\r\n\t\t// this.pushChanges();\r\n\t}\r\n\r\n\t/*\r\n\tonRegister(event) {\r\n\t\t// console.log('SecureDirective.onRegister');\r\n\t\t// event.preventDefault();\r\n\t\tModalService.open$({ src: src, data: { view: 2 } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('SecureDirective.onRegister', event);\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tUserService.setUser(event.data);\r\n\t\t\t}\r\n\t\t});\r\n\t\t// this.pushChanges();\r\n\t}\r\n\t*/\r\n\r\n}\r\n\r\nSecureDirective.meta = {\r\n\tselector: '[secure]',\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { Subject } from 'rxjs';\r\nimport Swiper from 'swiper';\r\n\r\nexport default class SwiperDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.setAttribute('id', `swiper-${this.rxcompId}`);\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 'auto',\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tcenteredSlides: true,\r\n\t\t\tspeed: 600,\r\n\t\t\tautoplay: {\r\n\t\t\t\tdelay: 5000,\r\n\t\t\t},\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tpagination: {\r\n\t\t\t\tel: `#swiper-${this.rxcompId} .swiper-pagination`,\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t\tnavigation: {\r\n\t\t\t\tnextEl: `#swiper-${this.rxcompId} .swiper-button-next`,\r\n\t\t\t\tprevEl: `#swiper-${this.rxcompId} .swiper-button-prev`,\r\n\t\t\t},\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t}\r\n\r\n\tget enabled() {\r\n\t\treturn !window.matchMedia('print').matches;\r\n\t}\r\n\r\n\tonView() {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.swiperInitOrUpdate_();\r\n\t\t}, 1);\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.removeListeners_();\r\n\t\tthis.swiperDestroy_();\r\n\t}\r\n\r\n\tonBeforePrint() {\r\n\t\tthis.swiperDestroy_();\r\n\t}\r\n\r\n\tslideToIndex(index) {\r\n\t\t// console.log('SwiperDirective.slideToIndex', index);\r\n\t\tif (this.swiper) {\r\n\t\t\tthis.swiper.slideTo(index);\r\n\t\t}\r\n\t}\r\n\r\n\tinit_() {\r\n\t\tthis.events$ = new Subject();\r\n\t\tif (this.enabled) {\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tgsap.set(node, { opacity: 0 });\r\n\t\t\tthis.index = 0;\r\n\t\t\tconst on = this.options.on || {};\r\n\t\t\tconst self = this;\r\n\t\t\ton.slideChange = function() {\r\n\t\t\t\tconst swiper = this;\r\n\t\t\t\tself.index = swiper.activeIndex;\r\n\t\t\t\tself.events$.next(self.index);\r\n\t\t\t\tself.pushChanges();\r\n\t\t\t};\r\n\t\t\tthis.options.on = on;\r\n\t\t\tthis.addListeners_();\r\n\t\t}\r\n\t}\r\n\r\n\taddListeners_() {\r\n\t\tthis.onBeforePrint = this.onBeforePrint.bind(this);\r\n\t\twindow.addEventListener('beforeprint', this.onBeforePrint);\r\n\t\t/*\r\n\t\tscope.$on('onResize', ($scope) => {\r\n\t\t\tthis.onResize(scope, element, attributes);\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\tremoveListeners_() {\r\n\t\twindow.removeEventListener('beforeprint', this.onBeforePrint);\r\n\t}\r\n\r\n\tswiperInitOrUpdate_() {\r\n\t\tif (this.enabled) {\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tif (this.swiper) {\r\n\t\t\t\tthis.swiper.update();\r\n\t\t\t} else {\r\n\t\t\t\tlet swiper;\r\n\t\t\t\tconst on = this.options.on || (this.options.on = {});\r\n\t\t\t\tconst callback = on.init;\r\n\t\t\t\tif (!on.init || !on.init.swiperDirectiveInit) {\r\n\t\t\t\t\ton.init = function() {\r\n\t\t\t\t\t\tgsap.to(node, 0.4, {\r\n\t\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\t\tease: Power2.easeOut,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\t\t\t\tcallback.apply(this, [swiper, element, scope]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 1);\r\n\t\t\t\t\t};\r\n\t\t\t\t\ton.init.swiperDirectiveInit = true;\r\n\t\t\t\t}\r\n\t\t\t\tgsap.set(node, { opacity: 1 });\r\n\t\t\t\tswiper = new Swiper(node, this.options);\r\n\t\t\t\tthis.swiper = swiper;\r\n\t\t\t\tthis.swiper._opening = true;\r\n\t\t\t\tnode.classList.add('swiper-init');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tswiperDestroy_() {\r\n\t\tif (this.swiper) {\r\n\t\t\tthis.swiper.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\topenMore(event) {\r\n\t\tthis.more.next(event);\r\n\t}\r\n}\r\n\r\nSwiperDirective.meta = {\r\n\tselector: '[swiper]',\r\n\tinputs: ['consumer'],\r\n\toutputs: ['more']\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport SwiperDirective from './swiper.directive';\r\n\r\nexport default class SwiperEventsDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.setAttribute('id', `swiper-${this.rxcompId}`);\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 2,\r\n\t\t\tspaceBetween: 25,\r\n\t\t\tcenteredSlides: false,\r\n\t\t\t// loop: true,\r\n\t\t\tloopAdditionalSlides: 100,\r\n\t\t\tspeed: 600,\r\n\t\t\t/*\r\n\t\t\tautoplay: {\r\n\t\t\t\tdelay: 5000,\r\n\t\t\t},\r\n\t\t\t*/\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tpagination: {\r\n\t\t\t\tel: `#swiper-${this.rxcompId} .swiper-pagination`,\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t\tnavigation: {\r\n\t\t\t\tnextEl: `#swiper-${this.rxcompId} .swiper-button-next`,\r\n\t\t\t\tprevEl: `#swiper-${this.rxcompId} .swiper-button-prev`,\r\n\t\t\t},\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t\t// console.log('SwiperEventsDirective.onInit');\r\n\t}\r\n\r\n}\r\n\r\nSwiperEventsDirective.meta = {\r\n\tselector: '[swiper-events]'\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport SwiperDirective from './swiper.directive';\r\n\r\nexport default class SwiperSlidesDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.setAttribute('id', `swiper-${this.rxcompId}`);\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 3,\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tcenteredSlides: true,\r\n\t\t\tloop: false,\r\n\t\t\tloopAdditionalSlides: 100,\r\n\t\t\tspeed: 600,\r\n\t\t\t/*\r\n\t\t\tautoplay: {\r\n\t\t\t\tdelay: 5000,\r\n\t\t\t},\r\n\t\t\t*/\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tpagination: {\r\n\t\t\t\tel: `#swiper-${this.rxcompId} .swiper-pagination`,\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t\tnavigation: {\r\n\t\t\t\tnextEl: `#swiper-${this.rxcompId} .swiper-button-next`,\r\n\t\t\t\tprevEl: `#swiper-${this.rxcompId} .swiper-button-prev`,\r\n\t\t\t},\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t}\r\n\r\n}\r\n\r\nSwiperSlidesDirective.meta = {\r\n\tselector: '[swiper-slides]'\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport SwiperDirective from './swiper.directive';\r\n\r\nexport default class SwiperTopEventsDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.setAttribute('id', `swiper-${this.rxcompId}`);\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 2,\r\n\t\t\tbreakpoints: {\r\n\t\t\t\t768: {\r\n\t\t\t\t\tslidesPerView: 2,\r\n\t\t\t\t\tspaceBetween: 2,\r\n\t\t\t\t},\r\n\t\t\t\t1024: {\r\n\t\t\t\t\tslidesPerView: 3,\r\n\t\t\t\t\tspaceBetween: 2,\r\n\t\t\t\t},\r\n\t\t\t\t1440: {\r\n\t\t\t\t\tslidesPerView: 4,\r\n\t\t\t\t\tspaceBetween: 2,\r\n\t\t\t\t},\r\n\t\t\t\t1920: {\r\n\t\t\t\t\tslidesPerView: 4,\r\n\t\t\t\t\tspaceBetween: 2,\r\n\t\t\t\t},\r\n\t\t\t\t2440: {\r\n\t\t\t\t\tslidesPerView: 5,\r\n\t\t\t\t\tspaceBetween: 2,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tcenteredSlides: false,\r\n\t\t\t// loop: true,\r\n\t\t\tloopAdditionalSlides: 100,\r\n\t\t\tspeed: 600,\r\n\t\t\t/*\r\n\t\t\tautoplay: {\r\n\t\t\t\tdelay: 5000,\r\n\t\t\t},\r\n\t\t\t*/\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tpagination: {\r\n\t\t\t\tel: `#swiper-${this.rxcompId} .swiper-pagination`,\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t\tnavigation: {\r\n\t\t\t\tnextEl: `#swiper-${this.rxcompId} .swiper-button-next`,\r\n\t\t\t\tprevEl: `#swiper-${this.rxcompId} .swiper-button-prev`,\r\n\t\t\t},\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t\t// console.log('SwiperTopEventsDirective.onInit');\r\n\t}\r\n\r\n}\r\n\r\nSwiperTopEventsDirective.meta = {\r\n\tselector: '[swiper-top-events]'\r\n};\r\n","function push_(event) {\r\n\tconst dataLayer = window.dataLayer || [];\r\n\tdataLayer.push(event);\r\n\tconsole.log('GtmService.dataLayer', event);\r\n}\r\n\r\nexport default class GtmService {\r\n\r\n\tstatic push(event) {\r\n\t\treturn push_(event);\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport GtmService from '../gtm/gtm.service';\r\nimport SwiperDirective from '../swiper/swiper.directive';\r\n\r\nexport default class VideoComponent extends Component {\r\n\r\n\tget playing() {\r\n\t\treturn this.playing_;\r\n\t}\r\n\r\n\tset playing(playing) {\r\n\t\tif (this.playing_ !== playing) {\r\n\t\t\tthis.playing_ = playing;\r\n\t\t\tthis.pushChanges();\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.item = {};\r\n\t\tconst { node, parentInstance } = getContext(this);\r\n\t\tnode.classList.add('video');\r\n\t\tthis.video = node.querySelector('video');\r\n\t\tthis.progress = node.querySelector('.icon--play-progress path');\r\n\t\tif (parentInstance instanceof SwiperDirective) {\r\n\t\t\tparentInstance.events$.pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t\t).subscribe(event => this.pause());\r\n\t\t}\r\n\t\tthis.addListeners();\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.removeListeners();\r\n\t}\r\n\r\n\taddListeners() {\r\n\t\tconst video = this.video;\r\n\t\tif (video) {\r\n\t\t\tthis.onPlay = this.onPlay.bind(this);\r\n\t\t\tthis.onPause = this.onPause.bind(this);\r\n\t\t\tthis.onEnded = this.onEnded.bind(this);\r\n\t\t\tthis.onTimeUpdate = this.onTimeUpdate.bind(this);\r\n\t\t\tvideo.addEventListener('play', this.onPlay);\r\n\t\t\tvideo.addEventListener('pause', this.onPause);\r\n\t\t\tvideo.addEventListener('ended', this.onEnded);\r\n\t\t\tvideo.addEventListener('timeupdate', this.onTimeUpdate);\r\n\t\t}\r\n\t}\r\n\r\n\tremoveListeners() {\r\n\t\tconst video = this.video;\r\n\t\tif (video) {\r\n\t\t\tvideo.removeEventListener('play', this.onPlay);\r\n\t\t\tvideo.removeEventListener('pause', this.onPause);\r\n\t\t\tvideo.removeEventListener('ended', this.onEnded);\r\n\t\t\tvideo.removeEventListener('timeupdate', this.onTimeUpdate);\r\n\t\t}\r\n\t}\r\n\r\n\ttogglePlay() {\r\n\t\t// console.log('VideoComponent.togglePlay')\r\n\t\tconst video = this.video;\r\n\t\tif (video) {\r\n\t\t\tif (video.paused) {\r\n\t\t\t\tthis.play();\r\n\t\t\t} else {\r\n\t\t\t\tthis.pause();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tplay() {\r\n\t\tconst video = this.video;\r\n\t\tvideo.muted = false;\r\n\t\tvideo.play();\r\n\t}\r\n\r\n\tpause() {\r\n\t\tconst video = this.video;\r\n\t\tvideo.muted = true;\r\n\t\tvideo.pause();\r\n\t}\r\n\r\n\tonPlay() {\r\n\t\tthis.playing = true;\r\n\t\tGtmService.push({\r\n\t\t\tevent: 'video play',\r\n\t\t\tvideo_name: this.video.src\r\n\t\t});\r\n\t}\r\n\r\n\tonPause() {\r\n\t\tthis.playing = false;\r\n\t}\r\n\r\n\tonEnded() {\r\n\t\tthis.playing = false;\r\n\t}\r\n\r\n\tonTimeUpdate() {\r\n\t\tthis.progress.style.strokeDashoffset = this.video.currentTime / this.video.duration;\r\n\t}\r\n\r\n}\r\n\r\nVideoComponent.meta = {\r\n\tselector: '[video]',\r\n\tinputs: ['item'],\r\n};\r\n","import { Context } from 'rxcomp';\n\nexport default class VirtualItem extends Context {\n\tconstructor(key, $key, value, $value, index, count, parentInstance) {\n\t\tsuper(parentInstance);\n\t\tthis[key] = $key;\n\t\tthis[value] = $value;\n\t\tthis.index = index;\n\t\tthis.count = count;\n\t}\n\n\tget first() {\n\t\treturn this.index === 0;\n\t}\n\n\tget last() {\n\t\treturn this.index === this.count - 1;\n\t}\n\n\tget even() {\n\t\treturn this.index % 2 === 0;\n\t}\n\n\tget odd() {\n\t\treturn !this.even;\n\t}\n}\n","import { getContext, Structure } from 'rxcomp';\nimport { BehaviorSubject, fromEvent, merge } from 'rxjs';\nimport { debounceTime, map, startWith, takeUntil, tap } from 'rxjs/operators';\nimport VirtualItem from './virtual.item';\n\nexport const VirtualMode = {\n\tResponsive: 1,\n\tGrid: 2,\n\tCentered: 3,\n\tList: 4\n};\n\nexport default class VirtualStructure extends Structure {\n\n\tonInit() {\n\t\tconst { module, node } = getContext(this);\n\t\tconst template = node.firstElementChild;\n\t\tconst expression = node.getAttribute('*virtual');\n\t\tnode.removeAttribute('*virtual');\n\t\tnode.removeChild(template);\n\t\tconst tokens = (this.tokens = this.getExpressionTokens(expression));\n\t\tthis.virtualFunction = module.makeFunction(tokens.iterable);\n\t\tthis.container = node;\n\t\tthis.template = template;\n\t\tthis.mode = this.mode || 1;\n\t\tthis.width = this.width || 250;\n\t\tthis.gutter = (this.gutter !== undefined) ? this.gutter : 20;\n\t\tthis.options = {\n\t\t\ttop: 0,\n\t\t\twidth: this.width,\n\t\t\tgutter: this.gutter,\n\t\t\tcontainerWidth: 0,\n\t\t\tcontainerHeight: 0,\n\t\t\tcols: [0],\n\t\t\tstrategy: 1\n\t\t};\n\t\tthis.cachedRects = {};\n\t\tthis.cachedInstances = [];\n\t\tthis.cacheNodes = [];\n\t\tthis.items$ = new BehaviorSubject([]);\n\t\tthis.update$()\n\t\t\t.pipe(takeUntil(this.unsubscribe$))\n\t\t\t.subscribe(visibleItems => {\n\t\t\t\t// console.log(visibleItems.length);\n\t\t\t});\n\t}\n\n\tonChanges(changes) {\n\t\tconst context = getContext(this);\n\t\tconst module = context.module;\n\t\t// resolve\n\t\tconst items = module.resolve(this.virtualFunction, changes, this) || [];\n\t\tthis.mode = this.mode || 1;\n\t\tthis.width = this.width || 250;\n\t\tthis.gutter = (this.gutter !== undefined) ? this.gutter : 20;\n\t\tthis.options.width = this.width;\n\t\tthis.updateView(true);\n\t\tthis.items$.next(items);\n\t}\n\n\tupdate$() {\n\t\treturn merge(this.scroll$(), this.resize$(), this.items$).pipe(\n\t\t\tmap(datas => {\n\t\t\t\tconst options = this.options;\n\t\t\t\tconst items = this.items$.getValue();\n\t\t\t\tconst total = items.length;\n\t\t\t\tthis.container.position = 'relative';\n\t\t\t\tlet highestHeight = 0;\n\t\t\t\tconst width = this.getWidth();\n\t\t\t\tconst gutter = this.getGutter(width);\n\t\t\t\tconst visibleItems = items.filter((item, i) => {\n\t\t\t\t\tlet col, height, top, left, bottom;\n\t\t\t\t\tlet rect = this.cachedRects[i];\n\t\t\t\t\tif (rect) {\n\t\t\t\t\t\tcol = rect.col;\n\t\t\t\t\t\theight = rect.height;\n\t\t\t\t\t\tleft = rect.left;\n\t\t\t\t\t\t// top = rect.top;\n\t\t\t\t\t\t// bottom = rect.bottom;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcol = this.getCol();\n\t\t\t\t\t\theight = this.getHeight(width, item);\n\t\t\t\t\t}\n\t\t\t\t\ttop = options.cols[col];\n\t\t\t\t\tif (this.intersect(top + options.top, top + height + options.top, 0, options.containerHeight)) {\n\t\t\t\t\t\tif (!rect) {\n\t\t\t\t\t\t\tleft = this.getLeft(col, width, gutter);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst node = this.cachedNode(i, i, item, total);\n\t\t\t\t\t\tnode.style.position = 'absolute';\n\t\t\t\t\t\tnode.style.top = top + 'px';\n\t\t\t\t\t\tnode.style.left = left + 'px';\n\t\t\t\t\t\tnode.style.width = width + 'px';\n\t\t\t\t\t\tif (height !== node.offsetHeight) {\n\t\t\t\t\t\t\theight = node.offsetHeight;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbottom = top + height + options.gutter;\n\t\t\t\t\t\thighestHeight = Math.max(highestHeight, bottom);\n\t\t\t\t\t\toptions.cols[col] = bottom;\n\t\t\t\t\t\tif (!rect) {\n\t\t\t\t\t\t\tthis.cachedRects[i] = { col, width, height, left, top, bottom };\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trect.height = height;\n\t\t\t\t\t\t\trect.bottom = bottom;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.removeNode(i);\n\t\t\t\t\t\tbottom = top + height + options.gutter;\n\t\t\t\t\t\toptions.cols[col] = bottom;\n\t\t\t\t\t\thighestHeight = Math.max(highestHeight, bottom);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet removeIndex = items.length;\n\t\t\t\twhile (removeIndex < this.cacheNodes.length) {\n\t\t\t\t\tthis.removeNode(removeIndex);\n\t\t\t\t\tremoveIndex++;\n\t\t\t\t}\n\t\t\t\tthis.cacheNodes.length = items.length;\n\t\t\t\tthis.container.style.height = `${highestHeight}px`;\n\t\t\t\treturn visibleItems;\n\t\t\t})\n\t\t);\n\t}\n\n\tgetCols() {\n\t\tconst options = this.options;\n\t\tconst cols = Math.floor((options.containerWidth + options.gutter) / (options.width + options.gutter)) || 1;\n\t\treturn new Array(cols).fill(0);\n\t}\n\n\tgetCol() {\n\t\tconst options = this.options;\n\t\tlet col;\n\t\tswitch (this.mode) {\n\t\t\tcase VirtualMode.Grid:\n\t\t\tcase VirtualMode.Centered:\n\t\t\tcase VirtualMode.Responsive:\n\t\t\t\tcol = options.cols.reduce((p, c, i, a) => {\n\t\t\t\t\treturn c < a[p] ? i : p;\n\t\t\t\t}, 0);\n\t\t\t\tbreak;\n\t\t\tcase VirtualMode.List:\n\t\t\tdefault:\n\t\t\t\tcol = 0;\n\t\t}\n\t\treturn col;\n\t}\n\n\tgetWidth() {\n\t\tconst options = this.options;\n\t\tlet width;\n\t\tswitch (this.mode) {\n\t\t\tcase VirtualMode.Grid:\n\t\t\tcase VirtualMode.Centered:\n\t\t\t\twidth = options.width;\n\t\t\t\tbreak;\n\t\t\tcase VirtualMode.Responsive:\n\t\t\t\twidth = (options.containerWidth - (options.cols.length - 1) * options.gutter) / options.cols.length;\n\t\t\t\tbreak;\n\t\t\tcase VirtualMode.List:\n\t\t\tdefault:\n\t\t\t\twidth = options.containerWidth;\n\t\t}\n\t\treturn width;\n\t}\n\n\tgetHeight(width, item) {\n\t\tconst options = this.options;\n\t\tlet height;\n\t\tswitch (this.mode) {\n\t\t\tcase VirtualMode.Grid:\n\t\t\tcase VirtualMode.Centered:\n\t\t\tcase VirtualMode.Responsive:\n\t\t\t\theight = options.width;\n\t\t\t\tbreak;\n\t\t\tcase VirtualMode.List:\n\t\t\tdefault:\n\t\t\t\theight = 80;\n\t\t}\n\t\treturn height;\n\t}\n\n\tgetGutter(width) {\n\t\tconst options = this.options;\n\t\tlet gutter;\n\t\tswitch (this.mode) {\n\t\t\tcase VirtualMode.Grid:\n\t\t\tcase VirtualMode.Centered:\n\t\t\t\tgutter = options.gutter;\n\t\t\t\tbreak;\n\t\t\tcase VirtualMode.Responsive:\n\t\t\t\tgutter = (options.containerWidth - options.cols.length * width) / (options.cols.length - 1);\n\t\t\t\tbreak;\n\t\t\tcase VirtualMode.List:\n\t\t\tdefault:\n\t\t\t\tgutter = 0;\n\t\t}\n\t\treturn gutter;\n\t}\n\n\tgetLeft(index, width, gutter) {\n\t\tconst options = this.options;\n\t\tlet left;\n\t\tswitch (this.mode) {\n\t\t\tcase VirtualMode.Grid:\n\t\t\tcase VirtualMode.Responsive:\n\t\t\t\tleft = index * (width + gutter);\n\t\t\t\tbreak;\n\t\t\tcase VirtualMode.Centered:\n\t\t\t\tleft = (options.containerWidth - options.cols.length * (width + gutter) + gutter) / 2 + index * (width + gutter);\n\t\t\t\tbreak;\n\t\t\tcase VirtualMode.List:\n\t\t\tdefault:\n\t\t\t\tleft = 0;\n\t\t}\n\t\treturn left;\n\t}\n\n\tcachedNode(index, i, value, total) {\n\t\tif (this.cacheNodes[index]) {\n\t\t\treturn this.updateNode(index, i, value);\n\t\t} else {\n\t\t\treturn this.createNode(index, i, value, total);\n\t\t}\n\t}\n\n\tcreateNode(index, i, value, total) {\n\t\tconst clonedNode = this.template.cloneNode(true);\n\t\tdelete clonedNode.rxcompId;\n\t\tthis.container.appendChild(clonedNode);\n\t\tthis.cacheNodes[index] = clonedNode;\n\t\tconst context = getContext(this);\n\t\tconst module = context.module;\n\t\tconst tokens = this.tokens;\n\t\tconst args = [tokens.key, i, tokens.value, value, i, total, context.parentInstance];\n\t\tconst instance = module.makeInstance(clonedNode, VirtualItem, context.selector, context.parentInstance, args);\n\t\tconst forItemContext = getContext(instance);\n\t\tmodule.compile(clonedNode, forItemContext.instance);\n\t\tthis.cachedInstances[index] = instance;\n\t\treturn clonedNode;\n\t}\n\n\tupdateNode(index, i, value) {\n\t\tconst instance = this.cachedInstances[index];\n\t\tconst tokens = this.tokens;\n\t\tif (instance[tokens.key] !== i) {\n\t\t\tinstance[tokens.key] = i;\n\t\t\tinstance[tokens.value] = value;\n\t\t\tinstance.pushChanges();\n\t\t}\n\t\t// console.log(index, i, value);\n\t\treturn this.cacheNodes[index];\n\t}\n\n\tremoveNode(index) {\n\t\tthis.cachedInstances[index] = undefined;\n\t\tconst node = this.cacheNodes[index];\n\t\tif (node) {\n\t\t\tconst context = getContext(this);\n\t\t\tconst module = context.module;\n\t\t\tnode.parentNode.removeChild(node);\n\t\t\tmodule.remove(node);\n\t\t}\n\t\tthis.cacheNodes[index] = undefined;\n\t\treturn node;\n\t}\n\n\tintersect(top1, bottom1, top2, bottom2) {\n\t\treturn top2 < bottom1 && bottom2 > top1;\n\t}\n\n\tresize$() {\n\t\treturn fromEvent(window, 'resize').pipe(\n\t\t\tdebounceTime(500),\n\t\t\tstartWith(null),\n\t\t\ttap(() => this.updateView(true))\n\t\t);\n\t}\n\n\tscroll$(node) {\n\t\treturn fromEvent(window, 'scroll').pipe(tap(() => this.updateView()));\n\t}\n\n\tupdateView(reset) {\n\t\tconst rect = this.container.getBoundingClientRect();\n\t\tconst options = this.options;\n\t\toptions.top = rect.top;\n\t\toptions.containerWidth = rect.width;\n\t\toptions.containerHeight = window.innerHeight;\n\t\toptions.cols = this.getCols();\n\t\tif (reset) {\n\t\t\tthis.cachedRects = {};\n\t\t}\n\t}\n\n\tgetExpressionTokens(expression) {\n\t\tif (expression === null) {\n\t\t\tthrow new Error('invalid virtual');\n\t\t}\n\t\tif (expression.trim().indexOf('let ') === -1 || expression.trim().indexOf(' of ') === -1) {\n\t\t\tthrow new Error('invalid virtual');\n\t\t}\n\t\tconst expressions = expression\n\t\t\t.split(';')\n\t\t\t.map(x => x.trim())\n\t\t\t.filter(x => x !== '');\n\t\tconst virtualExpressions = expressions[0].split(' of ').map(x => x.trim());\n\t\tlet value = virtualExpressions[0].replace(/\\s*let\\s*/, '');\n\t\tconst iterable = virtualExpressions[1];\n\t\tlet key = 'index';\n\t\tconst keyValueMatches = value.match(/\\[(.+)\\s*,\\s*(.+)\\]/);\n\t\tif (keyValueMatches) {\n\t\t\tkey = keyValueMatches[1];\n\t\t\tvalue = keyValueMatches[2];\n\t\t}\n\t\tif (expressions.length > 1) {\n\t\t\tconst indexExpressions = expressions[1].split(/\\s*let\\s*|\\s*=\\s*index/).map(x => x.trim());\n\t\t\tif (indexExpressions.length === 3) {\n\t\t\t\tkey = indexExpressions[1];\n\t\t\t}\n\t\t}\n\t\treturn { key, value, iterable };\n\t}\n}\n\nVirtualStructure.meta = {\n\tselector: '[*virtual]',\n\tinputs: ['mode', 'width', 'gutter']\n};\n","import { Component, getContext } from 'rxcomp';\r\nimport { BehaviorSubject, interval, Subject } from 'rxjs';\r\nimport { distinctUntilChanged, filter, map, switchMap, takeUntil, tap } from 'rxjs/operators';\r\nimport SwiperDirective from '../swiper/swiper.directive';\r\n\r\nexport default class YoutubeComponent extends Component {\r\n\r\n\tget playing() {\r\n\t\treturn this.playing_;\r\n\t}\r\n\r\n\tset playing(playing) {\r\n\t\tif (this.playing_ !== playing) {\r\n\t\t\tthis.playing_ = playing;\r\n\t\t\tthis.pushChanges();\r\n\t\t}\r\n\t}\r\n\r\n\tget cover() {\r\n\t\treturn this.youtubeId ? `//i.ytimg.com/vi/${this.youtubeId}/maxresdefault.jpg` : '';\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.item = {};\r\n\t\tconst { node, parentInstance } = getContext(this);\r\n\t\tnode.classList.add('youtube');\r\n\t\tif (YoutubeComponent.MOBILE) {\r\n\t\t\tnode.classList.add('mobile');\r\n\t\t}\r\n\t\tthis.progress = node.querySelector('.icon--play-progress path');\r\n\t\tthis.onPlayerReady = this.onPlayerReady.bind(this);\r\n\t\tthis.onPlayerStateChange = this.onPlayerStateChange.bind(this);\r\n\t\tthis.onPlayerError = this.onPlayerError.bind(this);\r\n\t\tthis.id$ = new Subject().pipe(distinctUntilChanged());\r\n\t\tif (parentInstance instanceof SwiperDirective) {\r\n\t\t\tparentInstance.events$.pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t\t).subscribe(event => this.pause());\r\n\t\t}\r\n\t\t// this.addListeners();\r\n\t}\r\n\r\n\tonChanges(changes) {\r\n\t\tconst id = this.youtubeId;\r\n\t\t// console.log('YoutubeComponent.onChanges', id);\r\n\t\tthis.id$.next(id);\r\n\t}\r\n\r\n\tinitPlayer() {\r\n\t\t// console.log('VideoComponent.initPlayer');\r\n\t\tthis.player$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(player => {\r\n\t\t\tconsole.log('YoutubeComponent.player$', player);\r\n\t\t});\r\n\t\tthis.interval$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(() => {});\r\n\t\tthis.id$.next(this.youtubeId);\r\n\t}\r\n\r\n\tplayer$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst video = node.querySelector('.video');\r\n\t\treturn this.id$.pipe(\r\n\t\t\tswitchMap(id => {\r\n\t\t\t\t// console.log('YoutubeComponent.videoId', id);\r\n\t\t\t\treturn YoutubeComponent.once$().pipe(\r\n\t\t\t\t\tmap(youtube => {\r\n\t\t\t\t\t\t// console.log('YoutubeComponent.once$', youtube);\r\n\t\t\t\t\t\tthis.destroyPlayer();\r\n\t\t\t\t\t\tthis.player = new youtube.Player(video, {\r\n\t\t\t\t\t\t\twidth: node.offsetWidth,\r\n\t\t\t\t\t\t\theight: node.offsetHeight,\r\n\t\t\t\t\t\t\tvideoId: id,\r\n\t\t\t\t\t\t\tplayerVars: {\r\n\t\t\t\t\t\t\t\tautoplay: 1,\r\n\t\t\t\t\t\t\t\tcontrols: 1, // YoutubeComponent.MOBILE ? 1 : 0,\r\n\t\t\t\t\t\t\t\tdisablekb: 1,\r\n\t\t\t\t\t\t\t\tenablejsapi: 1,\r\n\t\t\t\t\t\t\t\tfs: 0,\r\n\t\t\t\t\t\t\t\tloop: 1,\r\n\t\t\t\t\t\t\t\tmodestbranding: 1,\r\n\t\t\t\t\t\t\t\tplaysinline: 1,\r\n\t\t\t\t\t\t\t\trel: 0,\r\n\t\t\t\t\t\t\t\tshowinfo: 0,\r\n\t\t\t\t\t\t\t\tiv_load_policy: 3,\r\n\t\t\t\t\t\t\t\tlistType: 'user_uploads',\r\n\t\t\t\t\t\t\t\t// origin: 'https://log6i.csb.app/'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tevents: {\r\n\t\t\t\t\t\t\t\tonReady: this.onPlayerReady,\r\n\t\t\t\t\t\t\t\tonStateChange: this.onPlayerStateChange,\r\n\t\t\t\t\t\t\t\tonPlayerError: this.onPlayerError\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn this.player;\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tonPlayerReady(event) {\r\n\t\t// console.log('YoutubeComponent.onPlayerReady', event);\r\n\t\tevent.target.mute();\r\n\t\tevent.target.playVideo();\r\n\t}\r\n\r\n\tonPlayerStateChange(event) {\r\n\t\t// console.log('YoutubeComponent.onPlayerStateChange', event.data);\r\n\t\tif (event.data === 1) {\r\n\t\t\tthis.playing = true;\r\n\t\t} else {\r\n\t\t\tthis.playing = false;\r\n\t\t}\r\n\t}\r\n\r\n\tonPlayerError(event) {\r\n\t\tconsole.log('YoutubeComponent.onPlayerError', event);\r\n\t}\r\n\r\n\tdestroyPlayer() {\r\n\t\tif (this.player) {\r\n\t\t\tthis.player.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.destroyPlayer();\r\n\t}\r\n\r\n\tinterval$() {\r\n\t\treturn interval(500).pipe(\r\n\t\t\tfilter(() => this.playing && this.player),\r\n\t\t\ttap(() => {\r\n\t\t\t\tthis.progress.style.strokeDashoffset =\r\n\t\t\t\t\tthis.player.getCurrentTime() / this.player.getDuration();\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\ttogglePlay() {\r\n\t\t// console.log('VideoComponent.togglePlay');\r\n\t\tif (this.playing) {\r\n\t\t\tthis.pause();\r\n\t\t} else {\r\n\t\t\tthis.play();\r\n\t\t}\r\n\t}\r\n\r\n\tplay() {\r\n\t\t// console.log('VideoComponent.play');\r\n\t\tif (!this.player) {\r\n\t\t\tthis.initPlayer();\r\n\t\t} else {\r\n\t\t\tthis.player.playVideo();\r\n\t\t}\r\n\t}\r\n\r\n\tpause() {\r\n\t\tif (!this.player) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.player.stopVideo();\r\n\t}\r\n\r\n\tstatic once$() {\r\n\t\tif (this.youtube$) {\r\n\t\t\treturn this.youtube$;\r\n\t\t} else {\r\n\t\t\tthis.youtube$ = new BehaviorSubject(null).pipe(\r\n\t\t\t\tfilter(youtube => youtube !== null)\r\n\t\t\t);\r\n\t\t\twindow.onYouTubeIframeAPIReady = this.onYouTubeIframeAPIReady_.bind(this);\r\n\t\t\tconst script = document.createElement('script');\r\n\t\t\tconst scripts = document.querySelectorAll('script');\r\n\t\t\tconst last = scripts[scripts.length - 1];\r\n\t\t\tlast.parentNode.insertBefore(script, last);\r\n\t\t\tscript.src = '//www.youtube.com/iframe_api';\r\n\t\t\treturn this.youtube$;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic onYouTubeIframeAPIReady_() {\r\n\t\t// console.log('onYouTubeIframeAPIReady');\r\n\t\tthis.youtube$.next(window.YT);\r\n\t}\r\n\r\n\tstatic mobilecheck() {\r\n\t\tlet check = false;\r\n\t\t(function(a) { if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true; })(navigator.userAgent || navigator.vendor || window.opera);\r\n\t\treturn check;\r\n\t}\r\n\r\n\tstatic mobileAndTabletcheck() {\r\n\t\tlet check = false;\r\n\t\t(function(a) { if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true; })(navigator.userAgent || navigator.vendor || window.opera);\r\n\t\treturn check;\r\n\t}\r\n\r\n}\r\n\r\nYoutubeComponent.MOBILE = YoutubeComponent.mobileAndTabletcheck();\r\n\r\nYoutubeComponent.meta = {\r\n\tselector: '[youtube]',\r\n\tinputs: ['youtubeId', 'title']\r\n};\r\n","import { CoreModule, Module } from 'rxcomp';\r\nimport { FormModule } from 'rxcomp-form';\r\nimport AppComponent from './app.component';\r\nimport ChannelPageComponent from './channel/channel-page.component';\r\nimport ChannelComponent from './channel/channel.component';\r\nimport DatePipe from './date/date.pipe';\r\nimport DropdownItemDirective from './dropdown/dropdown-item.directive';\r\nimport DropdownDirective from './dropdown/dropdown.directive';\r\nimport EventDateComponent from './event/event-date.component';\r\nimport EventComponent from './event/event.component';\r\nimport ErrorsComponent from './forms/errors.component';\r\nimport HtmlPipe from './html/html.pipe';\r\nimport IndexPageComponent from './index/index-page.component';\r\nimport LazyDirective from './lazy/lazy.directive';\r\nimport ModalOutletComponent from './modal/modal-outlet.component';\r\nimport ModalComponent from './modal/modal.component';\r\nimport RegisterOrLoginComponent from './register-or-login/register-or-login.component';\r\nimport RelativeDatePipe from './relative-date/relative-date.pipe';\r\nimport ScrollToDirective from './scroll-to/scroll-to.directive';\r\nimport SecureDirective from './secure/secure.directive';\r\nimport SwiperEventsDirective from './swiper/swiper-events.directive';\r\nimport SwiperSlidesDirective from './swiper/swiper-slides.directive';\r\nimport SwiperTopEventsDirective from './swiper/swiper-top-events.directive';\r\nimport SwiperDirective from './swiper/swiper.directive';\r\nimport VideoComponent from './video/video.component';\r\nimport VirtualStructure from './virtual/virtual.structure';\r\nimport YoutubeComponent from './youtube/youtube.component';\r\n\r\nexport default class AppModule extends Module {}\r\n\r\nAppModule.meta = {\r\n\timports: [\r\n\t\tCoreModule,\r\n\t\tFormModule,\r\n\t],\r\n\tdeclarations: [\r\n\t\tChannelComponent,\r\n\t\tChannelPageComponent,\r\n\t\tDatePipe,\r\n\t\tDropdownDirective,\r\n\t\tDropdownItemDirective,\r\n\t\tErrorsComponent,\r\n\t\tEventComponent,\r\n\t\tEventDateComponent,\r\n\t\tHtmlPipe,\r\n\t\tIndexPageComponent,\r\n\t\tLazyDirective,\r\n\t\tModalComponent,\r\n\t\tModalOutletComponent,\r\n\t\tRegisterOrLoginComponent,\r\n\t\tRelativeDatePipe,\r\n\t\tScrollToDirective,\r\n\t\tSecureDirective,\r\n\t\tSwiperDirective,\r\n\t\tSwiperEventsDirective,\r\n\t\tSwiperSlidesDirective,\r\n\t\tSwiperTopEventsDirective,\r\n\t\tVirtualStructure,\r\n\t\tVideoComponent,\r\n\t\tYoutubeComponent,\r\n\t],\r\n\tbootstrap: AppComponent,\r\n};\r\n","import { Browser } from 'rxcomp';\r\nimport AppModule from './app.module';\r\n\r\nBrowser.bootstrap(AppModule);\r\n"]}